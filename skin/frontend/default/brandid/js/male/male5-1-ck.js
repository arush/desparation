/**
 * @license AngularJS v1.0.2
 * (c) 2010-2012 Google, Inc. http://angularjs.org
 * License: MIT
 */(function(e,t,n){"use strict";function u(e){return String.fromCharCode(e)}function b(e,t,n){var r;if(e)if(j(e))for(r in e)r!="prototype"&&r!="length"&&r!="name"&&e.hasOwnProperty(r)&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==b)e.forEach(t,n);else if(_(e)&&P(e.length))for(r=0;r<e.length;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function w(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function E(e,t,n){var r=w(e);for(var i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function S(e){return function(t,n){e(n,t)}}function x(){var e=y.length,t;while(e){e--;t=y[e].charCodeAt(0);if(t==57){y[e]="A";return y.join("")}if(t!=90){y[e]=String.fromCharCode(t+1);return y.join("")}y[e]="0"}y.unshift("0");return y.join("")}function T(e){b(arguments,function(t){t!==e&&b(t,function(t,n){e[n]=t})});return e}function N(e){return parseInt(e,10)}function C(e,t){return T(new(T(function(){},{prototype:e})),t)}function k(){}function L(e){return e}function A(e){return function(){return e}}function O(e){return typeof e=="undefined"}function M(e){return typeof e!="undefined"}function _(e){return e!=null&&typeof e=="object"}function D(e){return typeof e=="string"}function P(e){return typeof e=="number"}function H(e){return d.apply(e)=="[object Date]"}function B(e){return d.apply(e)=="[object Array]"}function j(e){return typeof e=="function"}function F(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function I(e){return e&&e.$evalAsync&&e.$watch}function q(e){return d.apply(e)==="[object File]"}function R(e){return typeof e=="boolean"}function U(e){return D(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function z(e){return e&&(e.nodeName||e.bind&&e.find)}function W(e){var t={},n=e.split(","),r;for(r=0;r<n.length;r++)t[n[r]]=!0;return t}function X(e,t,n){var r=[];b(e,function(e,i,s){r.push(t.call(n,e,i,s))});return r}function V(e,t){var n=0,r;if(B(e)||D(e))return e.length;if(_(e))for(r in e)(!t||e.hasOwnProperty(r))&&n++;return n}function $(e,t){return J(e,t)!=-1}function J(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function K(e,t){var n=J(e,t);n>=0&&e.splice(n,1);return t}function Q(e){if(e)switch(e.nodeName){case"OPTION":case"PRE":case"TITLE":return!0}return!1}function G(e,t){if(F(e)||I(e))throw a("Can't copy Window or Scope");if(!t){t=e;e&&(B(e)?t=G(e,[]):H(e)?t=new Date(e.getTime()):_(e)&&(t=G(e,{})))}else{if(e===t)throw a("Can't copy equivalent objects or arrays");if(B(e)){while(t.length)t.pop();for(var n=0;n<e.length;n++)t.push(G(e[n]))}else{b(t,function(e,n){delete t[n]});for(var r in e)t[r]=G(e[r])}}return t}function Y(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&n.substr(0,2)!=="$$"&&(t[n]=e[n]);return t}function Z(e,t){if(e===t)return!0;if(e===null||t===null)return!1;if(e!==e&&t!==t)return!0;var n=typeof e,r=typeof t,i,s,o;if(n==r&&n=="object"){if(!B(e)){if(H(e))return H(t)&&e.getTime()==t.getTime();if(I(e)||I(t)||F(e)||F(t))return!1;o={};for(s in e){if(s.charAt(0)!=="$"&&!j(e[s])&&!Z(e[s],t[s]))return!1;o[s]=!0}for(s in t)if(!o[s]&&s.charAt(0)!=="$"&&!j(t[s]))return!1;return!0}if((i=e.length)==t.length){for(s=0;s<i;s++)if(!Z(e[s],t[s]))return!1;return!0}}return!1}function et(e,t,n){return e.concat(h.call(t,n))}function tt(e,t){return h.call(e,t||0)}function nt(e,t){var n=arguments.length>2?tt(arguments,2):[];return!j(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(h.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function rt(e,r){var i=r;/^\$+/.test(e)?i=n:F(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":I(r)&&(i="$SCOPE");return i}function it(e,t){return JSON.stringify(e,rt,t?"  ":null)}function st(e){return D(e)?JSON.parse(e):e}function ot(e){if(e&&e.length!==0){var t=r(""+e);e=t!="f"&&t!="0"&&t!="false"&&t!="no"&&t!="n"&&t!="[]"}else e=!1;return e}function ut(e){e=l(e).clone();try{e.html("")}catch(t){}return l("<div>").append(e).html().match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+r(t)})}function at(e){var t={},n,r;b((e||"").split("&"),function(e){if(e){n=e.split("=");r=decodeURIComponent(n[0]);t[r]=M(n[1])?decodeURIComponent(n[1]):!0}});return t}function ft(e){var t=[];b(e,function(e,n){t.push(ct(n,!0)+(e===!0?"":"="+ct(e,!0)))});return t.length?t.join("&"):""}function lt(e){return ct(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ct(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(t?null:/%20/g,"+")}function ht(e,n){function a(e){e&&r.push(e)}var r=[e],i,s,o=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;b(o,function(n){o[n]=!0;a(t.getElementById(n));n=n.replace(":","\\:");if(e.querySelectorAll){b(e.querySelectorAll("."+n),a);b(e.querySelectorAll("."+n+"\\:"),a);b(e.querySelectorAll("["+n+"]"),a)}});b(r,function(e){if(!i){var t=" "+e.className+" ",n=u.exec(t);if(n){i=e;s=(n[2]||"").replace(/\s+/g,",")}else b(e.attributes,function(t){if(!i&&o[t.name]){i=e;s=t.value}})}});i&&n(i,s?[s]:[])}function pt(e,t){e=l(e);t=t||[];t.unshift(["$provide",function(t){t.value("$rootElement",e)}]);t.unshift("ng");var n=sn(t);n.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r);n(t)(e)})}]);return n}function vt(e,t){t=t||"_";return e.replace(dt,function(e,n){return(n?t:"")+e.toLowerCase()})}function mt(){c=e.jQuery;if(c){l=c;T(c.fn,{scope:Xt.scope,controller:Xt.controller,injector:Xt.injector,inheritedData:Xt.inheritedData});Mt("remove",!0);Mt("empty");Mt("html")}else l=_t;v.element=l}function gt(e,t,n){if(!e)throw new a("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function yt(e,t,n){n&&B(e)&&(e=e[e.length-1]);gt(j(e),t,"not a function, got "+(e&&typeof e=="object"?e.constructor.name||"Object":typeof e));return e}function bt(e){function t(e,t,n){return e[t]||(e[t]=n())}return t(t(e,"angular",Object),"module",function(){var e={};return function(r,i,s){i&&e.hasOwnProperty(r)&&(e[r]=null);return t(e,r,function(){function u(t,n,r){return function(){e[r||"push"]([t,n,arguments]);return o}}if(!i)throw a("No module: "+r);var e=[],t=[],n=u("$injector","invoke"),o={_invokeQueue:e,_runBlocks:t,requires:i,name:r,provider:u("$provide","provider"),factory:u("$provide","factory"),service:u("$provide","service"),value:u("$provide","value"),constant:u("$provide","constant","unshift"),filter:u("$filterProvider","register"),controller:u("$controllerProvider","register"),directive:u("$compileProvider","directive"),config:n,run:function(e){t.push(e);return this}};s&&n(s);return o})}})}function Et(t){T(t,{bootstrap:pt,copy:G,extend:T,equals:Z,element:l,forEach:b,injector:sn,noop:k,bind:nt,toJson:it,fromJson:st,identity:L,isUndefined:O,isDefined:M,isString:D,isFunction:j,isObject:_,isNumber:P,isElement:z,isArray:B,version:wt,isDate:H,lowercase:r,uppercase:i,callbacks:{counter:0}});m=bt(e);try{m("ngLocale")}catch(n){m("ngLocale",[]).provider("$locale",lr)}m("ng",["ngLocale"],["$provide",function(t){t.provider("$compile",hn).directive({a:Dr,input:Gr,textarea:Gr,form:Fr,script:Hi,select:ji,style:Ii,option:Fi,ngBind:fi,ngBindHtmlUnsafe:ci,ngBindTemplate:li,ngClass:pi,ngClassEven:vi,ngClassOdd:di,ngCsp:yi,ngCloak:mi,ngController:gi,ngForm:Ir,ngHide:ki,ngInclude:Ei,ngInit:Si,ngNonBindable:xi,ngPluralize:Ti,ngRepeat:Ni,ngShow:Ci,ngSubmit:wi,ngStyle:Li,ngSwitch:Oi,ngSwitchWhen:Mi,ngSwitchDefault:_i,ngOptions:Bi,ngView:Pi,ngTransclude:Di,ngModel:ri,ngList:oi,ngChange:ii,required:si,ngRequired:si,ngValue:ai}).directive(Pr).directive(bi);t.provider({$anchorScroll:on,$browser:an,$cacheFactory:fn,$controller:gn,$document:yn,$exceptionHandler:bn,$filter:hr,$interpolate:wn,$http:or,$httpBackend:ar,$location:jn,$log:Fn,$parse:Jn,$route:Gn,$routeParams:Yn,$rootScope:Zn,$q:Kn,$sniffer:er,$templateCache:ln,$timeout:cr,$window:tr})}])}function kt(){return++Tt}function Ot(e){return e.replace(Lt,function(e,t,n,r){return r?n.toUpperCase():n}).replace(At,"Moz$1")}function Mt(e,t){function r(){var e=[this],r=t,i,s,o,u,a,f,h,p,d;while(e.length){i=e.shift();for(s=0,o=i.length;s<o;s++){u=l(i[s]);if(r){d=u.data("events");(p=d&&d.$destroy)&&b(p,function(e){e.handler()})}else r=!r;for(a=0,f=(h=u.children()).length;a<f;a++)e.push(c(h[a]))}}return n.apply(this,arguments)}var n=c.fn[e];n=n.$original||n;r.$original=n;c.fn[e]=r}function _t(e){if(e instanceof _t)return e;if(!(this instanceof _t)){if(D(e)&&e.charAt(0)!="<")throw a("selectors not implemented");return new _t(e)}if(D(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e;n.removeChild(n.firstChild);Ut(this,n.childNodes);this.remove()}else Ut(this,e)}function Dt(e){return e.cloneNode(!0)}function Pt(e){Bt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)Pt(n[t])}function Ht(e,t,n){var r=jt(e,"events"),i=jt(e,"handle");if(!i)return;if(O(t))b(r,function(t,n){Ct(e,n,t);delete r[n]});else if(O(n)){Ct(e,t,r[t]);delete r[t]}else K(r[t],n)}function Bt(e){var t=e[xt],r=St[t];if(r){if(r.handle){r.events.$destroy&&r.handle({},"$destroy");Ht(e)}delete St[t];e[xt]=n}}function jt(e,t,n){var r=e[xt],i=St[r||-1];if(!M(n))return i&&i[t];if(!i){e[xt]=r=kt();i=St[r]={}}i[t]=n}function Ft(e,t,n){var r=jt(e,"data"),i=M(n),s=!i&&M(t),o=s&&!_(t);!r&&!o&&jt(e,"data",r={});if(i)r[t]=n;else{if(!s)return r;if(o)return r&&r[t];T(r,t)}}function It(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function qt(e,t){t&&b(t.split(" "),function(t){e.className=U((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+U(t)+" "," "))})}function Rt(e,t){t&&b(t.split(" "),function(t){It(e,t)||(e.className=U(e.className+" "+U(t)))})}function Ut(e,t){if(t){t=!t.nodeName&&M(t.length)&&!F(t)?t:[t];for(var n=0;n<t.length;n++)e.push(t[n])}}function zt(e,t){return Wt(e,"$"+(t||"ngController")+"Controller")}function Wt(e,t,n){e=l(e);e[0].nodeType==9&&(e=e.find("html"));while(e.length){if(n=e.data(t))return n;e=e.parent()}}function Jt(e,t){var n=Vt[t.toLowerCase()];return n&&$t[e.nodeName]&&n}function Kt(e,n){var r=function(r,i){r.preventDefault||(r.preventDefault=function(){r.returnValue=!1});r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0});r.target||(r.target=r.srcElement||t);if(O(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0;s.call(r)};r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented};b(n[i||r.type],function(t){t.call(e,r)});if(f<=8){r.preventDefault=null;r.stopPropagation=null;r.isDefaultPrevented=null}else{delete r.preventDefault;delete r.stopPropagation;delete r.isDefaultPrevented}};r.elem=e;return r}function Qt(e){var t=typeof e,r;t=="object"&&e!==null?typeof (r=e.$$hashKey)=="function"?r=e.$$hashKey():r===n&&(r=e.$$hashKey=x()):r=e;return t+":"+r}function Gt(e){b(e,this.put,this)}function Yt(){}function rn(e){var t,n,r,i;if(typeof e=="function"){if(!(t=e.$inject)){t=[];n=e.toString().replace(nn,"");r=n.match(Zt);b(r[1].split(en),function(e){e.replace(tn,function(e,n,r){t.push(r)})});e.$inject=t}}else if(B(e)){i=e.length-1;yt(e[i],"fn");t=e.slice(0,i)}else yt(e,"fn",!0);return t}function sn(e){function l(e){return function(t,n){if(!_(t))return e(t,n);b(t,S(e))}}function c(e,t){j(t)&&(t=o.instantiate(t));if(!t.$get)throw a("Provider "+e+" must define $get factory method.");return s[e+n]=t}function h(e,t){return c(e,{$get:t})}function p(e,t){return h(e,["$injector",function(e){return e.instantiate(t)}])}function d(e,t){return h(e,A(t))}function v(e,t){s[e]=t;u[e]=t}function g(e,t){var r=o.get(e+n),i=r.$get;r.$get=function(){var e=f.invoke(i,r);return f.invoke(t,null,{$delegate:e})}}function y(e){var t=[];b(e,function(e){if(i.get(e))return;i.put(e,!0);if(D(e)){var n=m(e);t=t.concat(y(n.requires)).concat(n._runBlocks);try{for(var r=n._invokeQueue,s=0,u=r.length;s<u;s++){var a=r[s],f=a[0]=="$injector"?o:o.get(a[0]);f[a[1]].apply(f,a[2])}}catch(l){l.message&&(l.message+=" from "+e);throw l}}else if(j(e))try{t.push(o.invoke(e))}catch(l){l.message&&(l.message+=" from "+e);throw l}else if(B(e))try{t.push(o.invoke(e))}catch(l){l.message&&(l.message+=" from "+String(e[e.length-1]));throw l}else yt(e,"module")});return t}function w(e,n){function i(i){if(typeof i!="string")throw a("Service name expected");if(e.hasOwnProperty(i)){if(e[i]===t)throw a("Circular dependency: "+r.join(" <- "));return e[i]}try{r.unshift(i);e[i]=t;return e[i]=n(i)}finally{r.shift()}}function s(e,t,n){var s=[],o=rn(e),u,a,f;for(a=0,u=o.length;a<u;a++){f=o[a];s.push(n&&n.hasOwnProperty(f)?n[f]:i(f,r))}e.$inject||(e=e[u]);switch(t?-1:s.length){case 0:return e();case 1:return e(s[0]);case 2:return e(s[0],s[1]);case 3:return e(s[0],s[1],s[2]);case 4:return e(s[0],s[1],s[2],s[3]);case 5:return e(s[0],s[1],s[2],s[3],s[4]);case 6:return e(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6]);case 8:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);case 9:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8]);case 10:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]);default:return e.apply(t,s)}}function o(e,t){var n=function(){},r,i;n.prototype=(B(e)?e[e.length-1]:e).prototype;r=new n;i=s(e,r,t);return _(i)?i:r}return{invoke:s,instantiate:o,get:i,annotate:rn}}var t={},n="Provider",r=[],i=new Gt,s={$provide:{provider:l(c),factory:l(h),service:l(p),value:l(d),constant:l(v),decorator:g}},o=w(s,function(){throw a("Unknown provider: "+r.join(" <- "))}),u={},f=u.$injector=w(u,function(e){var t=o.get(e+n);return f.invoke(t.$get,t)});b(y(e),function(e){f.invoke(e||k)});return f}function on(){var e=!0;this.disableAutoScrolling=function(){e=!1};this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;b(e,function(e){!t&&r(e.nodeName)==="a"&&(t=e)});return t}function u(){var e=n.hash(),r;e?(r=s.getElementById(e))?r.scrollIntoView():(r=o(s.getElementsByName(e)))?r.scrollIntoView():e==="top"&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(u)});return u}]}function un(e,t,r,i){function v(e){try{e.apply(null,tt(arguments,1))}finally{p--;if(p===0)while(d.length)try{d.pop()()}catch(t){r.error(t)}}}function y(e,t){(function n(){b(m,function(e){e()});g=t(n,e)})()}function T(){if(w==s.url())return;w=s.url();b(S,function(e){e(s.url())})}var s=this,o=t[0],u=e.location,a=e.history,f=e.setTimeout,c=e.clearTimeout,h={};s.isMock=!1;var p=0,d=[];s.$$completeOutstandingRequest=v;s.$$incOutstandingRequestCount=function(){p++};s.notifyWhenNoOutstandingRequests=function(e){b(m,function(e){e()});p===0?e():d.push(e)};var m=[],g;s.addPollFn=function(e){O(g)&&y(100,f);m.push(e);return e};var w=u.href,E=t.find("base");s.url=function(e,t){if(e){if(w==e)return;w=e;if(i.history)if(t)a.replaceState(null,"",e);else{a.pushState(null,"",e);E.attr("href",E.attr("href"))}else t?u.replace(e):u.href=e;return s}return u.href.replace(/%27/g,"'")};var S=[],x=!1;s.onUrlChange=function(t){if(!x){i.history&&l(e).bind("popstate",T);i.hashchange?l(e).bind("hashchange",T):s.addPollFn(T);x=!0}S.push(t);return t};s.baseHref=function(){var e=E.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):e};var N={},C="",L=s.baseHref();s.cookies=function(e,t){var i,s,u,a,f;if(!e){if(o.cookie!==C){C=o.cookie;s=C.split("; ");N={};for(a=0;a<s.length;a++){u=s[a];f=u.indexOf("=");f>0&&(N[unescape(u.substring(0,f))]=unescape(u.substring(f+1)))}}return N}if(t===n)o.cookie=escape(e)+"=;path="+L+";expires=Thu, 01 Jan 1970 00:00:00 GMT";else if(D(t)){i=(o.cookie=escape(e)+"="+escape(t)+";path="+L).length+1;i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!");N.length>20&&r.warn("Cookie '"+e+"' possibly not set or overflowed because too many cookies "+"were already set ("+N.length+" > 20 )")}};s.defer=function(e,t){var n;p++;n=f(function(){delete h[n];v(e)},t||0);h[n]=!0;return n};s.defer.cancel=function(e){if(h[e]){delete h[e];c(e);v(k);return!0}return!1}}function an(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new un(e,r,t,n)}]}function fn(){this.$get=function(){function t(t,n){function c(e){if(e!=f){l?l==e&&(l=e.n):l=e;h(e.n,e.p);h(e,f);f=e;f.n=null}}function h(e,t){if(e!=t){e&&(e.p=t);t&&(t.n=e)}}if(t in e)throw a("cacheId "+t+" taken");var r=0,i=T({},n,{id:t}),s={},o=n&&n.capacity||Number.MAX_VALUE,u={},f=null,l=null;return e[t]={put:function(e,t){var n=u[e]||(u[e]={key:e});c(n);if(O(t))return;e in s||r++;s[e]=t;r>o&&this.remove(l.key)},get:function(e){var t=u[e];if(!t)return;c(t);return s[e]},remove:function(e){var t=u[e];t==f&&(f=t.p);t==l&&(l=t.n);h(t.n,t.p);delete u[e];delete s[e];r--},removeAll:function(){s={};r=0;u={};f=l=null},destroy:function(){s=null;i=null;u=null;delete e[t]},info:function(){return T({},i,{size:r})}}}var e={};t.info=function(){var t={};b(e,function(e,n){t[n]=e.info()});return t};t.get=function(t){return e[t]};return t}}function ln(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function hn(e){var t={},r="Directive",i=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,s=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,o="Template must have exactly one root element. was: ";this.directive=function u(n,i){if(D(n)){gt(i,"directive");if(!t.hasOwnProperty(n)){t[n]=[];e.factory(n+r,["$injector","$exceptionHandler",function(e,r){var i=[];b(t[n],function(t){try{var s=e.invoke(t);j(s)?s={compile:A(s)}:!s.compile&&s.link&&(s.compile=A(s.link));s.priority=s.priority||0;s.name=s.name||n;s.require=s.require||s.controller&&s.name;s.restrict=s.restrict||"A";i.push(s)}catch(o){r(o)}});return i}])}t[n].push(i)}else b(n,S(u));return this};this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope",function(e,u,c,h,p,d,v,m){function x(e,t,n){e instanceof l||(e=l(e));b(e,function(t,n){t.nodeType==3&&(e[n]=l(t).wrap("<span></span>").parent()[0])});var r=k(e,t,e,n);return function(t,n){gt(t,"scope");var i=n?Xt.clone.call(e):e;i.data("$scope",t);C(i,"ng-scope");n&&n(i,t);r&&r(t,i,i);return i}}function N(e,t){throw a("Unsupported '"+t+"' for '"+e+"'.")}function C(e,t){try{e.addClass(t)}catch(n){}}function k(e,t,r,i){function p(e,r,i,o){var u,a,f,c,h;for(var p=0,d=0,v=s.length;p<v;d++){f=r[d];u=s[p++];a=s[p++];if(u){if(u.scope){c=e.$new(_(u.scope));l(f).data("$scope",c)}else c=e;h=u.transclude;h||!o&&t?u(a,c,f,i,function(t){return function(n){var r=e.$new();return t(r,n).bind("$destroy",nt(r,r.$destroy))}}(h||t)):u(a,c,f,n,o)}else a&&a(e,f.childNodes,n,o)}}var s=[],o,u,a,f,c;for(var h=0;h<e.length;h++){f=new y;a=O(e[h],[],f,i);o=a.length?M(a,e[h],f,t,r):null;u=o&&o.terminal?null:k(e[h].childNodes,o?o.transclude:t);s.push(o);s.push(u);c=c||o||u}return c?p:null}function O(e,t,n,r){var o=e.nodeType,u=n.$attr,a,l;switch(o){case 1:P(t,dn(g(e).toLowerCase()),"E",r);for(var c,h,p,d,v=e.attributes,m=0,y=v&&v.length;m<y;m++){c=v[m];if(c.specified){h=c.name;p=dn(h.toLowerCase());u[p]=h;n[p]=d=U(f&&h=="href"?decodeURIComponent(e.getAttribute(h,2)):c.value);Jt(e,p)&&(n[p]=!0);z(e,t,d,p);P(t,p,"A",r)}}l=e.className;if(D(l))while(a=s.exec(l)){p=dn(a[2]);P(t,p,"C",r)&&(n[p]=U(a[3]));l=l.substr(a.index+a[0].length)}break;case 3:R(t,e.nodeValue);break;case 8:try{a=i.exec(e.nodeValue);if(a){p=dn(a[1]);P(t,p,"M",r)&&(n[p]=U(a[2]))}}catch(b){}}t.sort(I);return t}function M(e,t,r,i,s){function V(e,t){if(e){e.require=E.require;f.push(e)}if(t){t.require=E.require;h.push(t)}}function $(e,t){var n,r="data",i=!1;if(D(e)){while((n=e.charAt(0))=="^"||n=="?"){e=e.substr(1);n=="^"&&(r="inheritedData");i=i||n=="?"}n=t[r]("$"+e+"Controller");if(!n&&!i)throw a("No controller: "+e);return n}if(B(e)){n=[];b(e,function(e){n.push($(e,t))})}return n}function J(e,i,s,o,u){var m,g,w,E,S,x;t===s?m=r:m=Y(r,new y(l(s),r.$attr));g=m.$$element;if(p&&_(p.scope)){var T=/^\s*([@=&])\s*(\w*)\s*$/,N=i.$parent||i;b(p.scope,function(e,t){var n=e.match(T)||[],r=n[2]||t,s=n[1],o,u,f;switch(s){case"@":m.$observe(r,function(e){i[t]=e});m.$$observers[r].$$scope=N;break;case"=":u=d(m[r]);f=u.assign||function(){o=i[t]=u(N);throw a(cn+m[r]+" (directive: "+p.name+")")};o=i[t]=u(N);i.$watch(function(){var e=u(N);e!==i[t]&&(e!==o?o=i[t]=e:f(N,o=i[t]));return e});break;case"&":u=d(m[r]);i[t]=function(e){return u(N,e)};break;default:throw a("Invalid isolate scope definition for directive "+p.name+": "+e)}})}A&&b(A,function(e){var t={$scope:i,$element:g,$attrs:m,$transclude:u};x=e.controller;x=="@"&&(x=m[e.name]);g.data("$"+e.name+"Controller",v(x,t))});for(w=0,E=f.length;w<E;w++)try{S=f[w];S(i,g,m,S.require&&$(S.require,g))}catch(C){c(C,ut(g))}e&&e(i,s.childNodes,n,u);for(w=0,E=h.length;w<E;w++)try{S=h[w];S(i,g,m,S.require&&$(S.require,g))}catch(C){c(C,ut(g))}}var u=-Number.MAX_VALUE,f=[],h=[],p=null,m=null,g=null,w=r.$$element=l(t),E,T,N,k,L=i,A,M,P;for(var I=0,R=e.length;I<R;I++){E=e[I];N=n;if(u>E.priority)break;if(P=E.scope){q("isolated scope",m,E,w);if(_(P)){C(w,"ng-isolate-scope");m=E}C(w,"ng-scope");p=p||E}T=E.name;if(P=E.controller){A=A||{};q("'"+T+"' controller",A[T],E,w);A[T]=E}if(P=E.transclude){q("transclusion",k,E,w);k=E;u=E.priority;if(P=="element"){N=l(t);w=r.$$element=l("<!-- "+T+": "+r[T]+" -->");t=w[0];W(s,l(N[0]),t);L=x(N,i,u)}else{N=l(Dt(t)).contents();w.html("");L=x(N,i)}}if(P=E.template){q("template",g,E,w);g=E;P=S(P);if(E.replace){N=l("<div>"+U(P)+"</div>").contents();t=N[0];if(N.length!=1||t.nodeType!==1)throw new a(o+P);W(s,w,t);var z={$attr:{}};e=e.concat(O(t,e.splice(I+1,e.length-(I+1)),z));H(r,z);R=e.length}else w.html(P)}if(E.templateUrl){q("template",g,E,w);g=E;J=F(e.splice(I,e.length-I),J,w,r,s,E.replace,L);R=e.length}else if(E.compile)try{M=E.compile(w,r,L);j(M)?V(null,M):M&&V(M.pre,M.post)}catch(X){c(X,ut(w))}if(E.terminal){J.terminal=!0;u=Math.max(u,E.priority)}}J.scope=p&&p.scope;J.transclude=k&&L;return J}function P(i,s,o,u){var a=!1;if(t.hasOwnProperty(s))for(var f,l=e.get(s+r),h=0,p=l.length;h<p;h++)try{f=l[h];if((u===n||u>f.priority)&&f.restrict.indexOf(o)!=-1){i.push(f);a=!0}}catch(d){c(d)}return a}function H(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;b(e,function(r,i){if(i.charAt(0)!="$"){t[i]&&(r+=(i==="style"?";":" ")+t[i]);e.$set(i,r,!0,n[i])}});b(t,function(t,s){if(s=="class"){C(i,t);e["class"]=(e["class"]?e["class"]+" ":"")+t}else if(s=="style")i.attr("style",i.attr("style")+";"+t);else if(s.charAt(0)!="$"&&!e.hasOwnProperty(s)){e[s]=t;r[s]=n[s]}})}function F(e,t,n,r,i,s,u){var f=[],c,d,v=n[0],m=e.shift(),g=T({},m,{controller:null,templateUrl:null,transclude:null});n.html("");h.get(m.templateUrl,{cache:p}).success(function(h){var p,m,y;h=S(h);if(s){y=l("<div>"+U(h)+"</div>").contents();p=y[0];if(y.length!=1||p.nodeType!==1)throw new a(o+h);m={$attr:{}};W(i,n,p);O(p,e,m);H(r,m)}else{p=v;n.html(h)}e.unshift(g);c=M(e,n,r,u);d=k(n.contents(),u);while(f.length){var b=f.pop(),w=f.pop(),E=f.pop(),x=f.pop(),T=p;if(E!==v){T=Dt(p);W(w,l(E),T)}c(function(){t(d,x,T,i,b)},x,T,i,b)}f=null}).error(function(e,t,n,r){throw a("Failed to load template: "+r.url)});return function(n,r,i,s,o){if(f){f.push(r);f.push(i);f.push(s);f.push(o)}else c(function(){t(d,r,i,s,o)},r,i,s,o)}}function I(e,t){return t.priority-e.priority}function q(e,t,n,r){if(t)throw a("Multiple directives ["+t.name+", "+n.name+"] asking for "+e+" on: "+ut(r))}function R(e,t){var n=u(t,!0);n&&e.push({priority:0,compile:A(function(e,t){var r=t.parent(),i=r.data("$binding")||[];i.push(n);C(r.data("$binding",i),"ng-binding");e.$watch(n,function(e){t[0].nodeValue=e})})})}function z(e,t,r,i){var s=u(r,!0);if(!s)return;t.push({priority:100,compile:A(function(e,t,r){var o=r.$$observers||(r.$$observers={});i==="class"&&(s=u(r[i],!0));r[i]=n;(o[i]||(o[i]=[])).$$inter=!0;(r.$$observers&&r.$$observers[i].$$scope||e).$watch(s,function(e){r.$set(i,e)})})})}function W(e,t,n){var r=t[0],i=r.parentNode,s,o;if(e)for(s=0,o=e.length;s<o;s++)if(e[s]==r){e[s]=n;break}i&&i.replaceChild(n,r);n[l.expando]=r[l.expando];t[0]=n}var y=function(e,t){this.$$element=e;this.$attr=t||{}};y.prototype={$normalize:dn,$set:function(e,t,r,i){var s=Jt(this.$$element[0],e),o=this.$$observers;if(s){this.$$element.prop(e,t);i=s}this[e]=t;if(i)this.$attr[e]=i;else{i=this.$attr[e];i||(this.$attr[e]=i=vt(e,"-"))}r!==!1&&(t===null||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t));o&&b(o[e],function(e){try{e(t)}catch(n){c(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);i.push(t);m.$evalAsync(function(){i.$$inter||t(n[e])});return t}};var w=u.startSymbol(),E=u.endSymbol(),S=w=="{{"||E=="}}"?L:function(t){return t.replace(/\{\{/g,w).replace(/}}/g,E)};return x}]}function dn(e){return Ot(e.replace(pn,""))}function vn(e,t,n,r){}function mn(e,t,n,r,i){}function gn(){var e={};this.register=function(t,n){_(t)?T(e,t):e[t]=n};this.$get=["$injector","$window",function(t,n){return function(r,i){if(D(r)){var s=r;r=e.hasOwnProperty(s)?e[s]:Wn(i.$scope,s,!0)||Wn(n,s,!0);yt(r,s,!0)}return t.instantiate(r,i)}}]}function yn(){this.$get=["$window",function(e){return l(e.document)}]}function bn(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function wn(){var e="{{",t="}}";this.startSymbol=function(t){if(t){e=t;return this}return e};this.endSymbol=function(e){if(e){t=e;return this}return t};this.$get=["$parse",function(r){function o(o,u){var a,f,l=0,c=[],h=o.length,p=!1,d,v,m=[];while(l<h)if((a=o.indexOf(e,l))!=-1&&(f=o.indexOf(t,a+i))!=-1){l!=a&&c.push(o.substring(l,a));c.push(d=r(v=o.substring(a+i,f)));d.exp=v;l=f+s;p=!0}else{l!=h&&c.push(o.substring(l));l=h}if(!(h=c.length)){c.push("");h=1}if(!u||p){m.length=h;d=function(e){for(var t=0,r=h,i;t<r;t++){if(typeof (i=c[t])=="function"){i=i(e);i==null||i==n?i="":typeof i!="string"&&(i=it(i))}m[t]=i}return m.join("")};d.exp=o;d.parts=c;return d}}var i=e.length,s=t.length;o.startSymbol=function(){return e};o.endSymbol=function(){return t};return o}]}function Nn(e){var t=e.split("/"),n=t.length;while(n--)t[n]=lt(t[n]);return t.join("/")}function Cn(e){return e.split("#")[0]}function kn(e,t){var n=En.exec(e);n={protocol:n[1],host:n[3],port:N(n[5])||Tn[n[1]]||null,path:n[6]||"/",search:n[8],hash:n[10]};if(t){t.$$protocol=n.protocol;t.$$host=n.host;t.$$port=n.port}return n}function Ln(e,t,n){return e+"://"+t+(n==Tn[e]?"":":"+n)}function An(e){return e.substr(0,e.lastIndexOf("/"))}function On(e,t,n){var r=kn(e);return decodeURIComponent(r.path)!=t||O(r.hash)||r.hash.indexOf(n)!==0?e:Ln(r.protocol,r.host,r.port)+An(t)+r.hash.substr(n.length)}function Mn(e,t,n){var r=kn(e);if(decodeURIComponent(r.path)==t)return e;var i=r.search&&"?"+r.search||"",s=r.hash&&"#"+r.hash||"",o=An(t),u=r.path.substr(o.length);if(r.path.indexOf(o)!==0)throw a('Invalid url "'+e+'", missing path prefix "'+o+'" !');return Ln(r.protocol,r.host,r.port)+t+"#"+n+u+i+s}function _n(e,t,n){t=t||"";this.$$parse=function(e){var n=kn(e,this);if(n.path.indexOf(t)!==0)throw a('Invalid url "'+e+'", missing path prefix "'+t+'" !');this.$$path=decodeURIComponent(n.path.substr(t.length));this.$$search=at(n.search);this.$$hash=n.hash&&decodeURIComponent(n.hash)||"";this.$$compose()};this.$$compose=function(){var e=ft(this.$$search),n=this.$$hash?"#"+lt(this.$$hash):"";this.$$url=Nn(this.$$path)+(e?"?"+e:"")+n;this.$$absUrl=Ln(this.$$protocol,this.$$host,this.$$port)+t+this.$$url};this.$$rewriteAppUrl=function(e){if(e.indexOf(n)==0)return e};this.$$parse(e)}function Dn(e,t,n){var r;this.$$parse=function(e){var n=kn(e,this);if(n.hash&&n.hash.indexOf(t)!==0)throw a('Invalid url "'+e+'", missing hash prefix "'+t+'" !');r=n.path+(n.search?"?"+n.search:"");n=xn.exec((n.hash||"").substr(t.length));n[1]?this.$$path=(n[1].charAt(0)=="/"?"":"/")+decodeURIComponent(n[1]):this.$$path="";this.$$search=at(n[3]);this.$$hash=n[5]&&decodeURIComponent(n[5])||"";this.$$compose()};this.$$compose=function(){var e=ft(this.$$search),n=this.$$hash?"#"+lt(this.$$hash):"";this.$$url=Nn(this.$$path)+(e?"?"+e:"")+n;this.$$absUrl=Ln(this.$$protocol,this.$$host,this.$$port)+r+(this.$$url?"#"+t+this.$$url:"")};this.$$rewriteAppUrl=function(e){if(e.indexOf(n)==0)return e};this.$$parse(e)}function Pn(e,t,n,r){Dn.apply(this,arguments);this.$$rewriteAppUrl=function(e){if(e.indexOf(n)==0)return n+r+"#"+t+e.substr(n.length)}}function Hn(e){return function(){return this[e]}}function Bn(e,t){return function(n){if(O(n))return this[e];this[e]=t(n);this.$$compose();return this}}function jn(){var t="",n=!1;this.hashPrefix=function(e){if(M(e)){t=e;return this}return t};this.html5Mode=function(e){if(M(e)){n=e;return this}return n};this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,s,o,u){function m(e){i.$broadcast("$locationChangeSuccess",a.absUrl(),e)}var a,f,c,h=s.url(),p=kn(h),d;if(n){f=s.baseHref()||"/";c=An(f);d=Ln(p.protocol,p.host,p.port)+c+"/";o.history?a=new _n(On(h,f,t),c,d):a=new Pn(Mn(h,f,t),t,d,f.substr(c.length+1))}else{d=Ln(p.protocol,p.host,p.port)+(p.path||"")+(p.search?"?"+p.search:"")+"#"+t+"/";a=new Dn(h,t,d)}u.bind("click",function(t){if(t.ctrlKey||t.metaKey||t.which==2)return;var n=l(t.target);while(r(n[0].nodeName)!=="a")if(n[0]===u[0]||!(n=n.parent())[0])return;var s=n.prop("href"),o=a.$$rewriteAppUrl(s);if(s&&!n.attr("target")&&o){a.$$parse(o);i.$apply();t.preventDefault();e.angular["ff-684208-preventDefault"]=!0}});a.absUrl()!=h&&s.url(a.absUrl(),!0);s.onUrlChange(function(e){if(a.absUrl()!=e){i.$evalAsync(function(){var t=a.absUrl();a.$$parse(e);m(t)});i.$$phase||i.$digest()}});var v=0;i.$watch(function(){var t=s.url();if(!v||t!=a.absUrl()){v++;i.$evalAsync(function(){if(i.$broadcast("$locationChangeStart",a.absUrl(),t).defaultPrevented)a.$$parse(t);else{s.url(a.absUrl(),a.$$replace);a.$$replace=!1;m(t)}})}return v});return a}]}function Fn(){this.$get=["$window",function(e){function t(e){e instanceof a&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line));return e}function n(n){var r=e.console||{},i=r[n]||r.log||k;return i.apply?function(){var e=[];b(arguments,function(n){e.push(t(n))});return i.apply(r,e)}:function(e,t){i(e,t)}}return{log:n("log"),warn:n("warn"),info:n("info"),error:n("error")}}]}function Rn(e,t){function p(e){return e.indexOf(u)!=-1}function d(e){return e.indexOf(f)!=-1}function v(){return s+1<e.length?e.charAt(s+1):!1}function m(e){return"0"<=e&&e<="9"}function g(e){return e==" "||e=="\r"||e=="	"||e=="\n"||e==""||e==" "}function y(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"==e||e=="$"}function b(e){return e=="-"||e=="+"||m(e)}function w(t,n,r){r=r||s;throw a("Lexer Error: "+t+" at column"+(M(n)?"s "+n+"-"+s+" ["+e.substring(n,r)+"]":" "+r)+" in expression ["+e+"].")}function E(){var t="",i=s;while(s<e.length){var o=r(e.charAt(s));if(o=="."||m(o))t+=o;else{var u=v();if(o=="e"&&b(u))t+=o;else if(b(o)&&u&&m(u)&&t.charAt(t.length-1)=="e")t+=o;else{if(!b(o)||!!u&&!!m(u)||t.charAt(t.length-1)!="e")break;w("Invalid exponent")}}s++}t=1*t;n.push({index:i,text:t,json:!0,fn:function(){return t}})}function S(){var r="",i=s,o,u,a;while(s<e.length){var f=e.charAt(s);if(f!="."&&!y(f)&&!m(f))break;f=="."&&(o=s);r+=f;s++}if(o){u=s;while(u<e.length){var f=e.charAt(u);if(f=="("){a=r.substr(o-i+1);r=r.substr(0,o-i);s=u;break}if(!g(f))break;u++}}var l={index:i,text:r};if(In.hasOwnProperty(r))l.fn=l.json=In[r];else{var c=$n(r,t);l.fn=T(function(e,t){return c(e,t)},{assign:function(e,t){return zn(e,r,t)}})}n.push(l);if(a){n.push({index:o,text:".",json:!1});n.push({index:o+1,text:a,json:!1})}}function x(t){var r=s;s++;var i="",o=t,u=!1;while(s<e.length){var a=e.charAt(s);o+=a;if(u){if(a=="u"){var f=e.substring(s+1,s+5);f.match(/[\da-f]{4}/i)||w("Invalid unicode escape [\\u"+f+"]");s+=4;i+=String.fromCharCode(parseInt(f,16))}else{var l=qn[a];l?i+=l:i+=a}u=!1}else if(a=="\\")u=!0;else{if(a==t){s++;n.push({index:r,text:o,string:i,json:!0,fn:function(){return i}});return}i+=a}s++}w("Unterminated quote",r)}var n=[],i,s=0,o=[],u,f=":";while(s<e.length){u=e.charAt(s);if(p("\"'"))x(u);else if(m(u)||p(".")&&m(v()))E();else if(y(u)){S();d("{,")&&o[0]=="{"&&(i=n[n.length-1])&&(i.json=i.text.indexOf(".")==-1)}else if(p("(){}[].,;:")){n.push({index:s,text:u,json:d(":[,")&&p("{[")||p("}]:,")});p("{[")&&o.unshift(u);p("}]")&&o.shift();s++}else{if(g(u)){s++;continue}var l=u+v(),c=In[u],h=In[l];if(h){n.push({index:s,text:l,fn:h});s+=2}else if(c){n.push({index:s,text:u,fn:c,json:d("[,:")&&p("+-")});s+=1}else w("Unexpected next character ",s,s+1)}f=u}return n}function Un(e,t,r,i){function d(t,n){throw a("Syntax Error: Token '"+n.text+"' "+t+" at column "+(n.index+1)+" of the expression ["+e+"] starting at ["+e.
substring(n.index)+"].")}function v(){if(u.length===0)throw a("Unexpected end of expression: "+e);return u[0]}function m(e,t,n,r){if(u.length>0){var i=u[0],s=i.text;if(s==e||s==t||s==n||s==r||!e&&!t&&!n&&!r)return i}return!1}function g(e,n,r,i){var s=m(e,n,r,i);if(s){t&&!s.json&&d("is not valid json",s);u.shift();return s}return!1}function y(e){g(e)||d("is unexpected, expecting ["+e+"]",m())}function b(e,t){return function(n,r){return e(n,r,t)}}function w(e,t,n){return function(r,i){return t(r,i,e,n)}}function E(){var e=[];for(;;){u.length>0&&!m("}",")",";","]")&&e.push(p());if(!g(";"))return e.length==1?e[0]:function(t,n){var r;for(var i=0;i<e.length;i++){var s=e[i];s&&(r=s(t,n))}return r}}}function S(){var e=N(),t;for(;;){if(!(t=g("|")))return e;e=w(e,t.fn,x())}}function x(){var e=g(),t=r(e.text),n=[];for(;;){if(!(e=g(":"))){var i=function(e,r,i){var s=[i];for(var o=0;o<n.length;o++)s.push(n[o](e,r));return t.apply(e,s)};return function(){return i}}n.push(N())}}function N(){return f()}function C(){var t=L(),n,r;if(r=g("=")){t.assign||d("implies assignment but ["+e.substring(0,r.index)+"] can not be assigned to",r);n=L();return function(e,r){return t.assign(e,n(e,r),r)}}return t}function L(){var e=O(),t;for(;;){if(!(t=g("||")))return e;e=w(e,t.fn,O())}}function O(){var e=M(),t;if(t=g("&&"))e=w(e,t.fn,O());return e}function M(){var e=_(),t;if(t=g("==","!="))e=w(e,t.fn,M());return e}function _(){var e=D(),t;if(t=g("<",">","<=",">="))e=w(e,t.fn,_());return e}function D(){var e=P(),t;while(t=g("+","-"))e=w(e,t.fn,P());return e}function P(){var e=H(),t;while(t=g("*","/","%"))e=w(e,t.fn,H());return e}function H(){var e;return g("+")?B():(e=g("-"))?w(s,e.fn,H()):(e=g("!"))?b(e.fn,H()):B()}function B(){var e;if(g("(")){e=p();y(")")}else if(g("["))e=q();else if(g("{"))e=R();else{var t=g();e=t.fn;e||d("not a primary expression",t)}var n,r;while(n=g("(","[","."))if(n.text==="("){e=l(e,r);r=null}else if(n.text==="["){r=e;e=h(e)}else if(n.text==="."){r=e;e=c(e)}else d("IMPOSSIBLE");return e}function j(e){var t=g().text,n=$n(t,i);return T(function(t,r){return n(e(t,r),r)},{assign:function(n,r,i){return zn(e(n,i),t,r)}})}function F(e){var t=N();y("]");return T(function(r,i){var s=e(r,i),o=t(r,i),u,a;if(!s)return n;u=s[o];if(u&&u.then){a=u;if(!("$$v"in u)){a.$$v=n;a.then(function(e){a.$$v=e})}u=u.$$v}return u},{assign:function(n,r,i){return e(n,i)[t(n,i)]=r}})}function I(e,t){var n=[];if(v().text!=")")do n.push(N());while(g(","));y(")");return function(r,i){var s=[],o=t?t(r,i):r;for(var u=0;u<n.length;u++)s.push(n[u](r,i));var a=e(r,i)||k;return a.apply?a.apply(o,s):a(s[0],s[1],s[2],s[3],s[4])}}function q(){var e=[];if(v().text!="]")do e.push(N());while(g(","));y("]");return function(t,n){var r=[];for(var i=0;i<e.length;i++)r.push(e[i](t,n));return r}}function R(){var e=[];if(v().text!="}")do{var t=g(),n=t.string||t.text;y(":");var r=N();e.push({key:n,value:r})}while(g(","));y("}");return function(t,n){var r={};for(var i=0;i<e.length;i++){var s=e[i],o=s.value(t,n);r[s.key]=o}return r}}var s=A(0),o,u=Rn(e,i),f=C,l=I,c=j,h=F,p=S;if(t){f=L;l=c=h=p=function(){d("is not valid json",{text:e,index:0})};o=B()}else o=E();u.length!==0&&d("is an unexpected token",u[0]);return o}function zn(e,t,n){var r=t.split(".");for(var i=0;r.length>1;i++){var s=r.shift(),o=e[s];if(!o){o={};e[s]=o}e=o}e[r.shift()]=n;return n}function Wn(e,t,n){if(!t)return e;var r=t.split("."),i,s=e,o=r.length;for(var u=0;u<o;u++){i=r[u];e&&(e=(s=e)[i])}return!n&&j(e)?nt(s,e):e}function Vn(e,t,r,i,s){return function(o,u){var a=u&&u.hasOwnProperty(e)?u:o,f;if(a===null||a===n)return a;a=a[e];if(a&&a.then){if(!("$$v"in a)){f=a;f.$$v=n;f.then(function(e){f.$$v=e})}a=a.$$v}if(!t||a===null||a===n)return a;a=a[t];if(a&&a.then){if(!("$$v"in a)){f=a;f.$$v=n;f.then(function(e){f.$$v=e})}a=a.$$v}if(!r||a===null||a===n)return a;a=a[r];if(a&&a.then){if(!("$$v"in a)){f=a;f.$$v=n;f.then(function(e){f.$$v=e})}a=a.$$v}if(!i||a===null||a===n)return a;a=a[i];if(a&&a.then){if(!("$$v"in a)){f=a;f.$$v=n;f.then(function(e){f.$$v=e})}a=a.$$v}if(!s||a===null||a===n)return a;a=a[s];if(a&&a.then){if(!("$$v"in a)){f=a;f.$$v=n;f.then(function(e){f.$$v=e})}a=a.$$v}return a}}function $n(e,t){if(Xn.hasOwnProperty(e))return Xn[e];var r=e.split("."),i=r.length,s;if(t)s=i<6?Vn(r[0],r[1],r[2],r[3],r[4]):function(e,t){var s=0,o;do{o=Vn(r[s++],r[s++],r[s++],r[s++],r[s++])(e,t);t=n;e=o}while(s<i);return o};else{var o="var l, fn, p;\n";b(r,function(e,t){o+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"});o+="return s;";s=Function("s","k",o);s.toString=function(){return o}}return Xn[e]=s}function Jn(){var e={};this.$get=["$filter","$sniffer",function(t,n){return function(r){switch(typeof r){case"string":return e.hasOwnProperty(r)?e[r]:e[r]=Un(r,!1,t,n.csp);case"function":return r;default:return k}}}]}function Kn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return Qn(function(t){e.$evalAsync(t)},t)}]}function Qn(e,t){function u(e){return e}function a(e){return s(e)}function f(e){var t=r(),n=e.length,s=[];n?b(e,function(e,r){i(e).then(function(e){if(r in s)return;s[r]=e;--n||t.resolve(s)},function(e){if(r in s)return;t.reject(e)})}):t.resolve(s);return t.promise}var r=function(){var o=[],f,l;l={resolve:function(t){if(o){var r=o;o=n;f=i(t);r.length&&e(function(){var e;for(var t=0,n=r.length;t<n;t++){e=r[t];f.then(e[0],e[1])}})}},reject:function(e){l.resolve(s(e))},promise:{then:function(e,n){var i=r(),s=function(n){try{i.resolve((e||u)(n))}catch(r){t(r);i.reject(r)}},l=function(e){try{i.resolve((n||a)(e))}catch(r){t(r);i.reject(r)}};o?o.push([s,l]):f.then(s,l);return i.promise}}};return l},i=function(t){return t&&t.then?t:{then:function(n){var i=r();e(function(){i.resolve(n(t))});return i.promise}}},s=function(t){return{then:function(n,i){var s=r();e(function(){s.resolve((i||a)(t))});return s.promise}}},o=function(n,o,f){var l=r(),c,h=function(e){try{return(o||u)(e)}catch(n){t(n);return s(n)}},p=function(e){try{return(f||a)(e)}catch(n){t(n);return s(n)}};e(function(){i(n).then(function(e){if(c)return;c=!0;l.resolve(i(e).then(h,p))},function(e){if(c)return;c=!0;l.resolve(p(e))})});return l.promise};return{defer:r,reject:s,when:o,all:f}}function Gn(){var e={};this.when=function(t,n){e[t]=T({reloadOnSearch:!0},n);if(t){var r=t[t.length-1]=="/"?t.substr(0,t.length-1):t+"/";e[r]={redirectTo:t}}return this};this.otherwise=function(e){this.when(null,e);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(t,n,r,i,s,o,u){function c(e,t){var n="^"+t.replace(/([\.\\\(\)\^\$])/g,"\\$1")+"$",r=[],i={};b(t.split(/\W/),function(e){if(e){var t=new RegExp(":"+e+"([\\W])");if(n.match(t)){n=n.replace(t,"([^\\/]*)$1");r.push(e)}}});var s=e.match(new RegExp(n));s&&b(r,function(e,t){i[e]=s[t+1]});return s?i:null}function h(){var e=p(),a=l.current;if(e&&a&&e.$route===a.$route&&Z(e.pathParams,a.pathParams)&&!e.reloadOnSearch&&!f){a.params=e.params;G(a.params,r);t.$broadcast("$routeUpdate",a)}else if(e||a){f=!1;t.$broadcast("$routeChangeStart",e,a);l.current=e;e&&e.redirectTo&&(D(e.redirectTo)?n.path(d(e.redirectTo,e.params)).search(e.params).replace():n.url(e.redirectTo(e.pathParams,n.path(),n.search())).replace());i.when(e).then(function(){if(e){var t=[],n=[],r;b(e.resolve||{},function(e,r){t.push(r);n.push(j(e)?s.invoke(e):s.get(e))});M(r=e.template)||M(r=e.templateUrl)&&(r=o.get(r,{cache:u}).then(function(e){return e.data}));if(M(r)){t.push("$template");n.push(r)}return i.all(n).then(function(e){var n={};b(e,function(e,r){n[t[r]]=e});return n})}}).then(function(n){if(e==l.current){if(e){e.locals=n;G(e.params,r)}t.$broadcast("$routeChangeSuccess",e,a)}},function(n){e==l.current&&t.$broadcast("$routeChangeError",e,a,n)})}}function p(){var t,r;b(e,function(e,i){if(!r&&(t=a(n.path(),i))){r=C(e,{params:T({},n.search(),t),pathParams:t});r.$route=e}});return r||e[null]&&C(e[null],{params:{},pathParams:{}})}function d(e,t){var n=[];b((e||"").split(":"),function(e,r){if(r==0)n.push(e);else{var i=e.match(/(\w+)(.*)/),s=i[1];n.push(t[s]);n.push(i[2]||"");delete t[s]}});return n.join("")}var a=c,f=!1,l={routes:e,reload:function(){f=!0;t.$evalAsync(h)}};t.$on("$locationChangeSuccess",h);return l}]}function Yn(){this.$get=A({})}function Zn(){var e=10;this.digestTtl=function(t){arguments.length&&(e=t);return e};this.$get=["$injector","$exceptionHandler","$parse",function(t,n,r){function i(){this.$id=x();this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this["this"]=this.$root=this;this.$$asyncQueue=[];this.$$listeners={}}function o(e){if(s.$$phase)throw a(s.$$phase+" already in progress");s.$$phase=e}function u(){s.$$phase=null}function f(e,t){var n=r(e);yt(n,t);return n}function l(){}i.prototype={$new:function(e){var t,n;if(j(e))throw a("API-CHANGE: Use $controller to instantiate controllers.");if(e){n=new i;n.$root=this.$root}else{t=function(){};t.prototype=this;n=new t;n.$id=x()}n["this"]=n;n.$$listeners={};n.$parent=this;n.$$asyncQueue=[];n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null;n.$$prevSibling=this.$$childTail;if(this.$$childHead){this.$$childTail.$$nextSibling=n;this.$$childTail=n}else this.$$childHead=this.$$childTail=n;return n},$watch:function(e,t,n){var r=this,i=f(e,"watch"),s=r.$$watchers,o={fn:t,last:l,get:i,exp:e,eq:!!n};if(!j(t)){var u=f(t||k,"listener");o.fn=function(e,t,n){u(n)}}s||(s=r.$$watchers=[]);s.unshift(o);return function(){K(s,o)}},$digest:function(){var t,r,i,s,f,c,h,p=e,d,v,m=this,g=[],y,b;o("$digest");do{h=!1;v=m;do{f=v.$$asyncQueue;while(f.length)try{v.$eval(f.shift())}catch(w){n(w)}if(s=v.$$watchers){c=s.length;while(c--)try{t=s[c];if((r=t.get(v))!==(i=t.last)&&!(t.eq?Z(r,i):typeof r=="number"&&typeof i=="number"&&isNaN(r)&&isNaN(i))){h=!0;t.last=t.eq?G(r):r;t.fn(r,i===l?r:i,v);if(p<5){y=4-p;g[y]||(g[y]=[]);b=j(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp;b+="; newVal: "+it(r)+"; oldVal: "+it(i);g[y].push(b)}}}catch(w){n(w)}}if(!(d=v.$$childHead||v!==m&&v.$$nextSibling))while(v!==m&&!(d=v.$$nextSibling))v=v.$parent}while(v=d);if(h&&!(p--)){u();throw a(e+" $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: "+it(g))}}while(h||f.length);u()},$destroy:function(){if(s==this)return;var e=this.$parent;this.$broadcast("$destroy");e.$$childHead==this&&(e.$$childHead=this.$$nextSibling);e.$$childTail==this&&(e.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling)},$eval:function(e,t){return r(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{o("$apply");return this.$eval(e)}catch(t){n(t)}finally{u();try{s.$digest()}catch(t){n(t);throw t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]);n.push(t);return function(){K(n,t)}},$emit:function(e,t){var r=[],i,s=this,o=!1,u={name:e,targetScope:s,stopPropagation:function(){o=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},a=et([u],arguments,1),f,l;do{i=s.$$listeners[e]||r;u.currentScope=s;for(f=0,l=i.length;f<l;f++)try{i[f].apply(null,a);if(o)return u}catch(c){n(c)}s=s.$parent}while(s);return u},$broadcast:function(e,t){var r=this,i=r,s=r,o={name:e,targetScope:r,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1},u=et([o],arguments,1);do{i=s;o.currentScope=i;b(i.$$listeners[e],function(e){try{e.apply(null,u)}catch(t){n(t)}});if(!(s=i.$$childHead||i!==r&&i.$$nextSibling))while(i!==r&&!(s=i.$$nextSibling))i=i.$parent}while(i=s);return o}};var s=new i;return s}]}function er(){this.$get=["$window",function(e){var t={},n=N((/android (\d+)/.exec(r(e.navigator.userAgent))||[])[1]);return{history:!(!e.history||!e.history.pushState||n<4),hashchange:"onhashchange"in e&&(!e.document.documentMode||e.document.documentMode>7),hasEvent:function(n){if(n=="input"&&f==9)return!1;if(O(t[n])){var r=e.document.createElement("div");t[n]="on"+n in r}return t[n]},csp:!1}}]}function tr(){this.$get=A(e)}function nr(e){var t={},n,i,s;if(!e)return t;b(e.split("\n"),function(e){s=e.indexOf(":");n=r(U(e.substr(0,s)));i=U(e.substr(s+1));n&&(t[n]?t[n]+=", "+i:t[n]=i)});return t}function rr(e){var t=_(e)?e:n;return function(n){t||(t=nr(e));return n?t[r(n)]||null:t}}function ir(e,t,n){if(j(n))return n(e,t);b(n,function(n){e=n(e,t)});return e}function sr(e){return 200<=e&&e<300}function or(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,s=/^\)\]\}',?\n/,o=this.defaults={transformResponse:[function(n){if(D(n)){n=n.replace(s,"");e.test(n)&&t.test(n)&&(n=st(n,!0))}return n}],transformRequest:[function(e){return _(e)&&!q(e)?it(e):e}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}},u=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,s,a,f,l){function p(e){function p(e){var t=T({},e,{data:ir(e.data,e.headers,s)});return sr(e.status)?t:f.reject(t)}e.method=i(e.method);var n=e.transformRequest||o.transformRequest,s=e.transformResponse||o.transformResponse,u=o.headers,a=T({"X-XSRF-TOKEN":t.cookies()["XSRF-TOKEN"]},u.common,u[r(e.method)],e.headers),l=ir(e.data,rr(a),n),c;O(e.data)&&delete a["Content-Type"];c=m(e,l,a);c=c.then(p,p);b(h,function(e){c=e(c)});c.success=function(t){c.then(function(n){t(n.data,n.status,n.headers,e)});return c};c.error=function(t){c.then(null,function(n){t(n.data,n.status,n.headers,e)});return c};return c}function d(e){b(arguments,function(e){p[e]=function(t,n){return p(T(n||{},{method:e,url:t}))}})}function v(e){b(arguments,function(e){p[e]=function(t,n,r){return p(T(r||{},{method:e,url:t,data:n}))}})}function m(t,n,r){function h(e,t,n){o&&(sr(e)?o.put(l,[e,t,nr(n)]):o.remove(l));d(t,e,n);a.$apply()}function d(e,n,r){n=Math.max(n,0);(sr(n)?i.resolve:i.reject)({data:e,status:n,headers:rr(r),config:t})}function v(){var e=J(p.pendingRequests,t);e!==-1&&p.pendingRequests.splice(e,1)}var i=f.defer(),s=i.promise,o,u,l=g(t.url,t.params);p.pendingRequests.push(t);s.then(v,v);t.cache&&t.method=="GET"&&(o=_(t.cache)?t.cache:c);if(o){u=o.get(l);if(u){if(u.then){u.then(v,v);return u}B(u)?d(u[1],u[0],G(u[2])):d(u,200,{})}else o.put(l,s)}u||e(t.method,l,n,h,r,t.timeout,t.withCredentials);return s}function g(e,t){if(!t)return e;var r=[];E(t,function(e,t){if(e==null||e==n)return;_(e)&&(e=it(e));r.push(encodeURIComponent(t)+"="+encodeURIComponent(e))});return e+(e.indexOf("?")==-1?"?":"&")+r.join("&")}var c=s("$http"),h=[];b(u,function(e){h.push(D(e)?l.get(e):l.invoke(e))});p.pendingRequests=[];d("get","delete","head","jsonp");v("post","put");p.defaults=o;return p}]}function ar(){this.$get=["$browser","$window","$document",function(e,t,n){return fr(e,ur,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function fr(e,t,n,i,s,o){function u(e,t){var n=s.createElement("script"),r=function(){s.body.removeChild(n);t&&t()};n.type="text/javascript";n.src=e;f?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=r;s.body.appendChild(n)}return function(s,a,f,l,c,h,p){function g(t,n,r,i){var s=(a.match(En)||["",o])[1];n=s=="file"?r?200:404:n;n=n==1223?204:n;t(n,r,i);e.$$completeOutstandingRequest(k)}e.$$incOutstandingRequestCount();a=a||e.url();if(r(s)=="jsonp"){var d="_"+(i.counter++).toString(36);i[d]=function(e){i[d].data=e};u(a.replace("JSON_CALLBACK","angular.callbacks."+d),function(){i[d].data?g(l,200,i[d].data):g(l,-2);delete i[d]})}else{var v=new t;v.open(s,a,!0);b(c,function(e,t){e&&v.setRequestHeader(t,e)});var m;v.onreadystatechange=function(){v.readyState==4&&g(l,m||v.status,v.responseText,v.getAllResponseHeaders())};p&&(v.withCredentials=!0);v.send(f||"");h>0&&n(function(){m=-1;v.abort()},h)}}}function lr(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return e===1?"one":"other"}}}}function cr(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function s(s,o,u){var a=n.defer(),f=a.promise,l=M(u)&&!u,c,h;c=t.defer(function(){try{a.resolve(s())}catch(t){a.reject(t);r(t)}l||e.$apply()},o);h=function(){delete i[f.$$timeoutId]};f.$$timeoutId=c;i[c]=a;f.then(h,h);return f}var i={};s.cancel=function(e){if(e&&e.$$timeoutId in i){i[e.$$timeoutId].reject("canceled");return t.defer.cancel(e.$$timeoutId)}return!1};return s}]}function hr(e){function n(n,r){return e.factory(n+t,r)}var t="Filter";this.register=n;this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}];n("currency",dr);n("date",Cr);n("filter",pr);n("json",kr);n("limitTo",Or);n("lowercase",Lr);n("number",vr);n("orderBy",Mr);n("uppercase",Ar)}function pr(){return function(e,t){if(e instanceof Array){var n=[];n.check=function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0};var r=function(e,t){if(t.charAt(0)==="!")return!r(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return(""+e).toLowerCase().indexOf(t)>-1;case"object":for(var n in e)if(n.charAt(0)!=="$"&&r(e[n],t))return!0;return!1;case"array":for(var i=0;i<e.length;i++)if(r(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var i in t)i=="$"?function(){var e=(""+t[i]).toLowerCase();if(!e)return;n.push(function(t){return r(t,e)})}():function(){var e=i,s=(""+t[i]).toLowerCase();if(!s)return;n.push(function(t){return r(Wn(t,e),s)})}();break;case"function":n.push(t);break;default:return e}var s=[];for(var o=0;o<e.length;o++){var u=e[o];n.check(u)&&s.push(u)}return s}return e}}function dr(e){var t=e.NUMBER_FORMATS;return function(e,n){O(n)&&(n=t.CURRENCY_SYM);return gr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function vr(e){var t=e.NUMBER_FORMATS;return function(e,n){return gr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function gr(e,t,n,r,i){if(isNaN(e)||!isFinite(e))return"";var s=e<0;e=Math.abs(e);var o=e+"",u="",a=[];if(o.indexOf("e")!==-1)u=o;else{var f=(o.split(mr)[1]||"").length;O(i)&&(i=Math.min(Math.max(t.minFrac,f),t.maxFrac));var l=Math.pow(10,i);e=Math.round(e*l)/l;var c=(""+e).split(mr),h=c[0];c=c[1]||"";var p=0,d=t.lgSize,v=t.gSize;if(h.length>=d+v){p=h.length-d;for(var m=0;m<p;m++){(p-m)%v===0&&m!==0&&(u+=n);u+=h.charAt(m)}}for(m=p;m<h.length;m++){(h.length-m)%d===0&&m!==0&&(u+=n);u+=h.charAt(m)}while(c.length<i)c+="0";i&&(u+=r+c.substr(0,i))}a.push(s?t.negPre:t.posPre);a.push(u);a.push(s?t.negSuf:t.posSuf);return a.join("")}function yr(e,t,n){var r="";if(e<0){r="-";e=-e}e=""+e;while(e.length<t)e="0"+e;n&&(e=e.substr(e.length-t));return r+e}function br(e,t,n,r){return function(i){var s=i["get"+e]();if(n>0||s>-n)s+=n;s===0&&n==-12&&(s=12);return yr(s,t,r)}}function wr(e,t){return function(n,r){var s=n["get"+e](),o=i(t?"SHORT"+e:e);return r[o][s]}}function Er(e){var t=e.getTimezoneOffset();return yr(t/60,2)+yr(Math.abs(t%60),2)}function Sr(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Cr(e){function n(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,s=0;if(n[9]){i=N(n[9]+n[10]);s=N(n[9]+n[11])}r.setUTCFullYear(N(n[1]),N(n[2])-1,N(n[3]));r.setUTCHours(N(n[4]||0)-i,N(n[5]||0)-s,N(n[6]||0),N(n[7]||0));return r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;return function(t,r){var i="",s=[],o,u;r=r||"mediumDate";r=e.DATETIME_FORMATS[r]||r;D(t)&&(Nr.test(t)?t=N(t):t=n(t));P(t)&&(t=new Date(t));if(!H(t))return t;while(r){u=Tr.exec(r);if(u){s=et(s,u,1);r=s.pop()}else{s.push(r);r=null}}b(s,function(n){o=xr[n];i+=o?o(t,e.DATETIME_FORMATS):n.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return i}}function kr(){return function(e){return it(e,!0)}}function Or(){return function(e,t){if(e instanceof Array){t=N(t);var n=[],r,i;if(!!e&&e instanceof Array){t>e.length?t=e.length:t<-e.length&&(t=-e.length);if(t>0){r=0;i=t}else{r=e.length+t;i=e.length}for(;r<i;r++)n.push(e[r]);return n}return n}return e}}function Mr(e){return function(t,n,r){function o(e,t){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i!==0)return i}return 0}function u(e,t){return ot(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;if(n==r){n=="string"&&(e=e.toLowerCase());n=="string"&&(t=t.toLowerCase());return e===t?0:e<t?-1:1}return n<r?-1:1}if(t instanceof Array){if(!n)return t;n=B(n)?n:[n];n=X(n,function(t){var n=!1,r=t||L;if(D(t)){if(t.charAt(0)=="+"||t.charAt(0)=="-"){n=t.charAt(0)=="-";t=t.substring(1)}r=e(t)}return u(function(e,t){return a(r(e),r(t))},n)});var i=[];for(var s=0;s<t.length;s++)i.push(t[s]);return i.sort(u(o,r))}return t}}function _r(e){j(e)&&(e={link:e});e.restrict=e.restrict||"AC";return A(e)}function Br(e,t){function o(t,n){n=n?"-"+vt(n,"-"):"";e.removeClass((t?Zr:Yr)+n).addClass((t?Yr:Zr)+n)}var n=this,r=e.parent().controller("form")||Hr,i=0,s=n.$error={};n.$name=t.name;n.$dirty=!1;n.$pristine=!0;n.$valid=!0;n.$invalid=!1;r.$addControl(n);e.addClass(ei);o(!0);n.$addControl=function(e){e.$name&&!n.hasOwnProperty(e.$name)&&(n[e.$name]=e)};n.$removeControl=function(e){e.$name&&n[e.$name]===e&&delete n[e.$name];b(s,function(t,r){n.$setValidity(r,!0,e)})};n.$setValidity=function(e,t,u){var a=s[e];if(t){if(a){K(a,u);if(!a.length){i--;if(!i){o(t);n.$valid=!0;n.$invalid=!1}s[e]=!1;o(!0,e);r.$setValidity(e,!0,n)}}}else{i||o(t);if(a){if($(a,u))return}else{s[e]=a=[];i++;o(!1,e);r.$setValidity(e,!1,n)}a.push(u);n.$valid=!1;n.$invalid=!0}};n.$setDirty=function(){e.removeClass(ei).addClass(ti);n.$dirty=!0;n.$pristine=!1}}function Wr(e){return O(e)||e===""||e===null||e!==e}function Xr(e,t,r,i,s,o){var u=function(){var n=U(t.val());i.$viewValue!==n&&e.$apply(function(){i.$setViewValue(n)})};if(s.hasEvent("input"))t.bind("input",u);else{var f;t.bind("keydown",function(e){var t=e.keyCode;if(t===91||15<t&&t<19||37<=t&&t<=40)return;f||(f=o.defer(function(){u();f=null}))});t.bind("change",u)}i.$render=function(){t.val(Wr(i.$viewValue)?"":i.$viewValue)};var l=r.ngPattern,c,h=function(e,t){if(Wr(t)||e.test(t)){i.$setValidity("pattern",!0);return t}i.$setValidity("pattern",!1);return n};if(l){if(l.match(/^\/(.*)\/$/)){l=new RegExp(l.substr(1,l.length-2));c=function(e){return h(l,e)}}else c=function(t){var n=e.$eval(l);if(!n||!n.test)throw new a("Expected "+l+" to be a RegExp but was "+n);return h(n,t)};i.$formatters.push(c);i.$parsers.push(c)}if(r.ngMinlength){var p=N(r.ngMinlength),d=function(e){if(!Wr(e)&&e.length<p){i.$setValidity("minlength",!1);return n}i.$setValidity("minlength",!0);return e};i.$parsers.push(d);i.$formatters.push(d)}if(r.ngMaxlength){var v=N(r.ngMaxlength),m=function(e){if(!Wr(e)&&e.length>v){i.$setValidity("maxlength",!1);return n}i.$setValidity("maxlength",!0);return e};i.$parsers.push(m);i.$formatters.push(m)}}function Vr(e,t,r,i,s,o){Xr(e,t,r,i,s,o);i.$parsers.push(function(e){var t=Wr(e);if(t||Ur.test(e)){i.$setValidity("number",!0);return e===""?null:t?e:parseFloat(e)}i.$setValidity("number",!1);return n});i.$formatters.push(function(e){return Wr(e)?"":""+e});if(r.min){var u=parseFloat(r.min),a=function(e){if(!Wr(e)&&e<u){i.$setValidity("min",!1);return n}i.$setValidity("min",!0);return e};i.$parsers.push(a);i.$formatters.push(a)}if(r.max){var f=parseFloat(r.max),l=function(e){if(!Wr(e)&&e>f){i.$setValidity("max",!1);return n}i.$setValidity("max",!0);return e};i.$parsers.push(l);i.$formatters.push(l)}i.$formatters.push(function(e){if(Wr(e)||P(e)){i.$setValidity("number",!0);return e}i.$setValidity("number",!1);return n})}function $r(e,t,r,i,s,o){Xr(e,t,r,i,s,o);var u=function(e){if(Wr(e)||qr.test(e)){i.$setValidity("url",!0);return e}i.$setValidity("url",!1);return n};i.$formatters.push(u);i.$parsers.push(u)}function Jr(e,t,r,i,s,o){Xr(e,t,r,i,s,o);var u=function(e){if(Wr(e)||Rr.test(e)){i.$setValidity("email",!0);return e}i.$setValidity("email",!1);return n};i.$formatters.push(u);i.$parsers.push(u)}function Kr(e,t,n,r){O(n.name)&&t.attr("name",x());t.bind("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})});r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue};n.$observe("value",r.$render)}function Qr(e,t,n,r){var i=n.ngTrueValue,s=n.ngFalseValue;D(i)||(i=!0);D(s)||(s=!1);t.bind("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})});r.$render=function(){t[0].checked=r.$viewValue};r.$formatters.push(function(e){return e===i});r.$parsers.push(function(e){return e?i:s})}function hi(e,t){e="ngClass"+e;return _r(function(n,r,i){n.$watch(i[e],function(e,i){if(t===!0||n.$index%2===t){if(i&&e!==i){_(i)&&!B(i)&&(i=X(i,function(e,t){if(e)return t}));r.removeClass(B(i)?i.join(" "):i)}_(e)&&!B(e)&&(e=X(e,function(e,t){if(e)return t}));e&&r.addClass(B(e)?e.join(" "):e)}},!0)})}var r=function(e){return D(e)?e.toLowerCase():e},i=function(e){return D(e)?e.toUpperCase():e},s=function(e){return D(e)?e.replace(/[A-Z]/g,function(e){return u(e.charCodeAt(0)|32)}):e},o=function(e){return D(e)?e.replace(/[a-z]/g,function(e){return u(e.charCodeAt(0)&-33)}):e};if("i"!=="I".toLowerCase()){r=s;i=o}var a=e.Error,f=N((/msie (\d+)/.exec(r(navigator.userAgent))||[])[1]),l,c,h=[].slice,p=[].push,d=Object.prototype.toString,v=e.angular||(e.angular={}),m,g,y=["0","0","0"];k.$inject=[];L.$inject=[];f<9?g=function(e){e=e.nodeName?e:e[0];return e.scopeName&&e.scopeName!="HTML"?i(e.scopeName+":"+e.nodeName):e.nodeName}:g=function(e){return e.nodeName?e.nodeName:e[0].nodeName};var dt=/[A-Z]/g,wt={full:"1.0.2",major:1,minor:0,dot:2,codeName:"debilitating-awesomeness"},St=_t.cache={},xt=_t.expando="ng-"+(new Date).getTime(),Tt=1,Nt=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Ct=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Lt=/([\:\-\_]+(.))/g,At=/^moz([A-Z])/,Xt=_t.prototype={ready:function(t){function r(){if(n)return;n=!0;t()}var n=!1;this.bind("DOMContentLoaded",r);_t(e).bind("load",r)},toString:function(){var e=[];b(this,function(t){e.push(""+t)});return"["+e.join(", ")+"]"},eq:function(e){return e>=0?l(this[e]):l(this[this.length+e])},length:0,push:p,sort:[].sort,splice:[].splice},Vt={};b("multiple,selected,checked,disabled,readOnly,required".split(","),function(e){Vt[r(e)]=e});var $t={};b("input,select,option,textarea,button,form".split(","),function(e){$t[i(e)]=!0});b({data:Ft,inheritedData:Wt,scope:function(e){return Wt(e,"$scope")},controller:zt,injector:function(e){return Wt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:It,css:function(e,t,r){t=Ot(t);if(!M(r)){var i;if(f<=8){i=e.currentStyle&&e.currentStyle[t];i===""&&(i="auto")}i=i||e.style[t];f<=8&&(i=i===""?n:i);return i}e.style[t]=r},attr:function(e,t,i){var s=r(t);if(Vt[s]){if(!M(i))return e[t]||(e.attributes.getNamedItem(t)||k).specified?s:n;if(!i){e[t]=!1;e.removeAttribute(s)}else{e[t]=!0;e.setAttribute(t,s)}}else if(M(i))e.setAttribute(t,i);else if(e.getAttribute){var o=e.getAttribute(t,2);return o===null?n:o}},prop:function(e,t,n){if(!M(n))return e[t];e[t]=n},text:T(f<9?function(e,t){if(e.nodeType==1){if(O(t))return e.innerText;e.innerText=t}else{if(O(t))return e.nodeValue;e.nodeValue=t}}:function(e,t){if(O(t))return e.textContent;e.textContent=t},{$dv:""}),val:function(e,t){if(O(t))return e.value;e.value=t},html:function(e,t){if(O(t))return e.innerHTML;for(var n=0,r=e.childNodes;n<r.length;n++)Pt(r[n]);e.innerHTML=t}},function(e,t){_t.prototype[t]=function(t,r){var i,s;if((e.length==2&&e!==It&&e!==zt?t:r)!==n){for(i=0;i<this.length;i++)e(this[i],t,r);return this}if(_(t)){for(i=0;i<this.length;i++)if(e===Ft)e(this[i],t);else for(s in t)e(this[i],s,t[s]);return this}return this.length?e(this[0],t,r):e.$dv}});b({removeData:Bt,dealoc:Pt,bind:function qi(e,t,n){var r=jt(e,"events"),i=jt(e,"handle");r||jt(e,"events",r={});i||jt(e,"handle",i=Kt(e,r));b(t.split(" "),function(t){var s=r[t];if(!s){if(t=="mouseenter"||t=="mouseleave"){var o=0;r.mouseenter=[];r.mouseleave=[];qi(e,"mouseover",function(e){o++;o==1&&i(e,"mouseenter")});qi(e,"mouseout",function(e){o--;o==0&&i(e,"mouseleave")})}else{Nt(e,t,i);r[t]=[]}s=r[t]}s.push(n)})},unbind:Ht,replaceWith:function(e,t){var n,r=e.parentNode;Pt(e);b(new _t(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e);n=t})},children:function(e){var t=[];b(e.childNodes,function(e){e.nodeName!="#text"&&t.push(e)});return t},contents:function(e){return e.childNodes},append:function(e,t){b(new _t(t),function(t){e.nodeType===1&&e.appendChild(t)})},prepend:function(e,t){if(e.nodeType===1){var n=e.firstChild;b(new _t(t),function(t){if(n)e.insertBefore(t,n);else{e.appendChild(t);n=t}})}},wrap:function(e,t){t=l(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e);t.appendChild(e)},remove:function(e){Pt(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;b(new _t(t),function(e){r.insertBefore(e,n.nextSibling);n=e})},addClass:Rt,removeClass:qt,toggleClass:function(e,t,n){O(n)&&(n=!It(e,t));(n?Rt:qt)(e,t)},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},next:function(e){return e.nextSibling},find:function(e,t){return e.getElementsByTagName(t)},clone:Dt},function(e,t){_t.prototype[t]=function(t,r){var i;for(var s=0;s<this.length;s++)if(i==n){i=e(this[s],t,r);i!==n&&(i=l(i))}else Ut(i,e(this[s],t,r));return i==n?this:i}});Gt.prototype={put:function(e,t){this[Qt(e)]=t},get:function(e){return this[Qt(e)]},remove:function(e){var t=this[e=Qt(e)];delete this[e];return t}};Yt.prototype={push:function(e,t){var n=this[e=Qt(e)];n?n.push(t):this[e]=[t]},shift:function(e){var t=this[e=Qt(e)];if(t){if(t.length==1){delete this[e];return t[0]}return t.shift()}}};var Zt=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,en=/,/,tn=/^\s*(_?)(.+?)\1\s*$/,nn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,cn="Non-assignable model expression: ";hn.$inject=["$provide"];var pn=/^(x[\:\-_]|data[\:\-_])/i,En=/^([^:]+):\/\/(\w+:{0,1}\w*@)?([\w\.-]*)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,Sn=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,xn=Sn,Tn={http:80,https:443,ftp:21};_n.prototype={$$replace:!1,absUrl:Hn("$$absUrl"),url:function(e,t){if(O(e))return this.$$url;var n=Sn.exec(e);n[1]&&this.path(decodeURIComponent(n[1]));(n[2]||n[1])&&this.search(n[3]||"");this.hash(n[5]||"",t);return this},protocol:Hn("$$protocol"),host:Hn("$$host"),port:Hn("$$port"),path:Bn("$$path",function(e){return e.charAt(0)=="/"?e:"/"+e}),search:function(e,t){if(O(e))return this.$$search;M(t)?t===null?delete this.$$search[e]:this.$$search[e]=t:this.$$search=D(e)?at(e):e;this.$$compose();return this},hash:Bn("$$hash",L),replace:function(){this.$$replace=!0;return this}};Dn.prototype=C(_n.prototype);Pn.prototype=C(Dn.prototype);var In={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},"undefined":k,"+":function(e,t,n,r){n=n(e,t);r=r(e,t);return(M(n)?n:0)+(M(r)?r:0)},"-":function(e,t,n,r){n=n(e,t);r=r(e,t);return(M(n)?n:0)-(M(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":k,"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},qn={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Xn={},ur=e.
XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new a("This browser does not support XMLHttpRequest.")};hr.$inject=["$provide"];dr.$inject=["$locale"];vr.$inject=["$locale"];var mr=".",xr={yyyy:br("FullYear",4),yy:br("FullYear",2,0,!0),y:br("FullYear",1),MMMM:wr("Month"),MMM:wr("Month",!0),MM:br("Month",2,1),M:br("Month",1,1),dd:br("Date",2),d:br("Date",1),HH:br("Hours",2),H:br("Hours",1),hh:br("Hours",2,-12),h:br("Hours",1,-12),mm:br("Minutes",2),m:br("Minutes",1),ss:br("Seconds",2),s:br("Seconds",1),EEEE:wr("Day"),EEE:wr("Day",!0),a:Sr,Z:Er},Tr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Nr=/^\d+$/;Cr.$inject=["$locale"];var Lr=A(r),Ar=A(i);Mr.$inject=["$parse"];var Dr=A({restrict:"E",compile:function(e,t){t.href||t.$set("href","");return function(e,t){t.bind("click",function(e){t.attr("href")||e.preventDefault()})}}}),Pr={};b(Vt,function(e,t){var n=dn("ng-"+t);Pr[n]=function(){return{priority:100,compile:function(){return function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}});b(["src","href"],function(e){var t=dn("ng-"+e);Pr[t]=function(){return{priority:99,link:function(n,r,i){i.$observe(t,function(t){i.$set(e,t);f&&r.prop(e,t)})}}}});var Hr={$addControl:k,$removeControl:k,$setValidity:k,$setDirty:k};Br.$inject=["$element","$attrs","$scope"];var jr=function(e){return["$timeout",function(t){var r={name:"form",restrict:"E",controller:Br,compile:function(){return{pre:function(e,r,i,s){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Nt(r[0],"submit",o);r.bind("$destroy",function(){t(function(){Ct(r[0],"submit",o)},0,!1)})}var u=r.parent().controller("form"),a=i.name||i.ngForm;a&&(e[a]=s);u&&r.bind("$destroy",function(){u.$removeControl(s);a&&(e[a]=n);T(s,Hr)})}}}};return e?T(G(r),{restrict:"EAC"}):r}]},Fr=jr(),Ir=jr(!0),qr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Rr=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,Ur=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zr={text:Xr,number:Vr,url:$r,email:Jr,radio:Kr,checkbox:Qr,hidden:k,button:k,submit:k,reset:k},Gr=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,s,o){o&&(zr[r(s.type)]||zr.text)(n,i,s,o,t,e)}}}],Yr="ng-valid",Zr="ng-invalid",ei="ng-pristine",ti="ng-dirty",ni=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,r,i){function c(e,t){t=t?"-"+vt(t,"-"):"";r.removeClass((e?Zr:Yr)+t).addClass((e?Yr:Zr)+t)}this.$viewValue=Number.NaN;this.$modelValue=Number.NaN;this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$name=n.name;var s=i(n.ngModel),o=s.assign;if(!o)throw a(cn+n.ngModel+" ("+ut(r)+")");this.$render=k;var u=r.inheritedData("$formController")||Hr,f=0,l=this.$error={};r.addClass(ei);c(!0);this.$setValidity=function(e,t){if(l[e]===!t)return;if(t){l[e]&&f--;if(!f){c(!0);this.$valid=!0;this.$invalid=!1}}else{c(!1);this.$invalid=!0;this.$valid=!1;f++}l[e]=!t;c(t,e);u.$setValidity(e,t,this)};this.$setViewValue=function(n){this.$viewValue=n;if(this.$pristine){this.$dirty=!0;this.$pristine=!1;r.removeClass(ei).addClass(ti);u.$setDirty()}b(this.$parsers,function(e){n=e(n)});if(this.$modelValue!==n){this.$modelValue=n;o(e,n);b(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})}};var h=this;e.$watch(s,function(e){if(h.$modelValue===e)return;var t=h.$formatters,n=t.length;h.$modelValue=e;while(n--)e=t[n](e);if(h.$viewValue!==e){h.$viewValue=e;h.$render()}})}],ri=function(){return{require:["ngModel","^?form"],controller:ni,link:function(e,t,n,r){var i=r[0],s=r[1]||Hr;s.$addControl(i);t.bind("$destroy",function(){s.$removeControl(i)})}}},ii=A({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),si=function(){return{require:"?ngModel",link:function(e,t,n,r){if(!r)return;n.required=!0;var i=function(e){if(n.required&&(Wr(e)||e===!1)){r.$setValidity("required",!1);return}r.$setValidity("required",!0);return e};r.$formatters.push(i);r.$parsers.unshift(i);n.$observe("required",function(){i(r.$viewValue)})}}},oi=function(){return{require:"ngModel",link:function(e,t,r,i){var s=/\/(.*)\//.exec(r.ngList),o=s&&new RegExp(s[1])||r.ngList||",",u=function(e){var t=[];e&&b(e.split(o),function(e){e&&t.push(U(e))});return t};i.$parsers.push(u);i.$formatters.push(function(e){return B(e)?e.join(", "):n})}}},ui=/^(true|false|\d+)$/,ai=function(){return{priority:100,compile:function(e,t){return ui.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e,!1)})}}}},fi=_r(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind);e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}),li=["$interpolate",function(e){return function(t,n,r){var i=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",i);r.$observe("ngBindTemplate",function(e){n.text(e)})}}],ci=[function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe);e.$watch(n.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}],pi=hi("",!0),di=hi("Odd",0),vi=hi("Even",1),mi=_r({compile:function(e,t){t.$set("ngCloak",n);e.removeClass("ng-cloak")}}),gi=[function(){return{scope:!0,controller:"@"}}],yi=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],bi={};b("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave".split(" "),function(e){var t=dn("ng-"+e);bi[t]=["$parse",function(n){return function(i,s,o){var u=n(o[t]);s.bind(r(e),function(e){i.$apply(function(){u(i,{$event:e})})})}}]});var wi=_r(function(e,t,n){t.bind("submit",function(){e.$apply(n.ngSubmit)})}),Ei=["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,r){return{restrict:"ECA",terminal:!0,compile:function(i,s){var o=s.ngInclude||s.src,u=s.onload||"",a=s.autoscroll;return function(i,s){var f=0,l,c=function(){if(l){l.$destroy();l=null}s.html("")};i.$watch(o,function(o){var h=++f;o?e.get(o,{cache:t}).success(function(e){if(h!==f)return;l&&l.$destroy();l=i.$new();s.html(e);r(s.contents())(l);M(a)&&(!a||i.$eval(a))&&n();l.$emit("$includeContentLoaded");i.$eval(u)}).error(function(){h===f&&c()}):c()})}}}}],Si=_r({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),xi=_r({terminal:!0,priority:1e3}),Ti=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,s){var o=s.count,u=i.attr(s.$attr.when),a=s.offset||0,f=r.$eval(u),l={},c=t.startSymbol(),h=t.endSymbol();b(f,function(e,r){l[r]=t(e.replace(n,c+o+"-"+a+h))});r.$watch(function(){var t=parseFloat(r.$eval(o));if(!isNaN(t)){f[t]||(t=e.pluralCat(t-a));return l[t](r,i,!0)}return""},function(e){i.text(e)})}}}],Ni=_r({transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,n){return function(e,t,r){var i=r.ngRepeat,s=i.match(/^\s*(.+)\s+in\s+(.*)\s*$/),o,u,f,l;if(!s)throw a("Expected ngRepeat in form of '_item_ in _collection_' but got '"+i+"'.");o=s[1];u=s[2];s=o.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/);if(!s)throw a("'item' in 'item in collection' should be identifier or (key, value) but got '"+o+"'.");f=s[3]||s[1];l=s[2];var c=new Yt;e.$watch(function(e){var r,i,s=e.$eval(u),o=V(s,!0),a,h=new Yt,p,d,v,m,g=t;if(!B(s)){v=[];for(p in s)s.hasOwnProperty(p)&&p.charAt(0)!="$"&&v.push(p);v.sort()}else v=s||[];for(r=0,i=v.length;r<i;r++){p=s===v?r:v[r];d=s[p];m=c.shift(d);if(m){a=m.scope;h.push(d,m);if(r===m.index)g=m.element;else{m.index=r;g.after(m.element);g=m.element}}else a=e.$new();a[f]=d;l&&(a[l]=p);a.$index=r;a.$first=r===0;a.$last=r===o-1;a.$middle=!a.$first&&!a.$last;m||n(a,function(e){g.after(e);m={scope:a,element:g=e,index:r};h.push(d,m)})}for(p in c)if(c.hasOwnProperty(p)){v=c[p];while(v.length){d=v.pop();d.element.remove();d.scope.$destroy()}}c=h})}}}),Ci=_r(function(e,t,n){e.$watch(n.ngShow,function(e){t.css("display",ot(e)?"":"none")})}),ki=_r(function(e,t,n){e.$watch(n.ngHide,function(e){t.css("display",ot(e)?"none":"")})}),Li=_r(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&b(n,function(e,n){t.css(n,"")});e&&t.css(e)},!0)}),Ai="ng-switch",Oi=A({restrict:"EA",compile:function(e,t){var n=t.ngSwitch||t.on,r={};e.data(Ai,r);return function(e,i){var s,o,u;e.$watch(n,function(n){if(o){u.$destroy();o.remove();o=u=null}if(s=r["!"+n]||r["?"]){e.$eval(t.change);u=e.$new();s(u,function(e){o=e;i.append(e)})}})}}}),Mi=_r({transclude:"element",priority:500,compile:function(e,t,n){var r=e.inheritedData(Ai);gt(r);r["!"+t.ngSwitchWhen]=n}}),_i=_r({transclude:"element",priority:500,compile:function(e,t,n){var r=e.inheritedData(Ai);gt(r);r["?"]=n}}),Di=_r({controller:["$transclude","$element",function(e,t){e(function(e){t.append(e)})}]}),Pi=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(e,t,n,r,i,s){return{restrict:"ECA",terminal:!0,link:function(e,t,o){function f(){if(u){u.$destroy();u=null}}function l(){t.html("");f()}function c(){var o=n.current&&n.current.locals,c=o&&o.$template;if(c){t.html(c);f();var h=i(t.contents()),p=n.current,d;u=p.scope=e.$new();if(p.controller){o.$scope=u;d=s(p.controller,o);t.contents().data("$ngControllerController",d)}h(u);u.$emit("$viewContentLoaded");u.$eval(a);r()}else l()}var u,a=o.onload||"";e.$on("$routeChangeSuccess",c);c()}}}],Hi=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if(n.type=="text/ng-template"){var r=n.id,i=t[0].text;e.put(r,i)}}}}],Bi=A({terminal:!0}),ji=["$compile","$parse",function(e,r){var i=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,s={$setViewValue:k};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r=this,i={},o=s,u,a;r.databound=n.ngModel;r.init=function(e,t,n){o=e;u=t;a=n};r.addOption=function(t){i[t]=!0;if(o.$viewValue==t){e.val(t);a.parent()&&a.remove()}};r.removeOption=function(e){if(this.hasOption(e)){delete i[e];o.$viewValue==e&&this.renderUnknownOption(e)}};r.renderUnknownOption=function(t){var n="? "+Qt(t)+" ?";a.val(n);e.prepend(a);e.val(n);a.prop("selected",!0)};r.hasOption=function(e){return i.hasOwnProperty(e)};t.$on("$destroy",function(){r.renderUnknownOption=k})}],link:function(s,o,u,f){function C(e,t,n,r){n.$render=function(){var e=n.$viewValue;if(r.hasOption(e)){E.parent()&&E.remove();t.val(e);e===""&&m.prop("selected",!0)}else O(e)&&m?t.val(""):r.renderUnknownOption(e)};t.bind("change",function(){e.$apply(function(){E.parent()&&E.remove();n.$setViewValue(t.val())})})}function k(e,t,n){var r;n.$render=function(){var e=new Gt(n.$viewValue);b(t.children(),function(t){t.selected=M(e.get(t.value))})};e.$watch(function(){if(!Z(r,n.$viewValue)){r=G(n.$viewValue);n.$render()}});t.bind("change",function(){e.$apply(function(){var e=[];b(t.children(),function(t){t.selected&&e.push(t.value)});n.$setViewValue(e)})})}function L(t,s,o){function S(){var e={"":[]},r=[""],i,u,a,d,S,x,T=o.$modelValue,N=b(t)||[],C=c?w(N):N,k,L,A,O,M={},_,D=!1,P,H;if(p)D=new Gt(T);else if(T===null||v){e[""].push({selected:T===null,id:"",label:""});D=!0}for(O=0;L=C.length,O<L;O++){M[l]=N[c?M[c]=C[O]:O];i=h(t,M)||"";if(!(u=e[i])){u=e[i]=[];r.push(i)}if(p)_=D.remove(m(t,M))!=n;else{_=T===m(t,M);D=D||_}u.push({id:c?C[O]:O,label:f(t,M)||"",selected:_})}!p&&!D&&e[""].unshift({id:"?",label:"",selected:!0});for(A=0,k=r.length;A<k;A++){i=r[A];u=e[i];if(E.length<=A){d={element:y.clone().attr("label",i),label:u.label};S=[d];E.push(S);s.append(d.element)}else{S=E[A];d=S[0];d.label!=i&&d.element.attr("label",d.label=i)}P=null;for(O=0,L=u.length;O<L;O++){a=u[O];if(x=S[O+1]){P=x.element;x.label!==a.label&&P.text(x.label=a.label);x.id!==a.id&&P.val(x.id=a.id);x.element.selected!==a.selected&&P.prop("selected",x.selected=a.selected)}else{a.id===""&&v?H=v:(H=g.clone()).val(a.id).attr("selected",a.selected).text(a.label);S.push(x={element:H,label:a.label,id:a.id,selected:a.selected});P?P.after(H):d.element.append(H);P=H}}O++;while(S.length>O)S.pop().element.remove()}while(E.length>A)E.pop()[0].element.remove()}var u;if(!(u=d.match(i)))throw a("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+d+"'.");var f=r(u[2]||u[1]),l=u[4]||u[6],c=u[5],h=r(u[3]||""),m=r(u[2]?u[1]:l),b=r(u[7]),E=[[{element:s,label:""}]];if(v){e(v)(t);v.removeClass("ng-scope");v.remove()}s.html("");s.bind("change",function(){t.$apply(function(){var e,r=b(t)||[],i={},u,a,f,h,d,v,g;if(p){a=[];for(d=0,g=E.length;d<g;d++){e=E[d];for(h=1,v=e.length;h<v;h++)if((f=e[h].element)[0].selected){u=f.val();c&&(i[c]=u);i[l]=r[u];a.push(m(t,i))}}}else{u=s.val();if(u=="?")a=n;else if(u=="")a=null;else{i[l]=r[u];c&&(i[c]=u);a=m(t,i)}}o.$setViewValue(a)})});o.$render=S;t.$watch(S)}if(!f[1])return;var c=f[0],h=f[1],p=u.multiple,d=u.ngOptions,v=!1,m,g=l(t.createElement("option")),y=l(t.createElement("optgroup")),E=g.clone();for(var S=0,x=o.children(),T=x.length;S<T;S++)if(x[S].value==""){m=v=x.eq(S);break}c.init(h,v,E);if(p&&(u.required||u.ngRequired)){var N=function(e){h.$setValidity("required",!u.required||e&&e.length);return e};h.$parsers.push(N);h.$formatters.unshift(N);u.$observe("required",function(){N(h.$viewValue)})}d?L(s,o,h):p?k(s,o,h):C(s,o,h,c)}}}],Fi=["$interpolate",function(e){var t={addOption:k,removeOption:k};return{restrict:"E",priority:100,compile:function(n,r){if(O(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var s="$selectController",o=n.parent(),u=o.data(s)||o.parent().data(s);u&&u.databound?n.prop("selected",!1):u=t;i?e.$watch(i,function(e,t){r.$set("value",e);e!==t&&u.removeOption(t);u.addOption(e)}):u.addOption(r.value);n.bind("$destroy",function(){u.removeOption(r.value)})}}}}],Ii=A({restrict:"E",terminal:!0});mt();Et(v);l(t).ready(function(){ht(t,pt)})})(window,document);angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>');(function(e){e.Parse=e.Parse||{};e.Parse.VERSION="js1.1.15"})(this);(function(){function C(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e._chain&&(e=e._wrapped);t._chain&&(t=t._wrapped);if(e.isEqual&&S.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&S.isFunction(t.isEqual))return t.isEqual(e);var r=a.call(e);if(r!=a.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var i=n.length;while(i--)if(n[i]==e)return!0;n.push(e);var s=0,o=!0;if(r=="[object Array]"){s=e.length;o=s==t.length;if(o)while(s--)if(!(o=s in e==s in t&&C(e[s],t[s],n)))break}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(var u in e)if(S.has(e,u)){s++;if(!(o=S.has(t,u)&&C(e[u],t[u],n)))break}if(o){for(u in t)if(S.has(t,u)&&!(s--))break;o=!s}}n.pop();return o}var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.slice,u=r.unshift,a=i.toString,f=i.hasOwnProperty,l=r.forEach,c=r.map,h=r.reduce,p=r.reduceRight,d=r.filter,v=r.every,m=r.some,g=r.indexOf,y=r.lastIndexOf,b=Array.isArray,w=Object.keys,E=s.bind,S=function(e){return new P(e)};if(typeof exports!="undefined"){typeof module!="undefined"&&module.exports&&(exports=module.exports=S);exports._=S}else e._=S;S.VERSION="1.3.3";var x=S.each=S.forEach=function(e,t,r){if(e==null)return;if(l&&e.forEach===l)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(i in e&&t.call(r,e[i],i,e)===n)return}else for(var o in e)if(S.has(e,o)&&t.call(r,e[o],o,e)===n)return};S.map=S.collect=function(e,t,n){var r=[];if(e==null)return r;if(c&&e.map===c)return e.map(t,n);x(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)});e.length===+e.length&&(r.length=e.length);return r};S.reduce=S.foldl=S.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(h&&e.reduce===h){r&&(t=S.bind(t,r));return i?e.reduce(t,n):e.reduce(t)}x(e,function(e,s,o){if(!i){n=e;i=!0}else n=t.call(r,n,e,s,o)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n};S.reduceRight=S.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduceRight===p){r&&(t=S.bind(t,r));return i?e.reduceRight(t,n):e.reduceRight(t)}var s=S.toArray(e).reverse();r&&!i&&(t=S.bind(t,r));return i?S.reduce(s,t,n,r):S.reduce(s,t)};S.find=S.detect=function(e,t,n){var r;T(e,function(e,i,s){if(t.call(n,e,i,s)){r=e;return!0}});return r};S.filter=S.select=function(e,t,n){var r=[];if(e==null)return r;if(d&&e.filter===d)return e.filter(t,n);x(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)});return r};S.reject=function(e,t,n){var r=[];if(e==null)return r;x(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)});return r};S.every=S.all=function(e,t,r){var i=!0;if(e==null)return i;if(v&&e.every===v)return e.every(t,r);x(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n});return!!i};var T=S.some=S.any=function(e,t,r){t||(t=S.identity);var i=!1;if(e==null)return i;if(m&&e.some===m)return e.some(t,r);x(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n});return!!i};S.include=S.contains=function(e,t){var n=!1;if(e==null)return n;if(g&&e.indexOf===g)return e.indexOf(t)!=-1;n=T(e,function(e){return e===t});return n};S.invoke=function(e,t){var n=o.call(arguments,2);return S.map(e,function(e){return(S.isFunction(t)?t||e:e[t]).apply(e,n)})};S.pluck=function(e,t){return S.map(e,function(e){return e[t]})};S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-Infinity;var r={computed:-Infinity};x(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})});return r.value};S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return Infinity;var r={computed:Infinity};x(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})});return r.value};S.shuffle=function(e){var t=[],n;x(e,function(e,r,i){n=Math.floor(Math.random()*(r+1));t[r]=t[n];t[n]=e});return t};S.sortBy=function(e,t,n){var r=S.isFunction(t)?t:function(e){return e[t]};return S.pluck(S.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n===void 0?1:r===void 0?-1:n<r?-1:n>r?1:0}),"value")};S.groupBy=function(e,t){var n={},r=S.isFunction(t)?t:function(e){return e[t]};x(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)});return n};S.sortedIndex=function(e,t,n){n||(n=S.identity);var r=0,i=e.length;while(r<i){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r};S.toArray=function(e){return e?S.isArray(e)?o.call(e):S.isArguments(e)?o.call(e):e.toArray&&S.isFunction(e.toArray)?e.toArray():S.values(e):[]};S.size=function(e){return S.isArray(e)?e.length:S.keys(e).length};S.first=S.head=S.take=function(e,t,n){return t!=null&&!n?o.call(e,0,t):e[0]};S.initial=function(e,t,n){return o.call(e,0,e.length-(t==null||n?1:t))};S.last=function(e,t,n){return t!=null&&!n?o.call(e,Math.max(e.length-t,0)):e[e.length-1]};S.rest=S.tail=function(e,t,n){return o.call(e,t==null||n?1:t)};S.compact=function(e){return S.filter(e,function(e){return!!e})};S.flatten=function(e,t){return S.reduce(e,function(e,n){if(S.isArray(n))return e.concat(t?n:S.flatten(n));e[e.length]=n;return e},[])};S.without=function(e){return S.difference(e,o.call(arguments,1))};S.uniq=S.unique=function(e,t,n){var r=n?S.map(e,n):e,i=[];e.length<3&&(t=!0);S.reduce(r,function(n,r,s){if(t?S.last(n)!==r||!n.length:!S.include(n,r)){n.push(r);i.push(e[s])}return n},[]);return i};S.union=function(){return S.uniq(S.flatten(arguments,!0))};S.intersection=S.intersect=function(e){var t=o.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})};S.difference=function(e){var t=S.flatten(o.call(arguments,1),!0);return S.filter(e,function(e){return!S.include(t,e)})};S.zip=function(){var e=o.call(arguments),t=S.max(S.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=S.pluck(e,""+r);return n};S.indexOf=function(e,t,n){if(e==null)return-1;var r,i;if(n){r=S.sortedIndex(e,t);return e[r]===t?r:-1}if(g&&e.indexOf===g)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(r in e&&e[r]===t)return r;return-1};S.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1};S.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r){s[i++]=e;e+=n}return s};var N=function(){};S.bind=function(t,n){var r,i;if(t.bind===E&&E)return E.apply(t,o.call(arguments,1));if(!S.isFunction(t))throw new TypeError;i=o.call(arguments,2);return r=function(){if(this instanceof r){N.prototype=t.prototype;var e=new N,s=t.apply(e,i.concat(o.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(o.call(arguments)))}};S.bindAll=function(e){var t=o.call(arguments,1);t.length==0&&(t=S.functions(e));x(t,function(t){e[t]=S.bind(e[t],e)});return e};S.memoize=function(e,t){var n={};t||(t=S.identity);return function(){var r=t.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};S.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};S.defer=function(e){return S.delay.apply(S,[e,1].concat(o.call(arguments,1)))};S.throttle=function(e,t){var n,r,i,s,o,u,a=S.debounce(function(){o=s=!1},t);return function(){n=this;r=arguments;var f=function(){i=null;o&&e.apply(n,r);a()};i||(i=setTimeout(f,t));s?o=!0:u=e.apply(n,r);a();s=!0;return u}};S.debounce=function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null;n||e.apply(i,s)};n&&!r&&e.apply(i,s);clearTimeout(r);r=setTimeout(o,t)}};S.once=function(e){var t=!1,n;return function(){if(t)return n;t=!0;return n=e.apply(this,arguments)}};S.wrap=function(e,t){return function(){var n=[e].concat(o.call(arguments,0));return t.apply(this,n)}};S.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}};S.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}};S.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&(t[t.length]=n);return t};S.values=function(e){return S.map(e,S.identity)};S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()};S.extend=function(e){x(o.call(arguments,1),function(t){for(var n in t)e[n]=t[n]});return e};S.pick=function(e){var t={};x(S.flatten(o.call(arguments,1)),function(n){n in e&&(t[n]=e[n])});return t};S.defaults=function(e){x(o.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])});return e};S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e};S.tap=function(e,t){t(e);return e};S.isEqual=function(e,t){return C(e,t,[])};S.isEmpty=function(e){if(e==null)return!0;if(S.isArray(e)||S.isString(e))return e.length===0;for(var t in e)if(S.has(e,t))return!1;return!0};S.isElement=function(e){return!!e&&e.nodeType==1};S.isArray=b||function(e){return a.call(e)=="[object Array]"};S.isObject=function(e){return e===Object(e)};S.isArguments=function(e){return a.call(e)=="[object Arguments]"};S.isArguments(arguments)||(S.isArguments=function(e){return!!e&&!!S.has(e,"callee")});S.isFunction=function(e){return a.call(e)=="[object Function]"};S.isString=function(e){return a.call(e)=="[object String]"};S.isNumber=function(e){return a.call(e)=="[object Number]"};S.isFinite=function(e){return S.isNumber(e)&&isFinite(e)};S.isNaN=function(e){return e!==e};S.isBoolean=function(e){return e===!0||e===!1||a.call(e)=="[object Boolean]"};S.isDate=function(e){return a.call(e)=="[object Date]"};S.isRegExp=function(e){return a.call(e)=="[object RegExp]"};S.isNull=function(e){return e===null};S.isUndefined=function(e){return e===void 0};S.has=function(e,t){return f.call(e,t)};S.noConflict=function(){e._=t;return this};S.identity=function(e){return e};S.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)};S.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};S.result=function(e,t){if(e==null)return null;var n=e[t];return S.isFunction(n)?n.call(e):n};S.mixin=function(e){x(S.functions(e),function(t){B(t,S[t]=e[t])})};var k=0;S.uniqueId=function(e){var t=k++;return e?e+t:t};S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/.^/,A={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var O in A)A[A[O]]=O;var M=/\\|'|\r|\n|\t|\u2028|\u2029/g,_=/\\(\\|'|r|n|t|u2028|u2029)/g,D=function(e){return e.replace(_,function(e,t){return A[t]})};S.template=function(e,t,n){n=S.defaults(n||{},S.templateSettings);var r="__p+='"+e.replace(M,function(e){return"\\"+A[e]}).replace(n.escape||L,function(e,t){return"'+\n_.escape("+D(t)+")+\n'"}).replace(n.interpolate||L,function(e,t){return"'+\n("+D(t)+")+\n'"}).replace(n.evaluate||L,function(e,t){return"';\n"+D(t)+"\n;__p+='"})+"';\n";n.variable||(r="with(obj||{}){\n"+r+"}\n");r="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+r+"return __p;\n";var i=new Function(n.variable||"obj","_",r);if(t)return i(t,S);var s=function(e){return i.call(this,e,S)};s.source="function("+(n.variable||"obj")+"){\n"+r+"}";return s};S.chain=function(e){return S(e).chain()};var P=function(e){this._wrapped=e};S.prototype=P.prototype;var H=function(e,t){return t?S(e).chain():e},B=function(e,t){P.prototype[e]=function(){var e=o.call(arguments);u.call(e,this._wrapped);return H(t.apply(S,e),this._chain)}};S.mixin(S);x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];P.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;(e=="shift"||e=="splice")&&r===0&&delete n[0];return H(n,this._chain)}});x(["concat","join","slice"],function(e){var t=r[e];P.prototype[e]=function(){return H(t.apply(this._wrapped,arguments),this._chain)}});P.prototype.chain=function(){this._chain=!0;return this};P.prototype.value=function(){return this._wrapped}}).call(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;if(typeof exports!="undefined"&&exports._){t._=exports._.noConflict();t.localStorage=require("localStorage");t.XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest;exports.Parse=t}else{t._=_.noConflict();typeof localStorage!="undefined"&&(t.localStorage=localStorage);typeof XMLHttpRequest!="undefined"&&(t.XMLHttpRequest=XMLHttpRequest)}typeof $!="undefined"&&(t.$=$);var n=function(){},r=function(e,r,i){var s;r&&r.hasOwnProperty("constructor")?s=r.constructor:s=function(){e.apply(this,arguments)};t._.extend(s,e);n.prototype=e.prototype;s.prototype=new n;r&&t._.extend(s.prototype,r);i&&t._.extend(s,i);s.prototype.constructor=s;s.__super__=e.prototype;return s};t.serverURL="https://api.parse.com";t.initialize=function(e,n){t._initialize(e,n)};t._initialize=function(e,n,r){t.applicationId=e;t.javaScriptKey=n;t.masterKey=r;t._useMasterKey=!1};t._getParsePath=function(e){if(!t.applicationId)throw"You need to call Parse.initialize before using Parse.";e||(e="");if(!t._.isString(e))throw"Tried to get a localStorage path that wasn't a String.";e[0]==="/"&&(e=e.substring(1));return"Parse/"+t.applicationId+"/"+e};t._installationId=null;t._getInstallationId=function(){if(t._installationId)return t._installationId;var e=t._getParsePath("installationId");t._installationId=t.localStorage.getItem(e);if(!t._installationId||t._installationId===""){var n=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};t._installationId=n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n();t.localStorage.setItem(e,t._installationId)}return t._installationId};t._parseDate=function(e){var t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),n=t.exec(e);if(!n)return null;var r=n[1]||0,i=(n[2]||1)-1,s=n[3]||0,o=n[4]||0,u=n[5]||0,a=n[6]||0,f=n[8]||0;return new Date(Date.UTC(r,i,s,o,u,a,f))};t._ajaxIE8=function(e,t,n,r,i){var s=new XDomainRequest;s.onload=function(){var e;try{e=JSON.parse(s.responseText)}catch(t){i&&i(s)}e&&r&&r(e,s)};s.onerror=s.ontimeout=function(){i(s)};s.onprogress=function(){};s.open(e,t);s.send(n)};t._ajax=function(e,n,r,i,s){if(typeof XDomainRequest!="undefined")return t._ajaxIE8(e,n,r,i,s);var o=!1,u=new t.XMLHttpRequest;u.onreadystatechange=function(){if(u.readyState===4){if(o)return;o=!0;if(u.status>=200&&u.status<300){var e;try{e=JSON.parse(u.responseText)}catch(t){s&&s(u)}e&&i&&i(e,u)}else s&&s(u)}};u.open(e,n,!0);u.setRequestHeader("Content-Type","text/plain");u.send(r)};t._extend=function(e,t){var n=r(this,e,t);n.extend=this.extend;return n};t._request=function(e,n,r,i,s,o){if(!t.applicationId)throw"You must specify your applicationId using Parse.initialize";if(!t.javaScriptKey&&!t.masterKey)throw"You must specify a key using Parse.initialize";if(e!=="classes"&&e!=="push"&&e!=="users"&&e!=="login"&&e!=="functions"&&e!=="requestPasswordReset")throw"First argument must be one of classes, users, functions, or login, not '"+e+"'.";var u=t.serverURL;u.charAt(u.length-1)!=="/"&&(u+="/");u+="1/"+e;n&&(u+="/"+n);r&&(u+="/"+r);s=t._.clone(s||{});if(i!=="POST"){s._method=i;i="POST"}s._ApplicationId=t.applicationId;t._useMasterKey?s._MasterKey=t.masterKey:s._JavaScriptKey=t.javaScriptKey;s._ClientVersion=t.VERSION;s._InstallationId=t._getInstallationId();var a=t.User.current();a&&a._sessionToken&&(s._SessionToken=a._sessionToken);var f=JSON.stringify(s);t._ajax(i,u,f,o.success,o.error)};t._getValue=function(e,n){return!e||!e[n]?null:t._.isFunction(e[n])?e[n]():e[n]};t._encode=function(e,n,r){var i=t._;if(e instanceof t.Object){if(r)throw"Parse.Objects not allowed here";if(!n||i.include(n,e)||!e._hasData)return e._toPointer();if(!e.dirty()){n=n.concat(e);return t._encode(e._toFullJSON(n),n,r)}throw"Can't fully embed a dirty object"}if(e instanceof t.ACL)return e.toJSON();if(e instanceof Date)return{__type:"Date",iso:e.toJSON()};if(e instanceof t.GeoPoint)return e.toJSON();if(i.isArray(e))return i.map(e,function(e){return t._encode(e,n,r)});if(i.isRegExp(e))return e.source;if(e instanceof t.Relation)return e.toJSON();if(e instanceof t.Op)return e.toJSON();if(e instanceof Object){var s={};t._each(e,function(e,i){s[i]=t._encode(e,n,r)});return s}return e};t._decode=function(e,n){var r=t._;if(!r.isObject(n))return n;if(r.isArray(n)){t._each(n,function(e,r){n[r]=t._decode(r,e)});return n}if(n instanceof t.Object)return n;if(n instanceof t.Op)return n;if(n.__op)return t.Op._decode(n);if(n.__type==="Pointer"){var i=t.Object._create(n.className);i._finishFetch({objectId:n.objectId},!1);return i}if(n.__type==="Object"){var s=n.className;delete n.__type;delete n.className;var o=t.Object._create(s);o._finishFetch(n,!0);return o}if(n.__type==="Date")return t._parseDate(n.iso);if(n.__type==="GeoPoint")return new t.GeoPoint({latitude:n.latitude,longitude:n.longitude});if(e==="ACL")return n instanceof t.ACL?n:new t.ACL(n);if(n.__type==="Relation"){var u=new t.Relation(null,e);u.targetClassName=n.className;return u}t._each(n,function(e,r){n[r]=t._decode(r,e)});return n};t._each=function(e,n){var r=t._;r.isObject(e)?r.each(r.keys(e),function(t){n(e[t],t)}):r.each(e,n)};t._isNullOrUndefined=function(e){return t._.isNull(e)||t._.isUndefined(e)}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Error=function(e,t){this.code=e;this.message=t};n.extend(t.Error,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA
:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252})})(this);(function(){var e=this,t=e.Parse||(e.Parse={}),n=/\s+/,r=Array.prototype.slice;t.Events={on:function(e,t,r){var i,s,o,u,a;if(!t)return this;e=e.split(n);i=this._callbacks||(this._callbacks={});s=e.shift();while(s){a=i[s];o=a?a.tail:{};o.next=u={};o.context=r;o.callback=t;i[s]={tail:u,next:a?a.next:o};s=e.shift()}return this},off:function(e,t,r){var i,s,o,u,a,f;if(!(s=this._callbacks))return;if(!(e||t||r)){delete this._callbacks;return this}e=e?e.split(n):_.keys(s);i=e.shift();while(i){o=s[i];delete s[i];if(!o||!t&&!r)continue;u=o.tail;o=o.next;while(o!==u){a=o.callback;f=o.context;(t&&a!==t||r&&f!==r)&&this.on(i,a,f);o=o.next}i=e.shift()}return this},trigger:function(e){var t,i,s,o,u,a,f;if(!(s=this._callbacks))return this;a=s.all;e=e.split(n);f=r.call(arguments,1);t=e.shift();while(t){i=s[t];if(i){o=i.tail;while((i=i.next)!==o)i.callback.apply(i.context||this,f)}i=a;if(i){o=i.tail;u=[t].concat(f);while((i=i.next)!==o)i.callback.apply(i.context||this,u)}t=e.shift()}return this}};t.Events.bind=t.Events.on;t.Events.unbind=t.Events.off}).call(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.GeoPoint=function(e,r){if(n.isArray(e)){t.GeoPoint._validate(e[0],e[1]);this.latitude=e[0];this.longitude=e[1]}else if(n.isObject(e)){t.GeoPoint._validate(e.latitude,e.longitude);this.latitude=e.latitude;this.longitude=e.longitude}else if(n.isNumber(e)&&n.isNumber(r)){t.GeoPoint._validate(e,r);this.latitude=e;this.longitude=r}else{this.latitude=0;this.longitude=0}var i=this;if(this.__defineGetter__&&this.__defineSetter__){this._latitude=this.latitude;this._longitude=this.longitude;this.__defineGetter__("latitude",function(){return i._latitude});this.__defineGetter__("longitude",function(){return i._longitude});this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,i.longitude);i._latitude=e});this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(i.latitude,e);i._longitude=e})}};t.GeoPoint._validate=function(e,t){if(e<-90)throw"Parse.GeoPoint latitude "+e+" < -90.0.";if(e>90)throw"Parse.GeoPoint latitude "+e+" > 90.0.";if(t<-180)throw"Parse.GeoPoint longitude "+t+" < -180.0.";if(t>180)throw"Parse.GeoPoint longitude "+t+" > 180.0."};t.GeoPoint.current=function(e){var n=function(n){e.success&&e.success(new t.GeoPoint({latitude:n.coords.latitude,longitude:n.coords.longitude}))},r=function(t){e.error&&e.error(t)};navigator.geolocation.getCurrentPosition(n,r)};t.GeoPoint.prototype={toJSON:function(){t.GeoPoint._validate(this.latitude,this.longitude);return{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(e){var t=Math.PI/180,n=this.latitude*t,r=this.longitude*t,i=e.latitude*t,s=e.longitude*t,o=n-i,u=r-s,a=Math.sin(o/2),f=Math.sin(u/2),l=a*a+Math.cos(n)*Math.cos(i)*f*f;l=Math.min(1,l);return 2*Math.asin(Math.sqrt(l))},kilometersTo:function(e){return this.radiansTo(e)*6371},milesTo:function(e){return this.radiansTo(e)*3958.8}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,r="*";t.ACL=function(e){var r=this;r.permissionsById={};if(n.isObject(e))if(e instanceof t.User){r.setReadAccess(e,!0);r.setWriteAccess(e,!0)}else{if(n.isFunction(e))throw"Parse.ACL() called with a function.  Did you forget ()?";t._each(e,function(e,i){if(!n.isString(i))throw"Tried to create an ACL with an invalid userId.";r.permissionsById[i]={};t._each(e,function(e,t){if(t!=="read"&&t!=="write")throw"Tried to create an ACL with an invalid permission type.";if(!n.isBoolean(e))throw"Tried to create an ACL with an invalid permission value.";r.permissionsById[i][t]=e})})}};t.ACL.prototype.toJSON=function(){return n.clone(this.permissionsById)};t.ACL.prototype._setAccess=function(e,r,i){r instanceof t.User?r=r.id:r instanceof t.Role&&(r="role:"+r.getName());if(!n.isString(r))throw"userId must be a string.";if(!n.isBoolean(i))throw"allowed must be either true or false.";var s=this.permissionsById[r];if(!s){if(!i)return;s={};this.permissionsById[r]=s}if(i)this.permissionsById[r][e]=!0;else{delete s[e];n.isEmpty(s)&&delete s[r]}};t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var r=this.permissionsById[n];return r?r[e]?!0:!1:!1};t.ACL.prototype.setReadAccess=function(e,t){this._setAccess("read",e,t)};t.ACL.prototype.getReadAccess=function(e){return this._getAccess("read",e)};t.ACL.prototype.setWriteAccess=function(e,t){this._setAccess("write",e,t)};t.ACL.prototype.getWriteAccess=function(e){return this._getAccess("write",e)};t.ACL.prototype.setPublicReadAccess=function(e){this.setReadAccess(r,e)};t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(r)};t.ACL.prototype.setPublicWriteAccess=function(e){this.setWriteAccess(r,e)};t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(r)};t.ACL.prototype.getRoleReadAccess=function(e){e instanceof t.Role&&(e=e.getName());if(n.isString(e))return this.getReadAccess("role:"+e);throw"role must be a Parse.Role or a String"};t.ACL.prototype.getRoleWriteAccess=function(e){e instanceof t.Role&&(e=e.getName());if(n.isString(e))return this.getWriteAccess("role:"+e);throw"role must be a Parse.Role or a String"};t.ACL.prototype.setRoleReadAccess=function(e,r){e instanceof t.Role&&(e=e.getName());if(n.isString(e)){this.setReadAccess("role:"+e,r);return}throw"role must be a Parse.Role or a String"};t.ACL.prototype.setRoleWriteAccess=function(e,r){e instanceof t.Role&&(e=e.getName());if(n.isString(e)){this.setWriteAccess("role:"+e,r);return}throw"role must be a Parse.Role or a String"}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Op=function(){this._initialize.apply(this,arguments)};t.Op.prototype={_initialize:function(){}};n.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):undefined}});t.Op._registerDecoder("Batch",function(e){var r=null;n.each(e.ops,function(e){e=t.Op._decode(e);r=e._mergeWithPrevious(r)});return r});t.Op.Set=t.Op._extend({_initialize:function(e){this._value=e},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(e){return this},_estimate:function(e){return this.value()}});t.Op._UNSET={};t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(e){return this},_estimate:function(e){return t.Op._UNSET}});t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset});t.Op.Increment=t.Op._extend({_initialize:function(e){this._amount=e},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(!e)return this;if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw"Op is invalid after previous op."},_estimate:function(e){return e?e+this.amount():this.amount()}});t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)});t.Op.Add=t.Op._extend({_initialize:function(e){this._objects=e},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(!e)return this;if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw"Op is invalid after previous op."},_estimate:function(e){return e?e.concat(this.objects()):n.clone(this.objects())}});t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(undefined,e.objects))});t.Op.AddUnique=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(!e)return this;if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(n.union(e.objects(),this.objects()));throw"Op is invalid after previous op."},_estimate:function(e){return e?e.concat(n.difference(this.objects(),e)):n.clone(this.objects())}});t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(undefined,e.objects))});t.Op.Remove=t.Op._extend({_initialize:function(e){this._objects=n.uniq(e)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(!e)return this;if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(n.union(e.objects(),this.objects()));throw"Op is invalid after previous op."},_estimate:function(e){if(!e)return[];var r=n.difference(e,this.objects());n.each(this.objects(),function(e){e instanceof t.Object&&e.id&&(r=n.reject(r,function(n){return n instanceof t.Object&&n.id===e.id}))});return r}});t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(undefined,e.objects))});t.Op.Relation=t.Op._extend({_initialize:function(e,r){this._targetClassName=null;var i=this,s=function(e){if(e instanceof t.Object){if(!e.id)throw"You can't add an unsaved Parse.Object to a relation.";i._targetClassName||(i._targetClassName=e.className);if(i._targetClassName!==e.className)throw"Tried to create a Parse.Relation with 2 different types: "+i._targetClassName+" and "+e.className+".";return e.id}return e};this.relationsToAdd=n.uniq(n.map(e,s));this.relationsToRemove=n.uniq(n.map(r,s))},added:function(){var e=this;return n.map(this.relationsToAdd,function(n){var r=t.Object._create(e._targetClassName);r.id=n;return r})},removed:function(){var e=this;return n.map(this.relationsToRemove,function(n){var r=t.Object._create(e._targetClassName);r.id=n;return r})},toJSON:function(){var e=null,t=null,r=this,i=function(e){return{__type:"Pointer",className:r._targetClassName,objectId:e}},s=null;if(this.relationsToAdd.length>0){s=n.map(this.relationsToAdd,i);e={__op:"AddRelation",objects:s}}if(this.relationsToRemove.length>0){s=n.map(this.relationsToRemove,i);t={__op:"RemoveRelation",objects:s}}return e&&t?{__op:"Batch",ops:[e,t]}:e||t||{}},_mergeWithPrevious:function(e){if(!e)return this;if(e instanceof t.Op.Unset)throw"You can't modify a relation after deleting it.";if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw"Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.";var r=n.union(n.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=n.union(n.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),s=new t.Op.Relation(r,i);s._targetClassName=this._targetClassName;return s}throw"Op is invalid after previous op."},_estimate:function(e,n,r){if(!!e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw"Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in."}else e.targetClassName=this._targetClassName;return e}throw"Op is invalid after previous op."}var i=new t.Relation(n,r);i.targetClassName=this._targetClassName}});t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(undefined,e.objects),[])});t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(undefined,e.objects))})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Relation=function(e,t){this.parent=e;this.key=t;this.targetClassName=null};t.Relation.prototype={_ensureParentAndKey:function(e,t){this.parent=this.parent||e;this.key=this.key||t;if(this.parent!==e)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==t)throw"Internal Error. Relation retrieved from two different keys."},add:function(e){n.isArray(e)||(e=[e]);var r=new t.Op.Relation(e,[]);this.parent.set(this.key,r);this.targetClassName=r._targetClassName},remove:function(e){n.isArray(e)||(e=[e]);var r=new t.Op.Relation([],e);this.parent.set(this.key,r);this.targetClassName=r._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var e,n;if(!this.targetClassName){e=t.Object._getSubclass(this.parent.className);n=new t.Query(e);n._extraOptions.redirectClassNameForKey=this.key}else{e=t.Object._getSubclass(this.targetClassName);n=new t.Query(e)}n._addCondition("$relatedTo","object",this.parent._toPointer());n._addCondition("$relatedTo","key",this.key);return n}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Object=function(e,r){if(n.isString(e))return t.Object._create.apply(this,arguments);e=e||{};r&&r.parse&&(e=this.parse(e));var i=t._getValue(this,"defaults");i&&(e=n.extend({},i,e));r&&r.collection&&(this.collection=r.collection);this._serverData={};this._opSetQueue=[{}];this.attributes={};this._hashedJSON={};this._escapedAttributes={};this.cid=n.uniqueId("c");this.changed={};this._silent={};this._pending={};if(!this.set(e,{silent:!0}))throw new Error("Can't create an invalid Parse.Object");this.changed={};this._silent={};this._pending={};this._hasData=!0;this._previousAttributes=n.clone(this.attributes);this.initialize.apply(this,arguments)};var r=function(e,t,i,s){i=i||[];var o;if(n.isFunction(s)){var u=s;o={success:function(e){u(e,null)},error:function(e){u(null,e)}}}else o=s;if(e.length){var a=o,f=o?n.clone(o):{};f.success=function(s,o){i.push(s);r(n.rest(e),t,i,a)};t.call(this,n.first(e),f)}else o.success&&o.success(i)};t.Object.saveAll=function(e,t){r(e,function(e,t){e.save(null,t)},[],t)};t.Object._signUpAll=function(e,t){r(e,function(e,t){e.signUp(null,t)},[],t)};n.extend(t.Object.prototype,t.Events,{_existed:!1,initialize:function(){},toJSON:function(){var e=this._toFullJSON();n.each(["__type","className"],function(t){delete e[t]});return e},_toFullJSON:function(e){var r=n.clone(this.attributes);t._each(r,function(n,i){r[i]=t._encode(n,e)});t._each(this._operations,function(e,t){r[t]=e});n.has(this,"id")&&(r.objectId=this.id);n.has(this,"createdAt")&&(n.isDate(this.createdAt)?r.createdAt=this.createdAt.toJSON():r.createdAt=this.createdAt);n.has(this,"updatedAt")&&(n.isDate(this.updatedAt)?r.updatedAt=this.updatedAt.toJSON():r.updatedAt=this.updatedAt);r.__type="Object";r.className=this.className;return r},_refreshCache:function(){var e=this;t._each(this.attributes,function(r,i){r instanceof t.Object?r._refreshCache():n.isObject(r)&&e._resetCacheForKey(i)&&e.set(i,new t.Op.Set(r),{silent:!0})})},dirty:function(e){this._refreshCache();var t=n.last(this._opSetQueue);return e?t[e]?!0:!1:this.id?n.keys(t).length>0?!0:!1:!0},_toPointer:function(){if(!this.id)throw new Error("Can't serialize an unsaved Parse.Object");return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(e){return this.attributes[e]},relation:function(e){var n=this.get(e);if(n){if(n instanceof t.Relation){n._ensureParentAndKey(this,e);return n}throw"Called relation() on non-relation field "+e}return new t.Relation(this,e)},escape:function(e){var r=this._escapedAttributes[e];if(r)return r;var i=this.attributes[e],s;t._isNullOrUndefined(i)?s="":s=n.escape(i.toString());this._escapedAttributes[e]=s;return s},has:function(e){return!t._isNullOrUndefined(this.attributes[e])},_mergeMagicFields:function(e){var r=this;n.each(["id","objectId","createdAt","updatedAt"],function(i){if(e[i]){i==="objectId"?r.id=e[i]:i!=="createdAt"&&i!=="updatedAt"||!!n.isDate(e[i])?r[i]=e[i]:r[i]=t._parseDate(e[i]);delete e[i]}})},_startSave:function(){this._opSetQueue.push({})},_processSaveQueue:function(){if(this._saveQueue&&this._saveQueue.length>0){var e=n.first(this._saveQueue);this._saveQueue=n.rest(this._saveQueue);e()}else this._saving=!1},_cancelSave:function(){var e=this,r=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue);var i=n.first(this._opSetQueue);t._each(r,function(e,t){var n=r[t],s=i[t];n&&s?i[t]=s._mergeWithPrevious(n):n&&(i[t]=n)});this._processSaveQueue()},_finishSave:function(e){var r=n.first(this._opSetQueue);this._opSetQueue=n.rest(this._opSetQueue);this._applyOpSet(r,this._serverData);this._mergeMagicFields(e);var i=this;t._each(e,function(e,n){i._serverData[n]=t._decode(n,e)});this._rebuildAllEstimatedData();this._processSaveQueue()},_finishFetch:function(e,n){this._opSetQueue=[{}];this._mergeMagicFields(e);var r=this;t._each(e,function(e,n){r._serverData[n]=t._decode(n,e)});this._rebuildAllEstimatedData();this._refreshCache();this._opSetQueue=[{}];this._hasData=n},_applyOpSet:function(e,n){var r=this;t._.each(e,function(e,i){n[i]=e._estimate(n[i],r,i);n[i]===t.Op._UNSET&&delete n[i]})},_resetCacheForKey:function(e){var r=this.attributes[e];if(n.isObject(r)&&!(r instanceof t.Object)){r=r.toJSON?r.toJSON():r;var i=JSON.stringify(r);if(this._hashedJSON[e]!==i){this._hashedJSON[e]=i;return!0}}return!1},_rebuildEstimatedDataForKey:function(e){var r=this;delete this.attributes[e];this._serverData[e]&&(this.attributes[e]=this._serverData[e]);n.each(this._opSetQueue,function(n){var i=n[e];if(i){r.attributes[e]=i._estimate(r.attributes[e],r,e);r.attributes[e]===t.Op._UNSET?delete r.attributes[e]:r._resetCacheForKey(e)}})},_rebuildAllEstimatedData:function(){var e=this;this.attributes=n.clone(this._serverData);n.each(this._opSetQueue,function(t){e._applyOpSet(t,e.attributes);n.each(t,function(t,n){e._resetCacheForKey(n)})})},set:function(e,r,i){var s,o;if(n.isObject(e)||t._isNullOrUndefined(e)){s=e;t._each(s,function(e,n){s[n]=t._decode(n,e)});i=r}else{s={};s[e]=t._decode(e,r)}i=i||{};if(!s)return this;s instanceof t.Object&&(s=s.attributes);i.unset&&t._each(s,function(e,n){s[n]=new t.Op.Unset});var u=n.clone(s),a=this;t._each(u,function(e,n){if(e instanceof t.Op){u[n]=e._estimate(a.attributes[n],a,n);u[n]===t.Op._UNSET&&delete u[n]}});if(!this._validate(s,i))return!1;this._mergeMagicFields(s);i.changes={};var f=this._escapedAttributes,l=this._previousAttributes||{};t._each(n.keys(s),function(e){var r=s[e];r instanceof t.Relation&&(r.parent=a);r instanceof t.Op||(r=new t.Op.Set(r));var o=!0;r instanceof t.Op.Set&&n.isEqual(a.attributes[e],r.value)&&(o=!1);if(o){delete f[e];i.silent?a._silent[e]=!0:i.changes[e]=!0}var u=n.last(a._opSetQueue);u[e]=r._mergeWithPrevious(u[e]);a._rebuildEstimatedDataForKey(e);if(o){a.changed[e]=a.attributes[e];i.silent||(a._pending[e]=!0)}else{delete a.changed[e];delete a._pending[e]}});i.silent||this.change(i);return this},unset:function(e,t){t=t||{};t.unset=!0;return this.set(e,null,t)},increment:function(e,r){if(n.isUndefined(r)||n.isNull(r))r=1;return this.set(e,new t.Op.Increment(r))},add:function(e,n){return this.set(e,new t.Op.Add([n]))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique([n]))},remove:function(e,n){return this.set(e,new t.Op.Remove([n]))},op:function(e){return n.last(this._opSetQueue)[e]},clear:function(e){e=e||{};e.unset=!0;var t=n.extend(this.attributes,this._operations);return this.set(t,e)},_getSaveJSON:function(){var e=n.clone(n.first(this._opSetQueue));t._each(e,function(t,n){e[n]=t.toJSON()});return e},fetch:function(e){e=e?n.clone(e):{};var r=this,i=e.success;e.success=function(e,t,n){r._finishFetch(r.parse(e,t,n),!0);i&&i(r,e)};e.error=t.Object._wrapError(e.error,r,e);t._request("classes",r.className,r.id,"GET",null,e)},save:function(e,r,i){var s,o,u,a,f;if(n.isObject(e)||t._isNullOrUndefined(e)){o=e;a=r}else{o={};o[e]=r;a=i}if(!a&&o){var l=n.reject(o,function(e,t){return n.include(["success","error","wait"],t)});if(l.length===0){var c=!0;n.has(o,"success")&&!n.isFunction(o.success)&&(c=!1);n.has(o,"error")&&!n.isFunction(o.error)&&(c=!1);if(c)return this.save(null,o)}}a=a?n.clone(a):{};a.wait&&(u=n.clone(this.attributes));var h=n.extend({},a,{silent:!0});if(o&&!this.set(o,a.wait?h:a))return!1;var p=a,d=n.clone(a),v=this;v._refreshCache();var m=t.Object._findUnsavedChildren(v.attributes);if(m.length>0){t.Object.saveAll(m,{success:function(e){v.save(null,p)},error:function(e){a.error&&a.error.apply(this,arguments)}});return this}d.success=function(e,t,r){var i=v.parse(e,t,r);d.wait&&(i=n.extend(o||{},i));v._finishSave(i);p.success?p.success(v,e):v.trigger("sync",v,e,d)};d.error=function(){v._cancelSave();p.error&&p.error.apply(this,arguments)};d.error=t.Object._wrapError(d.error,v,d);this._startSave();var g=function(){var e=v.id?"PUT":"POST",n=v._getSaveJSON(),r="classes",i=v.className;if(v.className==="_User"&&!v.id){r="users";i=null}t._request(r,i,v.id,e,n,d);d.wait&&v.set(u,h)};if(this._saving){this._saveQueue=this._saveQueue||[];this._saveQueue.push(g)}else{this._saving=!0;g()}return this},destroy:function(e){e=e?n.clone(e):{};var r=this,i=e.success,s=function(){r.trigger("destroy",r,r.collection,e)};if(!this.id)return s();e.success=function(t){e.wait&&s();i?i(r,t):r.trigger("sync",r,t,e)};e.error=t.Object._wrapError(e.error,r,e);t._request("classes",this.className,this.id,"DELETE",null,e);e.wait||s()},parse:function(e,r,i){var s=n.clone(e);n(["createdAt","updatedAt"]).each(function(e){s[e]&&(s[e]=t._parseDate(s[e]))});s.updatedAt||(s.updatedAt=s.createdAt);r&&(this._existed=r.status!==201);return s},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var r=this._changing;this._changing=!0;var i=this;t._each(this._silent,function(e){i._pending[e]=!0});var s=n.extend({},e.changes,this._silent);this._silent={};t._each(s,function(t,n){i.trigger("change:"+n,i,i.get(n),e)});if(r)return this;var o=function(e){!i._pending[e]&&!i._silent[e]&&delete i.changed[e]};while(!n.isEmpty(this._pending)){this._pending={};this.trigger("change",this,e);t._each(this.changed,o);i._previousAttributes=n.clone(this.attributes)}this._changing=!1;return this},existed:function(){return this._existed},hasChanged:function(e){return arguments.length?this._changed&&n.has(this._changed,e):!n.isEmpty(this._changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this._changed):!1;var r={},i=this._previousAttributes;t._each(e,function(e,t){n.isEqual(i[t],e)||(r[t]=e)});return r},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(e,r){return!n.has(e,"ACL")||e.ACL instanceof t.ACL?!1:new t.Error(t.Error.OTHER_CAUSE,"ACL must be a Parse.ACL.")},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validate(e,t);if(!r)return!0;t&&t.error?t.error(this,r,t):this.trigger("error",this,r,t);return!1},getACL:function(){return this.get("ACL")},setACL:function(e,t){return this.set("ACL",e,t)}});t.Object._getSubclass=function(e){if(!n.isString(e))throw"Parse.Object._getSubclass requires a string argument.";var r=t.Object._classMap[e];if(!r){r=t.Object.extend(e);t.Object._classMap[e]=r}return r};t.Object._create=function(e,n,r){var i=t.Object._getSubclass(e);return new i(n,r)};t.Object._classMap={};t.Object._extend=t._extend;t.Object.extend=function(e,r,i){if(!n.isString(e)){if(e&&n.has(e,"className"))return t.Object.extend(e.className,e,r);throw new Error("Parse.Object.extend's first argument should be the className.")}e==="User"&&(e="_User");var s=null;if(n.has(t.Object._classMap,e)){var o=t.Object._classMap[e];s=o._extend(r,i)}else{r=r||{};r.className=e;s=this._extend(r,i)}s.extend=function(r){if(n.isString(r)||r&&n.has(r,"className"))return t.Object.extend.apply(s,arguments);var i=[e].concat(t._.toArray(arguments));return t.Object.extend.apply(s,i)};t.Object._classMap[e]=s;return s};t.Object._wrapError=function(e,n,r){return function(i,s){i!==n&&(s=i);var o=new t.Error(-1,s.responseText);if(s.responseText){var u=JSON.parse(s.responseText);u&&(o=new t.Error(u.code,u.error))}e?e(n,o,r):n.trigger("error",n,o,r)}};t.Object._findUnsavedChildren=function(e){var r=[];if(e instanceof t.Object){e._refreshCache();e.dirty()&&(r=[e]);r.push.apply(r,t.Object._findUnsavedChildren(e.attributes))}else if(e instanceof t.Relation)var i=null;else n.isArray(e)?n.each(e,function(e){r.push.apply(r,t.Object._findUnsavedChildren(e))}):n.isObject(e)&&t._each(e,function(e){r.push.apply(r,t.Object._findUnsavedChildren(e))});return r}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Role=t.Object.extend("_Role",{constructor:function(e,r){if(n.isString(e)&&r instanceof t.ACL){t.Object.prototype.constructor.call(this,null,null);this.setName(e);this.setACL(r)}else t.Object.prototype.constructor.call(this,e,r)},getName:function(){return this.get("name")},setName:function(e,t){return this.set("name",e,t)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,r){if("name"in e&&e.name!==this.getName()){var i=e.name;if(this.id&&this.id!==e.objectId)return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(i))return new t.Error(t.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new t.Error(t.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return t.Object.prototype.validate?t.Object.prototype.validate.call(this,e,r):!1}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Collection=function(e,t){t=t||{};t.comparator&&(this.comparator=t.comparator);t.model&&(this.model=t.model);t.query&&(this.query=t.query);this._reset();this.initialize.apply(this,arguments);e&&this.reset(e,{silent:!0,parse:t.parse})};n.extend(t.Collection.prototype,t.Events,{model:t.Object,initialize:function(){},toJSON:function(){return this.map(function(e){return e.toJSON()})},add:function(e,r){var i,s,o,u,a,f,l={},c={};r=r||{};e=n.isArray(e)?e.slice():[e];for(i=0,o=e.length;i<o;i++){e[i]=this._prepareModel(e[i],r);u=e[i];if(!u)throw new Error("Can't add an invalid model to a collection");a=u.cid;if(l[a]||this._byCid[a])throw new Error("Duplicate cid: can't add the same model to a collection twice");f=u.id;if(!t._isNullOrUndefined(f)&&(c[f]||this._byId[f]))throw new Error("Duplicate id: can't add the same model to a collection twice");c[f]=u;l[a]=u}for(i=0;i<o;i++){(u=e[i]).on("all",this._onModelEvent,this);this._byCid[u.cid]=u;u.id&&(this._byId[u.id]=u)}this.length+=o;s=t._isNullOrUndefined(r.at)?this.models.length:r.at;this.models.splice.apply(this.models,[s,0].concat(e));this.comparator&&this.sort({silent:!0});if(r.silent)return this;for(i=0,o=this.models.length;i<o;i++){u=this.models[i];if(l[u.cid]){r.index=i;u.trigger("add",u,this,r)}}return this},remove:function(e,t){var r,i,s,o;t=t||{};e=n.isArray(e)?e.slice():[e];for(r=0,i=e.length;r<i;r++){o=this.getByCid(e[r])||this.get(e[r]);if(!o)continue;delete this._byId[o.id];delete this._byCid[o.cid];s=this.indexOf(o);this.models.splice(s,1);this.length--;if(!t.silent){t.index=s;o.trigger("remove",o,this,t)}this._removeReference(o)}return this},get:function(e){return e&&this._byId[e.id||e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},sort:function(e){e=e||{};if(!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=n.bind(this.comparator,this);this.comparator.length===1?this.models=this.sortBy(t):this.models.sort(t);e.silent||this.trigger("reset",this,e);return this},pluck:function(e){return n.map(this.models,function(t){return t.get(e)})},reset:function(e,t){var r=this;e=e||[];t=t||{};n.each(this.models,function(e){r._removeReference(e)});this._reset();this.add(e,{silent:!0,parse:t.parse});t.silent||this.trigger("reset",this,t);return this},fetch:function(e){e=e?n.clone(e):{};e.parse===undefined&&(e.parse=!0);var r=this,i=e.success;e.success=function(t,n){e.add?r.add(t,e):r.reset(t,e);i&&i(r,n)};e.error=t.Object._wrapError(e.error,r,e);var s=this.query||new t.Query(this.model);s.find(e)},create:function(e,t){var r=this;t=t?n.clone(t):{};e=this._prepareModel(e,t);if(!e)return!1;t.wait||r.add(e,t);var i=t.success;t.success=function(n,s,o){t.wait&&r.add(n,t);i?i(n,s):n.trigger("sync",e,s,t)};e.save(null,t);return e},parse:function(e,t){return e},chain:function(){return n(this.models).chain()},_reset:function(e){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(e,n){if(e instanceof t.Object)e.collection||(e.collection=this);else{var r=e;n.collection=this;e=new this.model(r,n);e._validate(e.attributes,n)||(e=!1)}return e},_removeReference:function(e){this===e.collection&&delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r);if(t&&e==="change:objectId"){delete this._byId[t.previous("objectId")];this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var r=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];n.each(r,function(e){t.Collection.prototype[e]=function(){return n[e].apply(n,[this.models].concat(n.toArray(arguments)))}});t.Collection.extend=t._extend})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.View=function(e){this.cid=n.uniqueId("view");this._configure(e||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var r=/^(\S+)\s*(.*)$/,i=["model","collection","el","id","attributes","className","tagName"];n.extend(t.View.prototype,t.Events,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(e,n,r){var i=document.createElement(e);n&&t.$(i).attr(n);r&&t.$(i).html(r);return i},setElement:function(e,n){this.$el=t.$(e);this.el=this.$el[0];n!==!1&&this.delegateEvents();return this},delegateEvents:function(e){e=e||t._getValue(this,"events");if(!e)return;this.undelegateEvents();var i=this;t._each(e,function(t,s){n.isFunction(t)||(t=i[e[s]]);if(!t)throw new Error('Event "'+e[s]+'" does not exist');var o=s.match(r),u=o[1],a=o[2];t=n.bind(t,i);u+=".delegateEvents"+i.cid;a===""?i.$el.bind(u,t):i.$el.delegate(a,u,t)})},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=n.extend({},this.options,e));var t=this;n.each(i,function(n){e[n]&&(t[n]=e[n])});this.options=e},_ensureElement:function(){if(!this.el){var e=t._getValue(this,"attributes")||{};this.id&&(e.id=this.id);this.className&&(e["class"]=this.className);this.setElement(this.make(this.tagName,e),!1)}else this.setElement(this.el,!1)}});t.View.extend=t._extend})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(e){if(e.sessionToken){this._sessionToken=e.sessionToken;delete e.sessionToken}t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(!this.isCurrent())return;var e=this.get("authData");if(!e)return;n.each(this.get("authData"),function(t,n){e[n]||delete e[n]})},_synchronizeAllAuthData:function(){var e=this.get("authData");if(!e)return;var t=this;n.each(this.get("authData"),function(e,n){t._synchronizeAuthData(n)})},_synchronizeAuthData:function(e){if(!this.isCurrent())return;var r;if(n.isString(e)){r=e;e=t.User._authProviders[r]}else r=e.getAuthType();var i=this.get("authData");if(!i||!e)return;var s=e.restoreAuthentication(i[r]);s||this._unlinkFrom(e)},_handleSaveResult:function(e){e&&(this._isCurrentUser=!0);this._cleanupAuthData();this._synchronizeAllAuthData();delete this._serverData.password;this._rebuildEstimatedDataForKey("password");this._refreshCache();(e||this.isCurrent())&&t.User._saveCurrentUser(this)},_linkWith:function(e,r){var i;if(n.isString(e)){i=e;e=t.User._authProviders[e]}else i=e.getAuthType();if(n.has(r,"authData")){var s=this.get("authData")||{};s[i]=r.authData;this.set("authData",s);var o=n.clone(r);o
.success=function(e){e._handleSaveResult(!0);r.success&&r.success.apply(this,arguments)};return this.save({authData:s},o)}var u=this;return e.authenticate({success:function(e,t){u._linkWith(e,{authData:t,success:r.success,error:r.error})},error:function(e,t){r.error&&r.error(u,t)}})},_unlinkFrom:function(e,r){var i;if(n.isString(e)){i=e;e=t.User._authProviders[e]}else i=e.getAuthType();var s=n.clone(r),o=this;s.authData=null;s.success=function(t){o._synchronizeAuthData(e);r.success&&r.success.apply(this,arguments)};return this._linkWith(e,s)},_isLinked:function(e){var t;n.isString(e)?t=e:t=e.getAuthType();var r=this.get("authData")||{};return!!r[t]},_logOutWithAll:function(){var e=this.get("authData");if(!e)return;var t=this;n.each(this.get("authData"),function(e,n){t._logOutWith(n)})},_logOutWith:function(e){if(!this.isCurrent())return;n.isString(e)&&(e=t.User._authProviders[e]);e&&e.deauthenticate&&e.deauthenticate()},signUp:function(e,r){var i,s=e&&e.username||this.get("username");if(!s||s===""){if(r&&r.error){i=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty name.");r.error(this,i)}return!1}var o=e&&e.password||this.get("password");if(!o||o===""){if(r&&r.error){i=new t.Error(t.Error.OTHER_CAUSE,"Cannot sign up user with an empty password.");r.error(this,i)}return!1}var u=n.clone(r);u.success=function(e){e._handleSaveResult(!0);r.success&&r.success.apply(this,arguments)};return this.save(e,u)},logIn:function(e){var r=this,i=n.clone(e);i.success=function(t,n,s){var o=r.parse(t,n,s);r._finishFetch(o);r._handleSaveResult(!0);e.success?e.success(r,t):r.trigger("sync",r,t,i)};i.error=t.Object._wrapError(e.error,r,i);t._request("login",null,null,"GET",this.toJSON(),i)},save:function(e,r,i){var s,o,u,a,f;if(n.isObject(e)||n.isNull(e)||n.isUndefined(e)){o=e;a=r}else{o={};o[e]=r;a=i}var l=n.clone(a);l.success=function(e){e._handleSaveResult(!1);a.success&&a.success.apply(this,arguments)};return t.Object.prototype.save.call(this,o,l)},fetch:function(e){var r=n.clone(e);r.success=function(t){t._handleSaveResult(!1);e.success&&e.success.apply(this,arguments)};return t.Object.prototype.fetch.call(this,r)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(e,t){return this.set("username",e,t)},setPassword:function(e,t){return this.set("password",e,t)},getEmail:function(){return this.get("email")},setEmail:function(e,t){return this.set("email",e,t)},authenticated:function(){return!!this._sessionToken&&t.User.current()&&t.User.current().id===this.id}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(e,n,r,i){r=r||{};r.username=e;r.password=n;var s=t.Object._create("_User");return s.signUp(r,i)},logIn:function(e,n,r){var i=t.Object._create("_User");i._finishFetch({username:e,password:n});i.logIn(r)},logOut:function(){if(t.User._currentUser!==null){t.User._currentUser._logOutWithAll();t.User._currentUser._isCurrentUser=!1}t.User._currentUserMatchesDisk=!0;t.User._currentUser=null;t.localStorage.removeItem(t._getParsePath(t.User._CURRENT_USER_KEY))},requestPasswordReset:function(e,n){var r={email:e};n.error=t.Query._wrapError(n.error,n);t._request("requestPasswordReset",null,null,"POST",r,n)},current:function(){if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.localStorage.getItem(t._getParsePath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=new t.Object._create("_User");t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);t.User._currentUser.id=n._id;delete n._id;t.User._currentUser._sessionToken=n._sessionToken;delete n._sessionToken;t.User._currentUser.set(n);t.User._currentUser._synchronizeAllAuthData();t.User._currentUser._refreshCache();t.User._currentUser._opSetQueue=[{}];return t.User._currentUser},_saveCurrentUser:function(e){t.User._currentUser!==e&&t.User.logOut();e._isCurrentUser=!0;t.User._currentUser=e;t.User._currentUserMatchesDisk=!0;var n=e.toJSON();n._id=e.id;n._sessionToken=e._sessionToken;t.localStorage.setItem(t._getParsePath(t.User._CURRENT_USER_KEY),JSON.stringify(n))},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e;t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n){var r=new t.User;return r._linkWith(e,n)}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Query=function(e){n.isString(e)&&(e=t.Object._getSubclass(e));this.objectClass=e;this.className=e.prototype.className;this._where={};this._include=[];this._limit=-1;this._skip=0;this._extraOptions={}};t.Query.or=function(){var e=n.toArray(arguments),r=null;n.each(e,function(e){n.isNull(r)&&(r=e.className);if(r!==e.className)throw"All queries must be for the same class"});var i=new t.Query(r);i._orQuery(e);return i};t.Query.prototype={get:function(e,n){var r=this,i=n.success||function(){},s=n.error||function(){},o={error:function(e){s(null,e)},success:function(e){e?i(e):s(null,new t.Error(t.Error.OBJECT_NOT_FOUND,"Object not found."))}};r.equalTo("objectId",e);r.first(o)},toJSON:function(){var e={where:this._where};this._include.length>0&&(e.include=this._include.join(","));this._limit>=0&&(e.limit=this._limit);this._skip>0&&(e.skip=this._skip);this._order!==undefined&&(e.order=this._order);t._each(this._extraOptions,function(t,n){e[n]=t});return e},find:function(e){var r=this,i=e.success||function(){},s={error:e.error,success:function(e){i(n.map(e.results,function(n){var i;e.className?i=new t.Object(e.className):i=new r.objectClass;i._finishFetch(n,!0);return i}))}},o=this.toJSON();s.error=t.Query._wrapError(e.error,s);t._request("classes",this.className,null,"GET",o,s)},count:function(e){var n=this,r=e.success||function(){},i={error:e.error,success:function(e){r(e.count)}},s=this.toJSON();s.limit=0;s.count=1;i.error=t.Query._wrapError(e.error,i);t._request("classes",this.className,null,"GET",s,i)},first:function(e){var r=this,i=e.success||function(){},s={error:e.error,success:function(e){i(n.map(e.results,function(e){var t=new r.objectClass;t._finishFetch(e,!0);return t})[0])}},o=this.toJSON();o.limit=1;s.error=t.Query._wrapError(e.error,s);t._request("classes",this.className,null,"GET",o,s)},collection:function(e,r){r=r||{};return new t.Collection(e,n.extend(r,{model:this.objectClass,query:this}))},skip:function(e){this._skip=e;return this},limit:function(e){this._limit=e;return this},equalTo:function(e,n){this._where[e]=t._encode(n);return this},_addCondition:function(e,n,r){this._where[e]||(this._where[e]={});this._where[e][n]=t._encode(r);return this},notEqualTo:function(e,t){this._addCondition(e,"$ne",t);return this},lessThan:function(e,t){this._addCondition(e,"$lt",t);return this},greaterThan:function(e,t){this._addCondition(e,"$gt",t);return this},lessThanOrEqualTo:function(e,t){this._addCondition(e,"$lte",t);return this},greaterThanOrEqualTo:function(e,t){this._addCondition(e,"$gte",t);return this},containedIn:function(e,t){this._addCondition(e,"$in",t);return this},notContainedIn:function(e,t){this._addCondition(e,"$nin",t);return this},exists:function(e){this._addCondition(e,"$exists",!0);return this},doesNotExist:function(e){this._addCondition(e,"$exists",!1);return this},matches:function(e,t,n){this._addCondition(e,"$regex",t);n||(n="");t.ignoreCase&&(n+="i");t.multiline&&(n+="m");n&&n.length&&this._addCondition(e,"$options",n);return this},matchesQuery:function(e,t){var n=t.toJSON();n.className=t.className;this._addCondition(e,"$inQuery",n);return this},doesNotMatchQuery:function(e,t){var n=t.toJSON();n.className=t.className;this._addCondition(e,"$notInQuery",n);return this},matchesKeyInQuery:function(e,t,n){var r=n.toJSON();r.className=n.className;this._addCondition(e,"$select",{key:t,query:r});return this},doesNotMatchKeyInQuery:function(e,t,n){var r=n.toJSON();r.className=n.className;this._addCondition(e,"$dontSelect",{key:t,query:r});return this},_orQuery:function(e){var t=n.map(e,function(e){return e.toJSON().where});this._where.$or=t;return this},_quote:function(e){return"\\Q"+e.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(e,t){this._addCondition(e,"$regex",this._quote(t));return this},startsWith:function(e,t){this._addCondition(e,"$regex","^"+this._quote(t));return this},endsWith:function(e,t){this._addCondition(e,"$regex",this._quote(t)+"$");return this},ascending:function(e){this._order=e;return this},descending:function(e){this._order="-"+e;return this},near:function(e,n){n instanceof t.GeoPoint||(n=new t.GeoPoint(n));this._addCondition(e,"$nearSphere",n);return this},withinRadians:function(e,t,n){this.near(e,t);this._addCondition(e,"$maxDistance",n);return this},withinMiles:function(e,t,n){return this.withinRadians(e,t,n/3958.8)},withinKilometers:function(e,t,n){return this.withinRadians(e,t,n/6371)},withinGeoBox:function(e,n,r){n instanceof t.GeoPoint||(n=new t.GeoPoint(n));r instanceof t.GeoPoint||(r=new t.GeoPoint(r));this._addCondition(e,"$within",{$box:[n,r]});return this},include:function(e){n.isArray(e)?this._include=this._include.concat(e):this._include.push(e);return this}};t.Query._wrapError=function(e,n){return function(r){if(e){var i=new t.Error(-1,r.responseText);if(r.responseText){var s=JSON.parse(r.responseText);s&&(i=new t.Error(s.code,s.error))}e(i,n)}}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._,r="*",i=!1,s,o,u={authenticate:function(e){var t=this;FB.login(function(n){n.authResponse?e.success&&e.success(t,{id:n.authResponse.userID,access_token:n.authResponse.accessToken,expiration_date:(new Date(n.authResponse.expiresIn*1e3+(new Date).getTime())).toJSON()}):e.error&&e.error(t,n)},{scope:s})},restoreAuthentication:function(e){if(e){var r={userID:e.id,accessToken:e.access_token,expiresIn:(t._parseDate(e.expiration_date).getTime()-(new Date).getTime())/1e3},i=n.clone(o);i.authResponse=r;FB.init(i)}return!0},getAuthType:function(){return"facebook"},deauthenticate:function(){this.restoreAuthentication(null);FB.logout()}};t.FacebookUtils={init:function(e){if(typeof FB=="undefined")throw"The Javascript Facebook SDK must be loaded before calling init.";o=n.clone(e);FB.init(o);t.User._registerAuthenticationProvider(u);i=!0},isLinked:function(e){return e._isLinked("facebook")},logIn:function(e,r){if(!e||n.isString(e)){if(!i)throw"You must initialize FacebookUtils before calling logIn.";s=e;return t.User._logInWith("facebook",r)}var o=n.clone(r);o.authData=e;return t.User._logInWith("facebook",o)},link:function(e,t,r){if(!t||n.isString(t)){if(!i)throw"You must initialize FacebookUtils before calling link.";s=t;return e._linkWith("facebook",r)}var o=n.clone(r);o.authData=t;return e._linkWith("facebook",o)},unlink:function(e,t){if(!i)throw"You must initialize FacebookUtils before calling unlink.";return e._unlinkFrom("facebook",t)}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.History=function(){this.handlers=[];n.bindAll(this,"checkUrl")};var r=/^[#\/]/,i=/msie [\w.]+/;t.History.started=!1;n.extend(t.History.prototype,t.Events,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,n){if(t._isNullOrUndefined(e))if(this._hasPushState||n){e=window.location.pathname;var i=window.location.search;i&&(e+=i)}else e=this.getHash();e.indexOf(this.options.root)||(e=e.substr(this.options.root.length));return e.replace(r,"")},start:function(e){if(t.History.started)throw new Error("Parse.history has already been started");t.History.started=!0;this.options=n.extend({},{root:"/"},this.options,e);this._wantsHashChange=this.options.hashChange!==!1;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var s=this.getFragment(),o=document.documentMode,u=i.exec(navigator.userAgent.toLowerCase())&&(!o||o<=7);if(u){this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(s)}this._hasPushState?t.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!u?t.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval));this.fragment=s;var a=window.location,f=a.pathname===this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!f){this.fragment=this.getFragment(null,!0);window.location.replace(this.options.root+"#"+this.fragment);return!0}if(this._wantsPushState&&this._hasPushState&&f&&a.hash){this.fragment=this.getHash().replace(r,"");window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment)}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);window.clearInterval(this._checkUrlInterval);t.History.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),r=n.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return!0}});return r},navigate:function(e,n){if(!t.History.started)return!1;if(!n||n===!0)n={trigger:n};var i=(e||"").replace(r,"");if(this.fragment===i)return;if(this._hasPushState){i.indexOf(this.options.root)!==0&&(i=this.options.root+i);this.fragment=i;var s=n.replace?"replaceState":"pushState";window.history[s]({},document.title,i)}else if(this._wantsHashChange){this.fragment=i;this._updateHash(window.location,i,n.replace);if(this.iframe&&i!==this.getFragment(this.getHash(this.iframe))){n.replace||this.iframe.document.open().close();this._updateHash(this.iframe.location,i,n.replace)}}else window.location.assign(this.options.root+e);n.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.toString().replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash=t}})})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Router=function(e){e=e||{};e.routes&&(this.routes=e.routes);this._bindRoutes();this.initialize.apply(this,arguments)};var r=/:\w+/g,i=/\*\w+/g,s=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;n.extend(t.Router.prototype,t.Events,{initialize:function(){},route:function(e,r,i){t.history=t.history||new t.History;n.isRegExp(e)||(e=this._routeToRegExp(e));i||(i=this[r]);t.history.route(e,n.bind(function(n){var s=this._extractParameters(e,n);i&&i.apply(this,s);this.trigger.apply(this,["route:"+r].concat(s));t.history.trigger("route",this,r,s)},this));return this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(!this.routes)return;var e=[];for(var t in this.routes)this.routes.hasOwnProperty(t)&&e.unshift([t,this.routes[t]]);for(var n=0,r=e.length;n<r;n++)this.route(e[n][0],e[n][1],this[e[n][1]])},_routeToRegExp:function(e){e=e.replace(s,"\\$&").replace(r,"([^/]+)").replace(i,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});t.Router.extend=t._extend})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse,n=t._;t.Cloud={run:function(e,r,i){var s=i,o=n.clone(i);o.success=function(e){var n=t._decode(null,e);s.success&&s.success(n.result)};o.error=t.Cloud._wrapError(s.error,i);t._request("functions",e,null,"POST",t._encode(r,null,!0),o)},_wrapError:function(e,n){return function(r){if(e){var i=new t.Error(-1,r.responseText);if(r.responseText){var s=JSON.parse(r.responseText);s&&(i=new t.Error(s.code,s.error))}e(i,n)}}}}})(this);(function(e){e.Parse=e.Parse||{};var t=e.Parse;t.Installation=t.Object.extend("_Installation");t.Push=t.Push||{};t.Push.send=function(e,n){e.where&&(e.where=e.where.toJSON().where);e.push_time&&(e.push_time=e.push_time.toJSON());e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON());if(e.expiration_time&&e.expiration_time_interval)throw"Both expiration_time and expiration_time_interval can't be set";var r={error:n.error,success:n.success};r.error=t.Query._wrapError(n.error,r);t._request("push",null,null,"POST",e,r)}})(this);!function(e){"use strict";var t=function(t,n){this.options=n;this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0;this.escape();this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body);t.$element.show();n&&t.$element[0].offsetWidth;t.$element.addClass("in").attr("aria-hidden",!1);t.enforceFocus();n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1;this.escape();e(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",!0);e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end);t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n);t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this));i&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");i?this.$backdrop.one(e.support.transition.end,t):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()}else t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s));typeof n=="string"?i[n]():s.show&&i.show()})};e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=n;return this};e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault();i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.typeahead.defaults,n);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=e(this.options.menu);this.shown=!1;this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(e)).change();return this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(t){var n;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength)return this.shown?this.hide():this;n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source;return n?this.process(n):this},process:function(t){var n=this;t=e.grep(t,function(e){return n.matcher(e)});t=this.sorter(t);return t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift())i.toLowerCase().indexOf(this.query.toLowerCase())?~i.indexOf(this.query)?n.push(i):r.push(i):t.push(i);return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;t=e(t).map(function(t,r){t=e(n.options.item).attr("data-value",r);t.find("a").html(n.highlighter(r));return t[0]});t.first().addClass("active");this.$menu.html(t);return this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();r.length||(r=e(this.$menu.find("li")[0]));r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();n.length||(n=this.$menu.find("li").last());n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this));this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this));this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;if(!t){this.$element.setAttribute(e,"return;");t=typeof this.$element[e]=="function"}return t},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault();this.prev();break;case 40:e.preventDefault();this.next()}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]);this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation();e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation();e.preventDefault();this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active");e(t.currentTarget).addClass("active")}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;i||r.data("typeahead",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};e.fn.typeahead.Constructor=t;e.fn.typeahead.noConflict=function(){e.fn.typeahead=n;return this};e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault();n.typeahead(n.data())})}(window.jQuery);angular.module("ui.config",[]).value("ui.config",{});angular.module("ui.filters",["ui.config"]);angular.module("ui.directives",["ui.config"]);angular.module("ui",["ui.filters","ui.directives","ui.config"]);angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate);return{restrict:"A",link:function(e,r,i){var s={};if(i.uiAnimate){s=e.$eval(i.uiAnimate);angular.isString(s)&&(s={"class":s})}s=angular.extend({"class":"ui-animate"},n,s);r.addClass(s["class"]);t(function(){r.removeClass(s["class"])},20,!1)}}}]);angular.module("ui.directives").directive("uiCodemirror",["ui.config","$parse",function(e,t){"use strict";e.codemirror=e.codemirror||{};return{require:"ngModel",link:function(n,r,i,s){if(!r.is("textarea"))throw new Error("ui-codemirror can only be applied to a textarea element");var o,u=t(i.uiCodemirror),a=function(e){var t=e.getValue();if(t!==s.$viewValue){s.$setViewValue(t);n.$apply()}},f=function(t){t=angular.extend({},t,e.codemirror);var n=t.onChange;n?t.onChange=function(e){a(e);n(e)}:t.onChange=a;o&&o.toTextArea();o=CodeMirror.fromTextArea(r[0],t)};f(u());n.$watch(u,f,!0);s.$formatters.push(function(e){if(angular.isUndefined(e)||e===null)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e});s.$render=function(){o.setValue(s.$viewValue)}}}}]);angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};e.currency&&angular.extend(n,e.currency);return{restrict:"EAC",require:"ngModel",link:function(e,r,i,s){var o,u,a;o=angular.extend({},n,e.$eval(i.uiCurrency));u=function(e){var n;n=e*1;n>0?r.addClass(o.pos):r.removeClass(o.pos);n<0?r.addClass(o.neg):r.removeClass(o.neg);n===0?r.addClass(o.zero):r.removeClass(o.zero);e===""?r.text(""):r.text(t(n,o.symbol));return!0};s.$render=function(){a=s.$viewValue;r.val(a);u(a)}}}}]);angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;t={};angular.isObject(e.date)&&angular.extend(t,e.date);return{require:"?ngModel",link:function(t,n,r,i){var s=function(){return angular.extend({},e.date,t.$eval(r.uiDate))},o=function(){var e=s();if(i){var r=function(){t.$apply(function(){i.$setViewValue(n.datepicker("getDate"))})};if(e.onSelect){var o=e.onSelect;e.onSelect=function(e,t){r();return o(e,t)}}else e.onSelect=r;n.bind("change",r);i.$render=function(){var e=i.$viewValue;n.datepicker("setDate",e);angular.isString(e)&&i.$setViewValue(n.datepicker("getDate"))}}n.datepicker("destroy");n.datepicker(e);i.$render()};t.$watch(s,o,!0)}}}]);angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var s=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1);t.$apply(function(){s(t,{$event:e,$params:n})})})})}}]);angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){t[0].doNotMove=!0;var i=r.uiIf,s,o;e.$watch(i,function(r){if(s){s.remove();s=null}if(o){o.$destroy();o=null}if(r){o=e.$new();n(o,function(e){s=e;t.after(e)})}t.parent().trigger("$childrenChanged")})}}}}]);angular.module("ui.directives").directive("uiJq",["ui.config",function(e){return{restrict:"A",compile:function(t,n){if(!angular.isFunction(t[n.uiJq]))throw new Error('ui-jq: The "'+n.uiJq+'" function does not exist');var r=e.jq&&e.jq[n.uiJq];return function(e,t,n){var i=[],s="change";if(n.uiOptions){i=e.$eval("["+n.uiOptions+"]");angular.isObject(r)&&angular.isObject(i[0])&&(i[0]=angular.extend(r,i[0]))}else r&&(i=[r]);if(n.ngModel&&t.is("select,input,textarea")){i&&angular.isObject(i[0])&&i[0].ngChange!==undefined&&(s=i[0].ngChange);s&&t.on(s,function(){t.trigger("input")})}t[n.uiJq].apply(t,i)}}}}]);angular.module("ui.directives").directive("uiKeypress",["$parse",function(e){return{link:function(t,n,r){var i={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},s,o,u,a,f=[];try{s=t.$eval(r.uiKeypress);o=!0}catch(l){s=r.uiKeypress.split(/\s+and\s+/i);o=!1}angular.forEach(s,function(t,n){var r={};if(o){r.expression=e(t);r.keys=n}else{t=t.split(/\s+on\s+/i);r.expression=e(t[0]);r.keys=t[1]}a={};angular.forEach(r.keys.split("-"),function(e){a[e]=!0});r.keys=a;f.push(r)});n.bind("keydown",function(e){var n=e.metaKey||e.altKey,r=e.ctrlKey,s=e.shiftKey;angular.forEach(f,function(o){var u=o.keys[i[e.keyCode]]||o.keys[e.keyCode.toString()]||!1,a=o.keys.alt||!1,f=o.keys.ctrl||!1,l=o.keys.shift||!1;u&&a==n&&f==r&&l==s&&t.$apply(function(){o.expression(t,{$event:e})})})})}}}]);(function(){function t(e,t,n,r){angular.forEach(t.split(" "),function(t){var i={type:"map-"+t};google.maps.event.addListener(n,t,function(t){r.trigger(angular.extend({},i,t));e.$$phase||e.$apply()})})}function n(n,r){e.directive(n,[function(){return{restrict:"A",link:function(e,i,s){e.$watch(s[n],function(n){t(e,r,n,i)})}}}])}var e=angular.module("ui.directives");e.directive("uiMap",["ui.config","$parse",function(e,n){var r="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",i=e.map||{};return{restrict:"A",link:function(e,s,o){var u=angular.extend({},i,e.$eval(o.uiOptions)),a=new google.maps.Map(s[0],u),f=n(o.uiMap);f.assign(e,a);t(e,r,a,s)}}}]);e.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(e,n,r){var i="closeclick content_change domready position_changed zindex_changed",s=e.mapInfoWindow||{};return{link:function(e,o,u){var a=angular.extend({},s,e.$eval(u.uiOptions));a.content=o[0];var f=n(u.uiMapInfoWindow),l=f(e);if(!l){l=new google.maps.InfoWindow(a);f.assign(e,l)}t(e,i,l,o);o.replaceWith("<div></div>");var c=l.open;l.open=function(n,i,s,u,a,f){r(o.contents())(e);c.call(l,n,i,s,u,a,f)}}}}]);n("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed");n("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick");n("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick");n("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick");n("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick");n("uiMapGroundOverlay","click dblclick")})();angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",scope:{uiMask:"="},link:function(e,t,n,r){r.$render=function(){var n;n=r.$viewValue||"";t.val(n);return t.mask(e.uiMask)};r.$parsers.push(function(e){var n;n=t.data("mask-isvalid");r.$setValidity("mask",n);return t.mask()});return t.bind("keyup",function(){return e.$apply(function(){return r.$setViewValue(t.mask())})})}}}]);angular.module("ui.directives").directive("uiModal",["$timeout",function(e){return{restrict:"EAC",require:"ngModel",link:function(t,n,r,i){n.addClass("modal hide");t.$watch(r.ngModel,function(e){n.modal(e&&"show"||"hide")});n.on(jQuery.support.transition&&"shown"||"show",function(){e(function(){i.$setViewValue(!0)})});n.on(jQuery.support.transition&&"hidden"||"hide",function(){e(function(){i.$setViewValue(!1)})})}}}]);angular.module("ui.directives").directive("uiReset",["$parse",function(e){return{require:"ngModel",link:function(e,t,n,r){var i=angular.element('<a class="ui-reset" />');t.wrap('<span class="ui-resetwrap" />').after(i);i.bind("click",function(t){t.preventDefault();e.$apply(function(){r.$setViewValue(null);r.$render()})})}}}]);angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,r){var i=n.offset().top;r.uiScrollfix?r.uiScrollfix.charAt(0)==="-"?r.uiScrollfix=i-r.uiScrollfix.substr(1):r.uiScrollfix.charAt(0)==="+"&&(r.uiScrollfix=i+parseFloat(r.uiScrollfix.substr(1))):r.uiScrollfix=i;angular.element(e).on("scroll.ui-scrollfix",function(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var i=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;t=i.scrollTop}!n.hasClass("ui-scrollfix")&&t>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass
("ui-scrollfix")&&t<r.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]);angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(e,t){var n={};e.select2&&angular.extend(n,e.select2);return{require:"?ngModel",compile:function(e,t){var r,i,s=e.is("select"),o=t.multiple!==undefined;if(e.is("select")){i=e.find("option[ng-repeat]");i.length&&(r=i.attr("ng-repeat").split(" ").pop())}return function(e,t,i,u){var a=angular.extend({},n,e.$eval(i.uiSelect2));if(s){delete a.multiple;delete a.initSelection}else o&&(a.multiple=!0);if(u){u.$render=function(){s?t.select2("val",u.$modelValue):o&&!u.$modelValue?t.select2("data",[]):t.select2("data",u.$modelValue)};r&&e.$watch(r,function(e,n,r){if(!e)return;setTimeout(function(){t.select2("val",u.$viewValue);t.trigger("change")})});if(!s){t.bind("change",function(){e.$apply(function(){u.$setViewValue(t.select2("data"))})});if(a.initSelection){var f=a.initSelection;a.initSelection=function(e,t){f(e,function(e){u.$setViewValue(e);t(e)})}}}}i.$observe("disabled",function(e){t.select2(e&&"disable"||"enable")});t.val(e.$eval(i.ngModel));setTimeout(function(){t.select2(a)})}}}}]);angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e,n){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e,n){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e,n){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]);angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){var t;t={};e.sortable!=null&&angular.extend(t,e.sortable);return{require:"?ngModel",link:function(e,n,r,i){var s,o,u,a,f;u=angular.extend({},t,e.$eval(r.uiOptions));if(i!=null){s=function(e,t){return t.item.data("ui-sortable-start",t.item.index())};o=function(t,n){var r,s;s=n.item.data("ui-sortable-start");r=n.item.index();i.$modelValue.splice(r,0,i.$modelValue.splice(s,1)[0]);return e.$apply()};a=u.start;u.start=function(t,n){s(t,n);typeof a=="function"&&a(t,n);return e.$apply()};f=u.update;u.update=function(t,n){o(t,n);typeof f=="function"&&f(t,n);return e.$apply()}}return n.sortable(u)}}}]);angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){e.tinymce=e.tinymce||{};return{require:"ngModel",link:function(t,n,r,i){var s,o={onchange_callback:function(e){if(e.isDirty()){e.save();i.$setViewValue(n.val());t.$apply()}},handle_event_callback:function(e){if(this.isDirty()){this.save();i.$setViewValue(n.val());t.$apply()}return!0},setup:function(e){e.onSetContent.add(function(e,r){if(e.isDirty()){e.save();i.$setViewValue(n.val());t.$apply()}})}};r.uiTinymce?s=t.$eval(r.uiTinymce):s={};angular.extend(o,e.tinymce,s);setTimeout(function(){n.tinymce(o)})}}}]);angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i,s=n.uiValidate;s=e.$eval(s);if(!s)return;angular.isFunction(s)&&(s={validator:s});angular.forEach(s,function(e,t){i=function(n){if(e(n)){r.$setValidity(t,!0);return n}r.$setValidity(t,!1);return undefined};r.$formatters.push(i);r.$parsers.push(i)})}}});angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n=e.toString(),r;if(t===undefined)return n;if(!angular.isArray(t)&&!angular.isObject(t))return n.split("$0").join(t);r=angular.isArray(t)&&"$"||":";angular.forEach(t,function(e,t){n=n.split(r+t).join(e)});return n}});angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){if(t||angular.isNumber(t)){e=e.toString();t=t.toString();return n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')}return e}});angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("");return t}};return function(e,t,r){if(t!==!1&&angular.isString(e)){t=t||"humanize";return n[t](e)}return e}});angular.module("ui.filters").filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n={},r=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){var t,n=!1;for(var s=0;s<r.length;s++)if(angular.equals(i(r[s]),i(e))){n=!0;break}n||r.push(e)});e=r}return e}});angular.module("$strap.config",[]).value("$strap.config",{});angular.module("$strap.filters",["$strap.config"]);angular.module("$strap.directives",["$strap.config"]);angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]);angular.module("$strap.directives").directive("bsButton",["$parse",function(e){"use strict";return{restrict:"A",require:"ngModel",link:function(n,r,i,s){var o=e(i.ngModel),u=o.assign;r.attr("data-toggle")==="button"&&r.removeAttr("data-toggle");r.parent().attr("data-toggle")==="buttons-checkbox"&&r.parent().removeAttr("data-toggle");n.$watch(i.ngModel,function(e,t){e?r.addClass("active"):r.removeClass("active")});r.on("click",function(e){n.$apply(function(){u(n,!o(n))})});o(n)&&r.addClass("active")}}}]);angular.module("$strap.directives").directive("bsButtonSelect",["$parse","$timeout",function(e,t){"use strict";return{restrict:"A",require:"?ngModel",link:function(n,r,i,s){var o=e(i.bsButtonSelect),u=o.assign;if(s){r.text(n.$eval(i.ngModel));n.$watch(i.ngModel,function(e,t){r.text(e)})}var a,f,l,c;r.on("click",function(){a=o(n);f=s?n.$eval(i.ngModel):r.text();l=a.indexOf(f);c=l>a.length-2?a[0]:a[l+1];n.$apply(function(){r.text(c);s&&s.$setViewValue(c)})})}}}]);angular.module("$strap.directives").directive("bsDatepicker",["$timeout",function(e){"use strict";var t={"/":"[\\/]","-":"[-]",".":"[.]",dd:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",d:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",mm:"(?:[0]?[1-9]|[1][012])",m:"(?:[0]?[1-9]|[1][012])",yyyy:"(?:(?:[1]{1}[0-9]{1}[0-9]{1}[0-9]{1})|(?:[2]{1}[0-9]{3}))(?![[0-9]])",yy:"(?:(?:[0-9]{1}[0-9]{1}))(?![[0-9]])"};return{restrict:"A",require:"?ngModel",link:function(n,r,i,s){s&&r.on("changeDate",function(e){n.$apply(function(){s.$setViewValue(r.val())})});var o=function(e,n){n||(n={});var r=e,i=t;angular.forEach(i,function(e,t){r=r.split(t).join(e)});return new RegExp("^"+r+"$",["i"])},u=o(i.dateFormat||"mm/dd/yyyy");s.$parsers.unshift(function(e){if(!e||u.test(e)){s.$setValidity("date",!0);return e}s.$setValidity("date",!1);return undefined});var a=r.next('[data-toggle="datepicker"]');a.length&&a.on("click",function(){r.datepicker("show")});var f=r.closest(".popover");f&&f.on("hide",function(e){var t=r.data("datepicker");if(t){t.picker.remove();r.data("datepicker",null)}});r.attr("data-toggle","datepicker");r.datepicker({autoclose:!0})}}}]);angular.module("$strap.directives").directive("bsDropdown",["$parse","$compile",function(e,t){"use strict";var n=Array.prototype.slice,r='<ul class="dropdown-menu" role="menu" aria-labelledby="drop1"><li ng-repeat="item in items" ng-class="{divider: !!item.divider, \'dropdown-submenu\': !!item.submenu && item.submenu.length}"><a ng-hide="!!item.divider" tabindex="-1" ng-href="{{item.href}}" ng-click="{{item.click}}">{{item.text}}</a></li></ul>',i=function(e,n,i){var o,u,a;for(var f=0,l=e.length;f<l;f++)if(o=e[f].submenu){a=i.$new();a.items=o;u=t(r)(a);u=u.appendTo(n.children("li:nth-child("+(f+1)+")"));s(o,u,a)}},s=function(){var e=n.call(arguments);setTimeout(function(){i.apply(null,e)})};return{restrict:"EA",scope:!0,link:function(i,o,u){var a=e(u.bsDropdown);i.items=a(i);var f=t(r)(i);s(i.items,f,i);f.insertAfter(o);o.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}]);angular.module("$strap.directives").directive("bsModal",["$parse","$compile","$http","$timeout","$q","$templateCache",function(e,t,n,r,i,s){"use strict";return{restrict:"A",scope:!0,link:function(u,a,f,l){var c=e(f.bsModal),h=c.assign,p=c(u);i.when(s.get(p)||n.get(p,{cache:!0})).then(function(n){angular.isObject(n)&&(n=n.data);u.dismiss=function(){s.modal("hide")};u.show=function(){s.modal("show")};var i=c(u).replace(/\//g,"-").replace(/\./g,"-").replace("html",u.$id),s=$("<div></div>").attr("id",i).addClass("modal hide fade").html(n);$("body").append(s);a.attr("href","#"+i).attr("data-toggle","modal");r(function(){t(s)(u)})})}}}]);angular.module("$strap.directives").directive("bsPopover",["$parse","$compile","$http","$timeout","$q","$templateCache",function(e,t,n,r,i,s){"use strict";$("body").on("keyup",function(e){e.keyCode===27&&$(".popover.in").each(function(){var e=$(this);e.popover("hide")})});return{restrict:"A",scope:!0,link:function(u,a,f,l){var c=e(f.bsPopover),h=c.assign,p=c(u);i.when(s.get(p)||n.get(p,{cache:!0})).then(function(n){angular.isObject(n)&&(n=n.data);u.dismiss=function(){a.popover("hide")};u.show=function(){a.popover("show")};!f.unique||a.on("show",function(e){$(".popover.in").each(function(){var e=$(this),t=e.data("popover");t&&!t.$element.is(a)&&e.popover("hide")})});a.popover({content:function(){r(function(){var e=a.data("popover"),n=e.tip();t(n)(u);setTimeout(function(){e.refresh()})});return n},html:!0});var i=a.data("popover");i.refresh=function(){var e=this.tip(),t,n,r,i,s,o;s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;t=/in/.test(s);n=this.getPosition(t);r=e[0].offsetWidth;i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height+10,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i-10,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r-10};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width+10}}e.offset(o)};i.show=function(){var e=$.Event("show");this.$element.trigger(e);if(e.isDefaultPrevented())return;var t=$.fn.popover.Constructor.prototype.show.apply(this,arguments);this.$tip.data("popover",this);return t};i.hide=function(){var e=$.Event("hide");this.$element.trigger(e);if(e.isDefaultPrevented())return;return $.fn.popover.Constructor.prototype.hide.apply(this,arguments)}},function(t){})}}}]);angular.module("$strap.directives").directive("bsTimepicker",["$timeout",function(e){"use strict";var t="((?:(?:[0-1][0-9])|(?:[2][0-3])|(?:[0-9])):(?:[0-5][0-9])(?::[0-5][0-9])?(?:\\s?(?:am|AM|pm|PM))?)";return{restrict:"A",require:"?ngModel",link:function(n,r,i,s){s&&r.on("change",function(e){n.$apply(function(){s.$setViewValue(r.val())})});var o=new RegExp("^"+t+"$",["i"]);s.$parsers.unshift(function(e){if(!e||o.test(e)){s.$setValidity("time",!0);return e}s.$setValidity("time",!1);return undefined});var u=r.closest(".popover");u&&u.on("hide",function(e){var t=r.data("timepicker");if(t){t.$widget.remove();r.data("timepicker",null)}});r.attr("data-toggle","timepicker");r.timepicker()}}}]);angular.module("$strap.directives").directive("bsTooltip",["$parse","$compile","$http","$timeout",function(e,t,n,r){"use strict";return{restrict:"A",scope:!0,link:function(n,r,i,s){var o=e(i.bsTooltip),u=o.assign;!i.unique||r.on("show",function(e){$(".tooltip.in").each(function(){var e=$(this),t=e.data("tooltip");t&&!t.$element.is(r)&&e.tooltip("hide")})});r.tooltip({title:o(n),html:!0});var a=r.data("tooltip");a.show=function(){var e=$.Event("show");this.$element.trigger(e);if(e.isDefaultPrevented())return;var t=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments);this.$tip.data("tooltip",this);return t};a.hide=function(){var e=$.Event("hide");this.$element.trigger(e);if(e.isDefaultPrevented())return;return $.fn.tooltip.Constructor.prototype.hide.apply(this,arguments)}}}}]);angular.module("$strap.directives").directive("bsTypeahead",["$parse",function(e){"use strict";return{restrict:"A",require:"?ngModel",link:function(n,r,i,s){var o=e(i.bsTypeahead),u=o.assign;r.attr("data-provide","typeahead");r.typeahead({source:o(n),items:i.items,updater:function(e){s&&n.$apply(function(){s.$setViewValue(e)});return e}})}}}]);(function(e){typeof e.fn.each2=="undefined"&&e.fn.extend({each2:function(t){var n=e([0]),r=-1,i=this.length;while(++r<i&&(n.context=n[0]=this[r])&&t.call(n[0],r,n)!==!1);return this}})})(jQuery);(function(e,t){"use strict";function a(e,t){var n=0,r=t.length,i;if(typeof e=="undefined")return-1;if(e.constructor===String){for(;n<r;n+=1)if(e.localeCompare(t[n])===0)return n}else for(;n<r;n+=1){i=t[n];if(i.constructor===String){if(i.localeCompare(e)===0)return n}else if(i===e)return n}return-1}function f(e,n){return e===n?!0:e===t||n===t?!1:e===null||n===null?!1:e.constructor===String?e.localeCompare(n)===0:n.constructor===String?n.localeCompare(e)===0:!1}function l(t,n){var r,i,s;if(t===null||t.length<1)return[];r=t.split(n);for(i=0,s=r.length;i<s;i+=1)r[i]=e.trim(r[i]);return r}function c(e){return e.outerWidth()-e.width()}function h(n){var r="keyup-change-value";n.bind("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())});n.bind("keyup",function(){var i=e.data(n,r);if(i!==t&&n.val()!==i){e.removeData(n,r);n.trigger("keyup-change")}})}function p(n){n.bind("mousemove",function(n){var r=e.data(document,"select2-lastpos");(r===t||r.x!==n.pageX||r.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function d(e,n,r){r=r||t;var i;return function(){var t=arguments;window.clearTimeout(i);i=window.setTimeout(function(){n.apply(r,t)},e)}}function v(e){var t=!1,n;return function(){if(t===!1){n=e();t=!0}return n}}function m(e,t){var n=d(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){a(e.target,t.get())>=0&&n(e)})}function g(e){e.preventDefault();e.stopPropagation()}function y(t){if(!u){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);u=e("<div></div>").css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"});e("body").append(u)}u.text(t.val());return u.width()}function b(e,t,n){var r=e.toUpperCase().indexOf(t.toUpperCase()),i=t.length;if(r<0){n.push(e);return}n.push(e.substring(0,r));n.push("<span class='select2-match'>");n.push(e.substring(r,r+i));n.push("</span>");n.push(e.substring(r+i,e.length))}function w(t){var n,r=0,i=null,s=t.quietMillis||100;return function(o){window.clearTimeout(n);n=window.setTimeout(function(){r+=1;var n=r,s=t.data,u=t.transport||e.ajax,a=t.traditional||!1,f=t.type||"GET";s=s.call(this,o.term,o.page,o.context);null!==i&&i.abort();i=u.call(null,{url:t.url,dataType:t.dataType,data:s,type:f,traditional:a,success:function(e){if(n<r)return;var i=t.results(e,o.page);o.callback(i)}})},s)}}function E(t){var n=t,r,i=function(e){return""+e.text};if(!e.isArray(n)){i=n.text;if(!e.isFunction(i)){r=n.text;i=function(e){return e[r]}}n=n.results}return function(t){var r=t.term,s={results:[]},o;if(r===""){t.callback({results:n});return}o=function(n,s){var u,a;n=n[0];if(n.children){u={};for(a in n)n.hasOwnProperty(a)&&(u[a]=n[a]);u.children=[];e(n.children).each2(function(e,t){o(t,u.children)});u.children.length&&s.push(u)}else t.matcher(r,i(n))&&s.push(n)};e(n).each2(function(e,t){o(t,s.results)});t.callback(s)}}function S(n){return e.isFunction(n)?n:function(r){var i=r.term,s={results:[]};e(n).each(function(){var e=this.text!==t,n=e?this.text:this;(i===""||r.matcher(i,n))&&s.results.push(e?this:{id:this,text:this})});r.callback(s)}}function x(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function T(t){return e.isFunction(t)?t():t}function N(t){var n=0;e.each(t,function(e,t){t.children?n+=N(t.children):n++});return n}function C(e,n,r,i){var s=e,o=!1,u,a,l,c,h;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){a=-1;for(l=0,c=i.tokenSeparators.length;l<c;l++){h=i.tokenSeparators[l];a=e.indexOf(h);if(a>=0)break}if(a<0)break;u=e.substring(0,a);e=e.substring(a+h.length);if(u.length>0){u=i.createSearchChoice(u,n);if(u!==t&&u!==null&&i.id(u)!==t&&i.id(u)!==null){o=!1;for(l=0,c=n.length;l<c;l++)if(f(i.id(u),i.id(n[l]))){o=!0;break}o||r(u)}}}if(s.localeCompare(e)!=0)return e}function k(t,n){var r=function(){};r.prototype=new t;r.prototype.constructor=r;r.prototype.parent=t.prototype;r.prototype=e.extend(r.prototype,n);return r}if(window.Select2!==t)return;var n,r,i,s,o,u;n={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){e=e.which?e.which:e;switch(e){case n.LEFT:case n.RIGHT:case n.UP:case n.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case n.SHIFT:case n.CTRL:case n.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){e=e.which?e.which:e;return e>=112&&e<=123}};o=function(){var e=1;return function(){return e++}}();e(document).delegate("body","mousemove",function(t){e.data(document,"select2-lastpos",{x:t.pageX,y:t.pageY})});e(document).ready(function(){e(document).delegate("body","mousedown touchend",function(n){var r=e(n.target).closest("div.select2-container").get(0),i;if(r)e(document).find("div.select2-container-active").each(function(){this!==r&&e(this).data("select2").blur()});else{r=e(n.target).closest("div.select2-drop").get(0);e(document).find("div.select2-drop-active").each(function(){this!==r&&e(this).data("select2").blur()})}r=e(n.target);i=r.attr("for");if("LABEL"===n.target.tagName&&i&&i.length>0){r=e("#"+i);r=r.data("select2");if(r!==t){r.focus();n.preventDefault()}}})});r=k(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i,s=".select2-results";this.opts=n=this.prepareOpts(n);this.id=n.id;n.element.data("select2")!==t&&n.element.data("select2")!==null&&this.destroy();this.enabled=!0;this.container=this.createContainer();this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=v(function(){return n.element.closest("body")});n.element.attr("class")!==t&&this.container.addClass(n.element.attr("class").replace(/validate\[[\S ]+] ?/,""));this.container.css(T(n.containerCss));this.container.addClass(T(n.containerCssClass));this.opts.element.data("select2",this).hide().before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(T(n.dropdownCssClass));this.dropdown.data("select2",this);this.results=r=this.container.find(s);this.search=i=this.container.find("input.select2-input");i.attr("tabIndex",this.opts.element.attr("tabIndex"));this.resultsPage=0;this.context=null;this.initContainer();this.initContainerWidth();p(this.results);this.dropdown.delegate(s,"mousemove-filtered",this.bind(this.highlightUnderEvent));m(80,this.results);this.dropdown.delegate(s,"scroll-debounced",this.bind(this.loadMoreIfNeeded));e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var s=r.scrollTop(),o;if(i>0&&s-i<=0){r.scrollTop(0);g(e)}else if(i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()){r.scrollTop(r.get(0).scrollHeight-r.height());g(e)}});h(i);i.bind("keyup-change",this.bind(this.updateResults));i.bind("focus",function(){i.addClass("select2-focused");i.val()===" "&&i.val("")});i.bind("blur",function(){i.removeClass("select2-focused")});this.dropdown.delegate(s,"mouseup",this.bind(function(t){if(e(t.target).closest(".select2-result-selectable:not(.select2-disabled)").length>0){this.highlightUnderEvent(t);this.selectHighlighted(t)}else this.focusSearch();g(t)}));this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()});if(e.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");if(e!==t){e.container.remove();e.dropdown.remove();e.opts.element.removeData("select2").unbind(".select2").show()}},prepareOpts:function(n){var r,i,s,o;r=n.element;r.get(0).tagName.toLowerCase()==="select"&&(this.select=i=n.element);i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")});n=e.extend({},{populateResults:function(r,i,s){var o,u,a,f,l=this.opts.id,c=this;o=function(r,i,u){var a,f,h,p,d,v,m,g,y;for(a=0,f=r.length;a<f;a+=1){h=r[a];p=l(h)!==t;d=h.children&&h.children.length>0;v=e("<li></li>");v.addClass("select2-results-dept-"+u);v.addClass("select2-result");v.addClass(p?"select2-result-selectable":"select2-result-unselectable");d&&v.addClass("select2-result-with-children");v.addClass(c.opts.formatResultCssClass(h));m=e("<div></div>");m.addClass("select2-result-label");y=n.formatResult(h,m,s);y!==t&&m.html(c.opts.escapeMarkup(y));v.append(m);if(d){g=e("<ul></ul>");g.addClass("select2-result-sub");o(h.children,g,u+1);v.append(g)}v.data("select2-data",h);i.append(v)}};o(i,r,0)}},e.fn.select2.defaults,n);if(typeof n.id!="function"){s=n.id;n.id=function(e){return e[s]}}if(i){n.query=this.bind(function(n){var i={results:[],more:!1},s=n.term,o,u,a;a=function(e,t){var r;if(e.is("option"))n.matcher(s,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class")});else if(e.is("optgroup")){r={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")};e.children().each2(function(e,t){a(t,r.children)});r.children.length>0&&t.push(r)}};o=r.children();if(this.getPlaceholder()!==t&&o.length>0){u=o[0];e(u).text()===""&&(o=o.not(u))}o.each2(function(e,t){a(t,i.results)});n.callback(i)});n.id=function(e){return e.id};n.formatResultCssClass=function(e){return e.css}}else if(!("query"in n))if("ajax"in n){o=n.element.data("ajax-url");o&&o.length>0&&(n.ajax.url=o);n.query=w(n.ajax)}else if("data"in n)n.query=E(n.data);else if("tags"in n){n.query=S(n.tags);n.createSearchChoice=function(e){return{id:e,text:e}};n.initSelection=function(t,r){var i=[];e(l(t.val(),n.separator)).each(function(){var t=this,r=this,s=n.tags;e.isFunction(s)&&(s=s());e(s).each(function(){if(f(this.id,t)){r=this.text;return!1}});i.push({id:t,text:r})});r(i)}}if(typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){this.opts.element.bind("change.select2",this.bind(function(e){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}))},triggerChange:function(t){t=t||{};t=e.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){if(this.enabled)return;this.enabled=!0;this.container.removeClass("select2-container-disabled")},disable:function(){if(!this.enabled)return;this.close();this.enabled=!1;this.container.addClass("select2-container-disabled")},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.container.offset(),n=this.container.outerHeight(),r=this.container.outerWidth(),i=this.dropdown.outerHeight(),s=e(window).scrollTop()+document.documentElement.clientHeight,o=t.top+n,u=t.left,a=o+i<=s,f=t.top-i>=this.body().scrollTop(),l=this.dropdown.hasClass("select2-drop-above"),c,h,p;if(this.body().css("position")!=="static"){c=this.body().offset();o-=c.top;u-=c.left}if(l){h=!0;!f&&a&&(h=!1)}else{h=!1;!a&&f&&(h=!0)}if(h){o=t.top-i;this.container.addClass("select2-drop-above");this.dropdown.addClass("select2-drop-above")}else{this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")}p=e.extend({top:o,left:u,width:r},T(this.opts.dropdownCss));this.dropdown.css(p)},shouldOpen:function(){var t;if(this.opened())return!1;t=e.Event("open");this.opts.element.trigger(t);return!t.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen())return!1;window.setTimeout(this.bind(this.opening),1);return!0},opening:function(){var t=this.containerId,n=this.containerSelector,r="scroll."+t,i="resize."+t;this.container.parents().each(function(){e(this).bind(r,function(){var t=e(n);t.length==0&&e(this).unbind(r);t.select2("close")})});e(window).bind(i,function(){var t=e(n);t.length==0&&e(window).unbind(i);t.select2("close")});this.clearDropdownAlignmentPreference();this.search.val()===" "&&this.search.val("");this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.updateResults(!0);this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");this.ensureHighlightVisible();this.focusSearch()},close:function(){if(!this.opened())return;var t=this;this.container.parents().each(function(){e(this).unbind("scroll."+t.containerId)});e(window).unbind("resize."+this.containerId);this.clearDropdownAlignmentPreference();this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();this.clearSearch();this.opts.element.trigger(e.Event("close"))},clearSearch:function(){},ensureHighlightVisible:function(){var t=this.results,n,r,i,s,o,u,a;r=this.highlight();if(r<0)return;if(r==0){t.scrollTop(0);return}n=t.find(".select2-result-selectable");i=e(n[r]);s=i.offset().top+i.outerHeight();if(r===n.length-1){a=t.find("li.select2-more-results");a.length>0&&(s=a.offset().top+a.outerHeight())}o=t.offset().top+t.outerHeight();s>o&&t.scrollTop(t.scrollTop()+(s-o));u=i.offset().top-t.offset().top;u<0&&t.scrollTop(t.scrollTop()+u)},moveHighlight:function(t){var n=this.results.find(".select2-result-selectable"),r=this.highlight();while(r>-1&&r<n.length){r+=t;var i=e(n[r]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")){this.highlight(r);break}}},highlight:function(t){var n=this.results.find(".select2-result-selectable").not(".select2-disabled");if(arguments.length===0)return a(n.filter(".select2-highlighted")[0],n.get());t>=n.length&&(t=n.length-1);t<0&&(t=0);n.removeClass("select2-highlighted");e(n[t]).addClass("select2-highlighted");this.ensureHighlightVisible()},countSelectableResults:function(){return this.results.find(".select2-result-selectable").not(".select2-disabled").length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.results.find(".select2-result-selectable");this.highlight(r.index(n))}else n.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n,r=-1,i=this.resultsPage+1,s=this,o=this.search.val(),u=this.context;if(t.length===0)return;n=t.offset().top-e.offset().top-e.height();if(n<=0){t.addClass("select2-active");this.opts.query({term:o,page:i,context:u,matcher:this.opts.matcher,callback:this.bind(function(n){if(!s.opened())return;s.opts.populateResults.call(this,e,n.results,{term:o,page:i,context:u});if(n.more===!0){t.detach().appendTo(e).text(s.opts.formatLoadMore(i+1));window.setTimeout(function(){s.loadMoreIfNeeded()},10)}else t.remove();s.positionDropdown();s.resultsPage=i})})}},tokenize:function(){},updateResults:function(n){function l(){i.scrollTop(0);r.removeClass("select2-active");u.positionDropdown()}function c(e){i.html(u.opts.escapeMarkup(e));l()}var r=this.search,i=this.results,s=this.opts,o,u=this,a;if(n!==!0&&(this.showSearchInput===!1||!this.opened()))return;r.addClass("select2-active");if(s.maximumSelectionSize>=1){o=this.data();if(e.isArray(o)&&o.length>=s.maximumSelectionSize&&x(s.formatSelectionTooBig,"formatSelectionTooBig")){c("<li class='select2-selection-limit'>"+s.formatSelectionTooBig(s.maximumSelectionSize)+"</li>");return}}if(r.val().length<s.minimumInputLength&&x(s.formatInputTooShort,"formatInputTooShort")){c("<li class='select2-no-results'>"+s.formatInputTooShort(r.val(),s.minimumInputLength)+"</li>");return}c("<li class='select2-searching'>"+s.formatSearching()+"</li>");a=this.tokenize();a!=t&&a!=null&&r.val(a);this.resultsPage=1;s.query({term:r.val(),page:this.resultsPage,context:null,matcher:s.matcher,callback:this.bind(function(o){var a;if(!this.opened())return;this.context=o.context===t?null:o.context;if(this.opts.createSearchChoice&&r.val()!==""){a=this.opts.createSearchChoice.call(null,r.val(),o.results);a!==t&&a!==null&&u.id(a)!==t&&u.id(a)!==null&&e(o.results).filter(function(){return f(u.id(this),u.id(a))}).length===0&&o.results.unshift(a)}if(o.results.length===0&&x(s.formatNoMatches,"formatNoMatches")){c("<li class='select2-no-results'>"+s.formatNoMatches(r.val())+"</li>");return}i.empty();u.opts.populateResults.call(this,i,o.results,{term:r.val(),page:this.resultsPage,context:null});if(o.more===!0&&x(s.formatLoadMore,"formatLoadMore")){i.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(s.formatLoadMore(this.resultsPage))+"</li>");window.setTimeout(function(){u.loadMoreIfNeeded()},10)}this.postprocessResults(o,n);l()})})},cancel:function(){this.close()},blur:function(){this.close();this.container.removeClass("select2-container-active");this.dropdown.removeClass("select2-drop-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){this.search.show();this.search.focus();window.setTimeout(this.bind(function(){this.search.show();this.search.focus();this.search.val(this.search.val())}),10)},selectHighlighted:function(){var e=this.highlight(),t=this.results.find(".select2-highlighted").not(".select2-disabled"),n=t.closest(".select2-result-selectable").data("select2-data");if(n){t.addClass("select2-disabled");this.highlight(e);this.onSelect(n)}},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,r,i,s,o;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){n=this.opts.element.attr("style");if(n!==t){r=n.split(";");for(s=0,o=r.length;s<o;s+=1){i=r[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/);if(i!==null&&i.length>=1)return i[1]}}if(this.opts.width==="resolve"){n=this.opts.element.css("width");return n.indexOf("%")>0?n:this.opts.element.outerWidth()===0?"auto":this.opts.element.outerWidth()+"px"}return null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var r=n.call(this);r!==null&&this.container.attr("style","width: "+r)}});i=k(r,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container"}).html(["    <a href='#' onclick='return false;' class='select2-choice'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","    <div class='select2-drop select2-offscreen'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},opening:function(){this.search.show();this.parent.opening.apply(this,arguments);this.dropdown.removeClass("select2-offscreen")},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);this.dropdown.removeAttr("style").addClass("select2-offscreen").insertAfter(this.selection).show()},focus:function(){this.close();this.selection.focus()},isFocused:function(){return this.selection[0]===document.activeElement},cancel:function(){this.parent.cancel.apply(this,arguments);this.selection.focus()},initContainer:function(){var e,t=this.container,r=this.dropdown,i=!1;this
.selection=e=t.find(".select2-choice");this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){g(e);return}if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1);g(e);return;case n.TAB:case n.ENTER:this.selectHighlighted();g(e);return;case n.ESC:this.cancel(e);g(e);return}else{if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;this.open();if(e.which===n.ENTER)return}}));this.search.bind("focus",this.bind(function(){this.selection.attr("tabIndex","-1")}));this.search.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.selection.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));e.bind("mousedown",this.bind(function(e){i=!0;if(this.opened()){this.close();this.selection.focus()}else this.enabled&&this.open();i=!1}));r.bind("mousedown",this.bind(function(){this.search.focus()}));e.bind("focus",this.bind(function(){this.container.addClass("select2-container-active");this.search.attr("tabIndex","-1")}));e.bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active");window.setTimeout(this.bind(function(){this.search.attr("tabIndex",this.opts.element.attr("tabIndex"))}),10)}));e.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN){g(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;if(e.which==n.DELETE){this.opts.allowClear&&this.clear();return}this.open();if(e.which===n.ENTER){g(e);return}if(e.which<48){g(e);return}var t=String.fromCharCode(e.which).toLowerCase();e.shiftKey&&(t=t.toUpperCase());this.search.focus();this.search.val(t);g(e)}));e.delegate("abbr","mousedown",this.bind(function(e){if(!this.enabled)return;this.clear();g(e);this.close();this.triggerChange();this.selection.focus()}));this.setPlaceholder();this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")}))},clear:function(){this.opts.element.val("");this.selection.find("span").empty();this.selection.removeData("select2-data");this.setPlaceholder()},initSelection:function(){var e;if(this.opts.element.val()===""){this.close();this.setPlaceholder()}else{var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){n.updateSelection(e);n.close();n.setPlaceholder()}})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);t.element.get(0).tagName.toLowerCase()==="select"&&(t.initSelection=function(t,n){var r=t.find(":selected");e.isFunction(n)&&n({id:r.attr("value"),text:r.text()})});return t},setPlaceholder:function(){var e=this.getPlaceholder();if(this.opts.element.val()===""&&e!==t){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(e));this.selection.addClass("select2-default");this.selection.find("abbr").hide()}},postprocessResults:function(t,n){var r=0,i=this,s=!0;this.results.find(".select2-result-selectable").each2(function(e,t){if(f(i.id(t.data("select2-data")),i.opts.element.val())){r=e;return!1}});this.highlight(r);if(n===!0){s=this.showSearchInput=N(t.results)>=this.opts.minimumResultsForSearch;this.dropdown.find(".select2-search")[s?"removeClass":"addClass"]("select2-search-hidden");e(this.dropdown,this.container)[s?"addClass":"removeClass"]("select2-with-searchbox")}},onSelect:function(e){var t=this.opts.element.val();this.opts.element.val(this.id(e));this.updateSelection(e);this.close();this.selection.focus();f(t,this.id(e))||this.triggerChange()},updateSelection:function(e){var n=this.selection.find("span"),r;this.selection.data("select2-data",e);n.empty();r=this.opts.formatSelection(e,n);r!==t&&n.append(this.opts.escapeMarkup(r));this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=null,r=this;if(arguments.length===0)return this.opts.element.val();e=arguments[0];if(this.select){this.select.val(e).find(":selected").each2(function(e,t){n={id:t.attr("value"),text:t.text()};return!1});this.updateSelection(n);this.setPlaceholder()}else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e){this.clear();return}this.opts.element.val(e);this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):"");r.updateSelection(e);r.setPlaceholder()})}},clearSearch:function(){this.search.val("")},data:function(e){var n;if(arguments.length===0){n=this.selection.data("select2-data");n==t&&(n=null);return n}if(!e||e==="")this.clear();else{this.opts.element.val(e?this.id(e):"");this.updateSelection(e)}}});s=k(r,{createContainer:function(){var t=e("<div></div>",{"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);t.element.get(0).tagName.toLowerCase()==="select"&&(t.initSelection=function(t,n){var r=[];t.find(":selected").each2(function(e,t){r.push({id:t.attr("value"),text:t.text()})});e.isFunction(n)&&n(r)});return t},initContainer:function(){var t=".select2-choices",r;this.searchContainer=this.container.find(".select2-search-field");this.selection=r=this.container.find(t);this.search.bind("keydown",this.bind(function(e){if(!this.enabled)return;if(e.which===n.BACKSPACE&&this.search.val()===""){this.close();var t,i=r.find(".select2-search-choice-focus");if(i.length>0){this.unselect(i.first());this.search.width(10);g(e);return}t=r.find(".select2-search-choice");t.length>0&&t.last().addClass("select2-search-choice-focus")}else r.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case n.UP:case n.DOWN:this.moveHighlight(e.which===n.UP?-1:1);g(e);return;case n.ENTER:case n.TAB:this.selectHighlighted();g(e);return;case n.ESC:this.cancel(e);g(e);return}if(e.which===n.TAB||n.isControl(e)||n.isFunctionKey(e)||e.which===n.BACKSPACE||e.which===n.ESC)return;if(this.opts.openOnEnter===!1&&e.which===n.ENTER)return;this.open();(e.which===n.PAGE_UP||e.which===n.PAGE_DOWN)&&g(e)}));this.search.bind("keyup",this.bind(this.resizeSearch));this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.clearSearch();e.stopImmediatePropagation()}));this.container.delegate(t,"mousedown",this.bind(function(t){if(!this.enabled)return;if(e(t.target).closest(".select2-search-choice").length>0)return;this.clearPlaceholder();this.open();this.focusSearch();t.preventDefault()}));this.container.delegate(t,"focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.clearSearch()},enable:function(){if(this.enabled)return;this.parent.enable.apply(this,arguments);this.search.removeAttr("disabled")},disable:function(){if(!this.enabled)return;this.parent.disable.apply(this,arguments);this.search.attr("disabled",!0)},initSelection:function(){var e;if(this.opts.element.val()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var n=this;this.opts.initSelection.call(null,this.opts.element,function(e){if(e!==t&&e!==null){n.updateSelection(e);n.close();n.clearSearch()}})}},clearSearch:function(){var e=this.getPlaceholder();if(e!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1){this.search.val(e).addClass("select2-default");this.resizeSearch()}else this.search.val(" ").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")?this.search.val("").removeClass("select2-default"):this.search.val()===" "&&this.search.val("")},opening:function(){this.parent.opening.apply(this,arguments);this.clearPlaceholder();this.resizeSearch();this.focusSearch()},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){if(a(i.id(this),n)<0){n.push(i.id(this));r.push(this)}});t=r;this.selection.find(".select2-search-choice").remove();e(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts);if(e!=null&&e!=t){this.search.val(e);e.length>0&&this.open()}},onSelect:function(e){this.addSelectedChoice(e);this.select&&this.postprocessResults();if(this.opts.closeOnSelect){this.close();this.search.width(10)}else if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();this.positionDropdown()}else this.close();this.triggerChange({added:e});this.focusSearch()},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(t){var n=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=this.id(t),i=this.getVal(),s;s=this.opts.formatSelection(t,n);n.find("div").replaceWith("<div>"+this.opts.escapeMarkup(s)+"</div>");n.find(".select2-search-choice-close").bind("mousedown",g).bind("click dblclick",this.bind(function(t){if(!this.enabled)return;e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue();g(t)})).bind("focus",this.bind(function(){if(!this.enabled)return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}));n.data("select2-data",t);n.insertBefore(this.searchContainer);i.push(r);this.setVal(i)},unselect:function(e){var t=this.getVal(),n,r;e=e.closest(".select2-search-choice");if(e.length===0)throw"Invalid argument: "+e+". Must be .select2-search-choice";n=e.data("select2-data");r=a(this.id(n),t);if(r>=0){t.splice(r,1);this.setVal(t);this.select&&this.postprocessResults()}e.remove();this.triggerChange({removed:n})},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result-selectable"),n=this.results.find(".select2-result-with-children"),r=this;t.each2(function(t,n){var i=r.id(n.data("select2-data"));a(i,e)>=0?n.addClass("select2-disabled").removeClass("select2-result-selectable"):n.removeClass("select2-disabled").addClass("select2-result-selectable")});n.each2(function(e,t){t.find(".select2-result-selectable").length==0?t.addClass("select2-disabled"):t.removeClass("select2-disabled")});t.each2(function(e,t){if(!t.hasClass("select2-disabled")&&t.hasClass("select2-result-selectable")){r.highlight(0);return!1}})},resizeSearch:function(){var e,t,n,r,i,s=c(this.search);e=y(this.search)+10;t=this.search.offset().left;n=this.selection.width();r=this.selection.offset().left;i=n-(t-r)-s;i<e&&(i=n-s);i<40&&(i=n-s);this.search.width(i)},getVal:function(){var e;if(this.select){e=this.select.val();return e===null?[]:e}e=this.opts.element.val();return l(e,this.opts.separator)},setVal:function(t){var n;if(this.select)this.select.val(t);else{n=[];e(t).each(function(){a(this,n)<0&&n.push(this)});this.opts.element.val(n.length===0?"":n.join(this.opts.separator))}},val:function(){var n,r=[],i=this;if(arguments.length===0)return this.getVal();n=arguments[0];if(!n){this.opts.element.val("");this.updateSelection([]);this.clearSearch();return}this.setVal(n);if(this.select){this.select.find(":selected").each(function(){r.push({id:e(this).attr("value"),text:e(this).text()})});this.updateSelection(r)}else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(i.id);i.setVal(n);i.updateSelection(t);i.clearSearch()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t){var n=this,r;if(arguments.length===0)return this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();t||(t=[]);r=e.map(t,function(e){return n.opts.id(e)});this.setVal(r);this.updateSelection(t);this.clearSearch()}});e.fn.select2=function(){var n=Array.prototype.slice.call(arguments,0),r,o,u,f,l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];this.each(function(){if(n.length===0||typeof n[0]=="object"){r=n.length===0?{}:e.extend({},n[0]);r.element=e(this);if(r.element.get(0).tagName.toLowerCase()==="select")f=r.element.attr("multiple");else{f=r.multiple||!1;"tags"in r&&(r.multiple=f=!0)}o=f?new s:new i;o.init(r)}else{if(typeof n[0]!="string")throw"Invalid arguments to select2 plugin: "+n;if(a(n[0],l)<0)throw"Unknown method: "+n[0];u=t;o=e(this).data("select2");if(o===t)return;n[0]==="container"?u=o.container:u=o[n[0]].apply(o,n.slice(1));if(u!==t)return!1}});return u===t?this:u};e.fn.select2.defaults={width:"copy",closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n){var r=[];b(e.text,n.term,r);return r.join("")},formatSelection:function(e,n){return e?e.text:t},formatResultCssClass:function(e){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){return"Please enter "+(t-e.length)+" more characters"},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(e==1?"":"s")},formatLoadMore:function(e){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:C,escapeMarkup:function(e){return e&&typeof e=="string"?e.replace(/&/g,"&amp;"):e},blurOnChange:!1};window.Select2={query:{ajax:w,local:E,tags:S},util:{debounce:d,markMatch:b},"class":{"abstract":r,single:i,multi:s}}})(jQuery);(function(e){e.fn.typewriter=function(t){this.css("display","block");this.each(function(){var n=e(this),r=n.text(),i=0;n.text("");var s=setInterval(function(){n.text(r.substring(0,i++)+(i&1?"_":""));if(i>r.length+1){clearInterval(s);typeof t!="undefined"&&t()}},25)});return this}})(jQuery);"use strict";var intercomSettings={},ngMaleApp=angular.module("ngMaleApp",["ui","$strap","maleUI","DataServices","HelperServices","BrandsModule","ColoursModule","SizeModule","SpecificsModule","CheckoutModule","SuccessModule"]);ngMaleApp.config(["$routeProvider",function(e){e.when("/",{redirectTo:"/section/garms/category/intro",controller:MainController}).when("/section/:section/category/:category",{templateUrl:"categoryProxy.html",controller:CategoryController}).when("/section/:section/category/intro/question/:question",{redirectTo:"/section/garms/category/intro",controller:MainController}).when("/section/:section/category/:category/question/restart",{redirectTo:"/section/garms/category/intro",controller:MainController}).when("/section/:section/category/:category/question/:question",{templateUrl:"detailViewProxy.html",controller:QuestionController}).when("/section/:section/category/:category/question/:question/account_code/:account_code/key/:key",{templateUrl:"detailViewProxy.html",controller:QuestionController}).otherwise({redirectTo:"/section/garms/category/intro"})}]);ngMaleApp.run(["$rootScope","$locale","$routeParams","DataService","HelperService",function(e,t,n,r,i){t.id="en-gb";e.drawerOpen=!1;e.currentUser=!1;e.loggedIn=!1;e.facebookConnected=!1;e.male_answers={};e.currentAnswer={};e.currentUser=r.getCurrentUser();if(e.currentUser){e.loggedIn=!0;i.setIntercomSettings(e.currentUser);var s=r.getUserAnswers(e.currentUser,e);s.then(function(t){e.male_answers=t},function(e){console.log("Could not fetch users answers collection");console.log(e)});if(e.currentUser.get("authData")){e.profileImageUrl="https://graph.facebook.com/"+e.currentUser.attributes.authData.facebook.id+"/picture";e.facebookConnected=!0}else{e.profileImageUrl=i.urls.getSkinUrl()+"images/facebook-connect/blank-profile.png";e.facebookConnected=!1}var o=e.currentUser.get("email");i.metrics.identify(o)}else{e.currentUser===null&&(e.currentUser=r.initNewUser());i.setIntercomLoggedOutSettings(e.currentUser)}e.feedback={section:n.section,category:n.category,question:n.question,message:""};if(typeof BrowserDetect!="undefined"){e.feedback.OS=BrowserDetect.OS;e.feedback.browser=BrowserDetect.browser+" "+BrowserDetect.version}e.submitFeedback=function(t,n,i){e.feedback.message!==""&&r.submitFeedback(e.currentUser,e.feedback,e.feedbackForm,t,n,i)};e.fbLoginFromHeader=function(){var t=r.fbLogin(e);t.then(function(t){e.loggedIn=!0;i.metrics.setLastLogin("facebook login");if(typeof t.get("email")=="undefined"){var n=r.getFbData(t,e);n.then(function(t){return r.saveUser(t,e)}).then(function(){window.location="/male"})}else{i.metrics.identify(t.get("email"));window.location="/male"}},function(e){alert("Something went wrong, please let @male know so he can fix it - male@getbrandid.com or @male");console.log(e);jQuery("#modal-login-form .error").html(e.message).show()})};e.loginAttempt={email:"",password:""};e.loginWithEmail=function(){jQuery("#modal-login-form button").attr("disabled","disabled");jQuery("#modal-login-form button").text("Hold Tight");var t=r.emailLogin(e.loginAttempt,e);t.then(function(t){e.loggedIn=!0;i.metrics.identify(e.loginAttempt.email);i.metrics.setLastLogin("email login");setTimeout(function(){window.location="/male"},500)},function(e){jQuery("#modal-login-form .error").html(e.message).show();jQuery("#modal-login-form button").removeAttr("disabled");jQuery("#modal-login-form button").text("Try Again")})};e.registrationAttempt={first_name:"",email:"",password:"",username:""};e.$on("goToRegister",function(){e.loginModalShown=!1;e.registerModalShown=!0});e.$on("goToLogin",function(){e.loginModalShown=!0;e.registerModalShown=!1});e.passwordReset=function(){Parse.User.requestPasswordReset("email@example.com",{success:function(){},error:function(e){console.log(e);alert("Sorry, "+e.message)}})};e.register=function(){var t=i.format.first_name(e.registrationAttempt.first_name);e.currentUser.set("first_name",t);e.currentUser.set("username",e.registrationAttempt.email);e.currentUser.set("email",e.registrationAttempt.email);e.currentUser.set("password",e.registrationAttempt.password);var n=r.emailSignUp(e.currentUser,e);n.then(function(t){e.loggedIn=!0;var n={"Registration Method":"Email Signup",$created:new Date,$last_login:new Date};i.metrics.track("Registered",n);e.male_answers=r.initNewAnswerCollection(e.currentUser);if(r.isParseObject(e.currentAnswer)){e.currentAnswer.set("user",t);return r.addAnswerToMale(e.male_answers,e.currentAnswer,t,e)}location.reload()}).then(function(){location.reload()},function(e){console.log(e);jQuery("#modal-register-form .error").text("Computer says: "+e.message).show();jQuery("#modal-register-form button").removeAttr("disabled");jQuery("#modal-register-form button").text("Try Again")});jQuery("#modal-register-form button").attr("disabled","disabled");jQuery("#modal-register-form button").text("Hold Tight")};e.fbRegisterAndSave=function(){var t=r.fbLogin(e);t.then(function(t){e.loggedIn=!0;var n=r.getFbData(t,e);n.then(function(n){return r.saveUser(t,e)}).then(function(t){r.setAnswer(e.currentAnswer,"user",t);e.male_answers=r.initNewAnswerCollection(t);return r.addAnswerToMale(e.male_answers,e.currentAnswer,e.currentUser,e)}).then(function(){location.reload()})},function(e){alert("Something went wrong, please let @male know so he can fix it - male@getbrandid.com or @male");console.log(e)})};e.setCurrentAnswer=function(t){if(e.loggedIn){var n=e.male_answers.getByCategory(t);if(typeof n!="undefined")e.currentAnswer=e.male_answers.getByCategory(t);else{e.currentAnswer=r.initNewAnswer();e.currentAnswer.set("category",t)}}else{e.currentAnswer=r.initNewAnswer();e.currentAnswer.set("category",t)}if(e.loggedIn){var n=e.male_answers.getByCategory(t);if(typeof n=="undefined"){e.currentAnswer.set("user",e.currentUser);r.saveAnswer(e.currentAnswer)}}}}]);angular.module("DataServices",[]).factory("ParseService",["HelperService","$q",function(e,t){var n=e.getEnvironment();n==="www"?Parse.initialize("cWsBzcLQQMy80sF7KOYWPkeVKDxshxQWUwWk1b27","rhu8oSmv0Z7qms57HNvJaLlwpc9Mkl2kjIefkTXl"):n==="hack"?Parse.initialize("FSjSiuBpXRS5vSeDVLlhbiraR2jkfH4D9HkFFzzu","I8ZQlxqbAkSWn5oJq4YNHSvMEgT87hYy5r0cA3jV"):Parse.initialize("oB4lSEsDL1MuJbLiTe4pHQbNvCJAzfu4nUMdsLL2","LZ88ABUjZ0l92Nogc3TlCWRlGeKWBkqOXWw382hu");var r=Parse.Object.extend({className:"Feedback"}),i=Parse.Object.extend({className:"Answer"}),s={name:"Parse",getCurrentUser:function(){return Parse.User.current()},isParseObject:function(e){var t=!1;e instanceof Parse.Object&&(t=!0);return t},initNewAnswer:function(){var e=new i;return e},initNewAnswerCollection:function(e){var t=Parse.Collection.extend({model:i,query:(new Parse.Query(i)).equalTo("user",e),getByCategory:function(e){var t=this.find(function(t){return t.get("category")===e});return t}}),n=new t;return n},getUserAnswers:function(e,n){var r=t.defer(),i=this.initNewAnswerCollection(e),s=this;i.fetch({success:function(t){if(typeof t=="undefined"){console.log(t);alert("creating new collection");t=s.initNewAnswerCollection(e)}n.$apply(function(){r.resolve(t)})},error:function(e,t){alert("error");console.log(e);console.log(t);r.reject(t)}});return r.promise},emailLogin:function(e,n){var r=t.defer();Parse.User.logIn(e.email,e.password,{success:function(e){n.$apply(function(){r.resolve(e)})},error:function(e,t){r.reject(t)}});return r.promise},emailSignUp:function(e,n){var r=t.defer();e.signUp(null,{success:function(e){n.$apply(function(){r.resolve(e)})},error:function(e,t){r.reject(t)}});return r.promise},initNewUser:function(){var e=new Parse.User;return e},fbLogin:function(e){var n=t.defer();Parse.FacebookUtils.logIn("user_likes,email,user_photos",{success:function(t){e.$apply(function(){n.resolve(t)})},error:function(e,t){alert("Something went wrong, please let @male know so he can fix it - male@getbrandid.com or @male");console.log(t);n.reject(t)}});return n.promise},fbLoginAndSave:function(t,n,r){var i=this;Parse.FacebookUtils.logIn("user_likes,email,user_photos",{success:function(r){if(!r.get("email"))i.saveRegistrationDataFromFacebook(t,n,r);else{e.metrics.identify(r.get("email"));e.metrics.setLastLogin();location.reload()}},error:function(e,t){alert("Something went wrong, please let @male know so he can fix it - male@getbrandid.com or @male");console.log(t)}})},setAnswer:function(e,t,n){e.set(t,n)},getFbData:function(e,n){var r=t.defer(),i=e.get("authData"),s="/"+i.facebook.id+"?fields=first_name,last_name,gender,email,birthday,location",o=this;FB.api(s,function(t){n.$apply(function(){o.setFbData(e,t);r.resolve(e)})});return r.promise},setFbData:function(t,n){var r={"Registration Method":"Facebook Connect",$created:new Date,$last_login:new Date};if(n.first_name!=="undefined"){this.setToUser(t,"first_name",n.first_name);r.first_name=n.first_name}if(n.last_name!=="undefined"){this.setToUser(t,"last_name",n.last_name);r.last_name=n.last_name}if(n.gender!=="undefined"){this.setToUser(t,"gender",n.gender);r.gender=n.gender}if(n.birthday!=="undefined"){this.setToUser(t,"birthday",n.birthday);r.birthday=n.birthday}if(n.location!=="undefined"){this.setToUser(t,"location",n.location);n.location.name!=="undefined"&&(r.location=n.location.name)}if(n.email!=="undefined"){this.setToUser(t,"email",n.email);e.metrics.identify(n.email);r.email=n.email}e.metrics.track("Registered",r)},saveUser:function(e,n){var r=t.defer();e.save(null,{success:function(e){e.fetch({success:function(e){n.$apply(function(){r.resolve(e)})},error:function(e,t){console.log(e);r.reject(t)}})},error:function(e,t){r.reject(t)}});return r.promise},saveAnswer:function(e,n){var r=t.defer();e.save({success:function(e){r.resolve(e)},error:function(e,t){console.log(t);r.reject(t)}});return r.promise},addAnswerToMale:function(e,n,r,i){var s=t.defer();e.create(n,{success:function(e){i.$apply(function(){s.resolve(e)})},error:function(e,t){console.log(t);s.reject(t)}});return s.promise},setToUser:function(e,t,n){e.set(t,n)},submitFeedback:function(e,t,n,i,s,o){var u=new r;u.set("section",i);u.set("category",s);u.set("question",o);u.set("message",t.message);u.set("browser",t.browser);u.set("OS",t.OS);e&&u.set("user",e);u.save(null,{success:function(e){jQuery("#feedback-message-text").val("");alert("Thanks for your feedback!")},error:function(e,t){console.log(t)}})}};return s}]).factory("DataService",["ParseService","$location",function(e,t){var n=e;return n}]);angular.module("HelperServices",[]).factory("HelperService",["$routeParams",function(e){var t={name:"Helper",metrics:{track:function(e,t){typeof _kmq!="undefined"&&_kmq.push(["record",e,t]);typeof mixpanel!="undefined"&&mixpanel.track(e,t)},identify:function(e){typeof _kmq!="undefined"&&_kmq.push(["identify",e]);typeof mixpanel!="undefined"&&mixpanel.identify(e)},setLastLogin:function(e){var t=new Date,n={$last_login:t,login_method:e};typeof _kmq!="undefined"&&_kmq.push(["record","Logged In",n]);if(typeof mixpanel!="undefined"){mixpanel.track("Logged In",n);mixpanel.people.set(n)}}},urls:{getBaseUrl:function(){var e="//"+document.location.host+"/";return e},getSkinUrl:function(){var e=this.getBaseUrl(),t=e+"skin/frontend/default/brandid/";return t}},format:{first_name:function(e){var t=jQuery.trim(e);t=t.toLowerCase();t=this.capitaliseFirstLetter(t);return t},capitaliseFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},getKey:function(){var e="5wZ821rKIQ804Xe";return e},getEnvironment:function(){var e=window.location.host,t=e.split(".");return t[0]},authorizeSuccessKey:function(e){var t=!1,n=this.getKey();e===n&&(t=!0);return t},getIntercomAppId:function(){var e,t=this.getEnvironment();t==="www"?e="myporahm":t==="hack"?e="2eqflc09":e="2eqflc09";return e},setIntercomSettings:function(e){if(e!==null){var t;t=e.get("email");if(typeof t!="undefined"){var n=Math.round(e.createdAt.getTime()/1e3),r=this.getIntercomAppId(),i=!1;e.get("authData")&&(i=!0);intercomSettings={email:t,created_at:n,"Facebook Connected":i,app_id:r}}}},setIntercomLoggedOutSettings:function(e){var t=this.getIntercomAppId();intercomSettings={email:"guest",created_at:"guest",app_id:t}}};return t}]);"use strict";var MainController=function(t,n,r,i,s){t.routeParams=s;t.$on("$routeChangeSuccess",function(e,n,r){var i;n.params.category==="intro"?t.selectedSubmenuItem="restart":n.params.question==="checkout"?t.drawerOpen=!1:t.selectedSubmenuItem=n.params.question});t.menu=[{title:"1. What do you need?",section:"intro",submenuTemplate:"menu/menuItems.html",submenuItems:[{link:"#/section/garms/category/intro",path:"/section/garms/category/intro",question:"restart",cssClass:"intro",label:"Add Item"}]},{title:"2. Lets get some details",section:"garms",submenuTemplate:"menu/menuItems.html",submenuItems:[{question:"brands",cssClass:"brands",label:"Brands"},{question:"size",cssClass:"size",label:"Size"},{question:"colours",cssClass:"colours",label:"Colours"},{question:"specifics",cssClass:"specifics",label:"Specifics"}]},{title:"3. Checkout",section:"checkout",submenuTemplate:"menu/menuItems.html",submenuItems:[{question:"checkout",cssClass:"checkout",label:"Checkout"}]}]};MainController.$inject=["$scope","DataService","HelperService","$locale","$routeParams"];var SectionController=function(t,n,r){t.sectionTemplate="section/"+r.section+".html"};SectionController.$inject=["$scope","DataService","$routeParams"];var QuestionController=function(t,n,r,i,s,o){setTimeout(function(){jQuery(".question").typewriter()},500);t.currencySymbol="£";t.routeParams=n;o.id="en-gb";t.detailTemplate;t.init=function(){t.loadCorrectTemplate()};t.goToNextQuestion=function(e,n,i,o){r.setAnswer(t.currentAnswer,i,o);if(t.loggedIn){r.setAnswer(t.currentAnswer,"user",t.currentUser);r.saveAnswer(t.currentAnswer,t)}var u=t.getNextPath(i);s.path(u)};t.getNextPath=function(e){var t="";switch(e){case"start":t="brands";break;case"brands":n.category==="socks"?t="colours":t="size";break;case"size":t="colours";break;case"colours":t="specifics";break;case"specifics":t="checkout";break;default:t=n.question}var r="section/"+n.section+"/category/"+n.category+"/question/"+t;return r};t.loadCorrectTemplate=function(){var e="";switch(n.question){case"start":case"brands":e="brands";t.detailTemplate="section/"+n.section+"/category/generic/question/"+e+".html";break;case"size":e="size";t.detailTemplate="section/"+n.section+"/category/generic/question/"+e+".html";break;case"colours":e="colours";t.detailTemplate="section/"+n.section+"/category/generic/question/"+e+".html";break;case"specifics":e="specifics";t.detailTemplate="section/"+n.section+"/category/generic/question/"+e+".html";break;case"checkout":if(!r.getCurrentUser())e="save";else{var o=t.currentUser.get("account_code");if(typeof o!="undefined"){e="success";var u=i.getKey(),a="/section/"+n.section+"/category/generic/question/"+e+"/account_code/"+o+"/key/"+u;s.path(a);break}e="checkout"}t.detailTemplate="section/"+n.section+"/category/generic/question/"+e+".html";break;case"success":if(typeof n.key!="undefined"){var f=i.authorizeSuccessKey(n.key);if(f){e="success";t.detailTemplate="section/"+n.section+"/category/generic/question/"+e+".html"}}else window.location="/male";break;default:e=n.question}};t.init()};QuestionController.$inject=["$scope","$routeParams","DataService","HelperService","$location","$locale"];var CategoryController=function(t,n,r,i,s,o){t.categoryTemplate="section/"+i.section+"/category/"+i.category+".html";t.selectItem=function(e){var n=t.answers[e].category;t.setCurrentAnswer(n);var i={"B4.0_Item Name":n};r.metrics.track("B4.0_Chose Basket Item",i);t.menu[0].submenuItems=[];t.menu[0].submenuItems.push(t.answers[e]);var s=t.answers[e].path;o.path(s)};s.id="en-gb";if(s.id=="en-gb"){t.question="Hi, I’m M.A.L.E. the Masculine Algorithmic Learning Engine. I’m your digital wingman. Let me know your wardrobe needs and I’ll hook you up. Capiche?";t.answers=[{path:"/section/garms/category/socks/question/brands",question:"restart",category:"socks",cssClass:"socks",label:"socks"},{path:"/section/garms/category/boxers/question/brands",question:"restart",category:"boxers",cssClass:"boxers",label:"underwear"},{path:"/section/garms/category/tees/question/brands",question:"restart",category:"tees",cssClass:"tees",label:"t-shirts"},{path:"/section/garms/category/jumpers/question/brands",question:"restart",category:"jumpers",cssClass:"jumpers",label:"jumpers"},{path:"/section/garms/category/hoodies/question/brands",question:"restart",category:"hoodies",cssClass:"hoodies",label:"hoodies"}]}t.totalNumButtons=t.answers.length;setTimeout(function(){jQuery("#intro").typewriter()},500);var u={"B4.0_Funnel":"M.A.L.E.","B4.0_Step":"Intro"};r.metrics.track("B4.0_Reached Funnel Step",u)};CategoryController.$inject=["$scope","DataService","HelperService","$routeParams","$locale","$location"];"use strict";var DetailControlsController=function(t,n,r){};DetailControlsController.$inject=["$scope","DataService","$routeParams"];var BrandsFormController=function(t,n,r,i,s){t.routeParams=r;t.assets={typeahead:{allBrands:[],typeaheadValue:""},selectedTags:{},allBrands:[]};t.assets.selectedTags=[];t.questionTitle=i.getQuestionTitle(s.id);t.question=i.getQuestion(s.id);t.tooltip=i.getTooltip(s.id);t.suggestionsTitle=i.getSuggestionsTitle(s.id);t.myTagsTitle=i.getMyTagsTitle(r.category,s.id
);var o=i.getBrands(r.category,s.id),u=i.detag(o);i.setSelected(o,t.assets.selectedTags);t.assets.typeahead.allBrands=u;t.assets.allBrands=o;t.toggleTag=function(e){i.toggleSelect(t.assets.allBrands,e);var n=!1;for(var r=0;r<t.assets.selectedTags.length;r++)if(t.assets.selectedTags[r].id===e){n=!0;t.assets.selectedTags.splice(r,1);break}if(!n){var s={id:e,isSelected:!0,text:e};t.assets.selectedTags.push(s)}};t.typeTag=function(){var e=t.assets.typeahead.typeaheadValue;for(var n=0;n<t.assets.selectedTags.length;n++)if(e===t.assets.selectedTags[n].text){t.assets.typeahead.typeaheadValue="";return}var r=[e,""];if(e!==""){r=i.taggerize(r);r[0].isSelected=!0;t.assets.selectedTags.push(r[0]);i.toggleSelect(t.assets.allBrands,e);t.assets.typeahead.typeaheadValue=""}};t.saveAnswer=function(){var e=i.detag(angular.copy(t.assets.selectedTags));t.goToNextQuestion(r.section,r.category,r.question,e)};var a={"B4.0_Funnel":r.category,"B4.0_Step":"Brands"};n.metrics.track("B4.0_Reached Funnel Step",a)};BrandsFormController.$inject=["$scope","HelperService","$routeParams","brandsLoader","$locale"];var SizeFormController=function(t,n,r,i,s){t.routeParams=r;s.id="en-gb";t.totalNumButtons=5;t.selectedSize={};var o=i.getSizes(r.category,s.id);t.question=i.getQuestion(s.id);t.questionTitle=i.getQuestionTitle(s.id);t.howToMeasure=o.instructions;t.sizeButtons=o.sizeChoices;t.totalNumButtons=t.sizeButtons.length;t.chooseSize=function(e,n,r){angular.forEach(t.sizeButtons,function(e){e.isActive=!1});t.sizeButtons[r].isActive=!0;t.selectedSize={size:t.sizeButtons[r].label,measurements:t.sizeButtons[r].measurements}};t.saveAnswer=function(){t.goToNextQuestion(r.section,r.category,r.question,t.selectedSize)};var u={"B4.0_Funnel":r.category,"B4.0_Step":"Size"};n.metrics.track("B4.0_Reached Funnel Step",u)};SizeFormController.$inject=["$scope","HelperService","$routeParams","sizeLoader","$locale"];var ColoursFormController=function(t,n,r,i,s){t.routeParams=r;t.colourButtons=[];t.selectedColours=[];t.discoColours=i.getDiscoColoursAll(s.id);t.classicColours=i.getClassicColoursAll(s.id);t.question=i.getQuestion(s.id);t.questionTitle=i.getQuestionTitle(s.id);s.id==="en-gb"&&(t.coloursButtons=[{style:"classic",label:"Classic",isActive:!1,colours:i.getClassicColoursAll(s.id)},{style:"disco",label:"Disco",isActive:!1,colours:i.getDiscoColoursAll(s.id)}]);t.totalNumButtons=t.coloursButtons.length;t.colours=t.classicColours;angular.forEach(t.discoColours,function(e){t.colours.push(e)});t.chooseColours=function(e,n){angular.forEach(t.coloursButtons,function(e){e.isActive=!1});t.coloursButtons[n].isActive=!0;t.selectedColours=[];t.selectedColours=i.getAllColoursFilteredBy(e,s.id)};t.saveAnswer=function(){t.goToNextQuestion(r.section,r.category,r.question,t.selectedColours)};var o={"B4.0_Funnel":r.category,"B4.0_Step":"Colours"};n.metrics.track("B4.0_Reached Funnel Step",o)};ColoursFormController.$inject=["$scope","HelperService","$routeParams","coloursLoader","$locale"];var SpecificsFormController=function(t,n,r,i,s){t.routeParams=r;t.selectedSpecifics="";t.question=i.getQuestion(r.category,s.id);t.questionTitle=i.getQuestionTitle(s.id);t.saveAnswer=function(){t.goToNextQuestion(r.section,r.category,r.question,t.selectedSpecifics)};var o={"B4.0_Funnel":r.category,"B4.0_Step":"Specifics"};n.metrics.track("B4.0_Reached Funnel Step",o)};SpecificsFormController.$inject=["$scope","HelperService","$routeParams","specificsLoader","$locale"];var SaveFormController=function(t,n,r,i,s,o){t.saveTitle=o.getSaveTitle(s.id);t.question=o.getSaveCopy(s.id);t.facebookReasons=o.getFacebookConnectReasons(s.id);t.drawerOpen=!t.drawerOpen;t.fbLoginAndSave=function(){t.fbRegisterAndSave()};var u={"B4.0_Funnel":i.category,"B4.0_Step":"Register (Save Basket)"};r.metrics.track("B4.0_Reached Funnel Step",u)};SaveFormController.$inject=["$scope","DataService","HelperService","$routeParams","$locale","checkoutLoader"];var CheckoutFormController=function(t,n,r,i,s,o){var u,a=t.currentAnswer;t.basket={};t.basketTitle=o.getBasketTitle(s.id);var f=n.getUserAnswers(t.currentUser,t);f.then(function(e){u=e;a=u.getByCategory(i.category);typeof a.get("brands")!="undefined"&&(t.basket.brands=o.humanizeAnswer(a.get("brands")));typeof a.get("colours")!="undefined"&&(t.basket.colours=o.humanizeAnswer(a.get("colours")));typeof a.get("size")!="undefined"&&(t.basket.size=o.humanizeSize(a.get("size")));t.basket.specifics=a.get("specifics")},function(e){console.log("Could not fetch users answers collection");console.log(e)});t.checkoutTitle=o.getCheckoutTitle(s.id);t.checkoutCopy=o.getCheckoutCopy(s.id);t.checkoutIncentiveUrl=o.getCheckoutIncentiveUrl(s.id);var l=r.getEnvironment(),c;l==="www"?c="brandid":c="hackbrandid";t.paymentPageUrl="https://"+c+".recurly.com/subscribe/onboardfee";var h={"B4.0_Funnel":i.category,"B4.0_Step":"£1 Checkout"};r.metrics.track("B4.0_Reached Funnel Step",h)};CheckoutFormController.$inject=["$scope","DataService","HelperService","$routeParams","$locale","checkoutLoader"];var SuccessFormController=function(t,n,r,i,s,o){if(t.currentUser){n.setToUser(t.currentUser,"recurly_account_code",i.account_code);t.currentUser.get("email")||n.setToUser(t.currentUser,"email",i.account_code);n.saveUser(t.currentUser);console.log(i.account_code)}t.successTitle=o.getSuccessTitle(s.id);t.successCopy=o.getSuccessCopy(s.id);var u={"B4.0_Funnel":i.category,"B4.0_Step":"Success"};r.metrics.track("B4.0_Reached Funnel Step",u)};SuccessFormController.$inject=["$scope","DataService","HelperService","$routeParams","$locale","successLoader"];var maleUI=angular.module("maleUI",[]).directive("textTag",function(){return{restrict:"E",templateUrl:"tag.html",replace:!0,scope:{label:"=",id:"=",isSelected:"=",clickedTag:"=clickDelegate"},link:function(e,t,n){t.addClass("text ani fadeIn")}}}),Brands=angular.module("BrandsModule",[]);Brands.factory("brandsLoader",function(){var e={dynamicSort:function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},detag:function(e){var t=[];if(typeof e[0].data!="undefined")for(var n=0;n<e.length;n++){var r=e[n].data.tags;for(var i=0;i<r.length;i++)t.push(r[i].text)}else for(var i=0;i<e.length;i++)t[i]=e[i].text;return t},taggerize:function(e){var t=[];for(var n=0;n<e.length;n++)t[n]={id:e[n],isSelected:!1,text:e[n]};return t},getMyTagsTitle:function(e,t){var n;switch(e){case"socks":n={"en-gb":"My Sock Brands","en-us":"My Sock Brands"};break;case"boxers":n={"en-gb":"My Boxer Brands","en-us":"My Boxer Brands"};break;case"tees":n={"en-gb":"My T-Shirt Brands","en-us":"My T-Shirt Brands"};break;case"jumpers":n={"en-gb":"My Jumper Brands","en-us":"My Jumper Brands"};break;case"hoodies":n={"en-gb":"My Hoodie Brands","en-us":"My Hoodie Brands"};break;case"shoes":n={"en-gb":"My Shoe Brands","en-us":"My Shoe Brands"};break;case"other":n={"en-gb":"My Brands","en-us":"My Brands"};break;default:n={"en-gb":"My Brands","en-us":"My Brands"}}return n[t]},getSuggestionsTitle:function(e){var t={"en-gb":"Suggested Brands","en-us":"Suggested Brands"};return t[e]},getQuestionTitle:function(e){var t={"en-gb":"What's your Brand iD?","en-us":"What's Your Brand iD?"};return t[e]},getTooltip:function(e){var t={"en-gb":"Type in your favourite brand and we’ll make sure you get it. 100% guaranteed.","en-us":"Type in your favourite brand and we’ll make sure you get it. 100% guaranteed."};return t[e]},getQuestion:function(e){var t={"en-gb":"Ok, this is as hard as it’s going to get. Select the brands your wallet likes the look of and we’ll make sure to serve them up in your email.","en-us":"What's Your Brand iD?"};return t[e]},getBrands:function(e,t){var n=[{label:"High St",data:this.getValueBrands(e,t)},{label:"Luxe",data:this.getPremiumBrands(e,t)},{label:"Skate / Snow",data:this.getSkateBrands(e,t)}];for(var r=0;r<n.length;r++){var i=n[r].data.tags;n[r].data.tags=this.taggerize(angular.copy(i))}return n},getBrandsList:function(e,t){var n=this.getBrands(e,t),r=[];for(var i=0;i<n.length;i++){var s=n[i].data.tags;r=r.concat(angular.copy(s))}return r},setSelected:function(e,t){for(var n=0;n<e.length;n++){var r=e[n].data.tags;for(var i=0;i<r.length;i++){var s=0;for(var o=0;o<t.length;o++)if(r[i].id===t[o].id){r[i].isSelected=!0;s++}if(s===t.length)return}}},toggleSelect:function(e,t){for(var n=0;n<e.length;n++){var r=e[n].data.tags;for(var i=0;i<r.length;i++)if(r[i].id===t){r[i].isSelected=!r[i].isSelected;return}}},getSkateBrands:function(e,t){var n,r;switch(e){case"socks":n=2;r=5;break;case"boxers":n=8;r=15;break;case"tees":n=20;r=40;break;case"jumpers":n=40;r=80;break;case"hoodies":n=40;r=80;break;case"shoes":n=30;r=80;break;case"other":n=10;r=40;break;default:n=10;r=40}var i={"en-gb":["Etnies","Element","DC","Vans","WeSC","SupremeBeing","Famous Stars & Straps","Zoo York"],"en-us":["Etnies","Element","DC","Vans","WeSC","SupremeBeing","Famous Stars & Straps","Zoo York"]},s={priceRange:{upper:r,lower:n},tags:i[t]};return s},getValueBrands:function(e,t){var n,r;switch(e){case"socks":n=2;r=5;break;case"boxers":n=4;r=7;break;case"tees":n=5;r=20;break;case"jumpers":n=15;r=40;break;case"hoodies":n=20;r=40;break;case"shoes":n=20;r=50;break;case"other":n=10;r=40;break;default:n=10;r=40}var i={"en-gb":["ASOS","Pringle","River Island","American Apparel","Next","M&S","Topman","Zara","UniQlo","Muji","Esprit","Benetton"],"en-us":["ASOS","Pringle","River Island","American Apparel","Next","M&S","Topman","Zara","UniQlo","Muji","Esprit","Benetton"]},s={priceRange:{upper:r,lower:n},tags:i[t]};return s},getPremiumBrands:function(e,t){var n,r;switch(e){case"socks":n=6;r=15;break;case"boxers":n=8;r=15;break;case"tees":n=20;r=50;break;case"jumpers":n=40;r=90;break;case"hoodies":n=40;r=90;break;case"shoes":n=50;r=100;break;case"other":n=10;r=40;break;default:n=10;r=40}var i={"en-gb":["Ralph Lauren","French Connection","Paul Smith","Ted Baker","Lyle & Scott","Calvin Klein","Hugo Boss","Abercombie & Fitch","Diesel","Armani","Superdry","All Saints","Fred Perry","G-Star","Franklin & Marshall","Reiss"],"en-us":["Ralph Lauren","French Connection","Paul Smith","Ted Baker","Lyle & Scott","Calvin Klein","Hugo Boss","Abercombie & Fitch","Diesel","Armani","Superdry","All Saints","Fred Perry","G-Star","Franklin & Marshall","Reiss"]},s={priceRange:{upper:r,lower:n},tags:i[t]};return s}};return e});var Colours=angular.module("ColoursModule",[]);Colours.factory("coloursLoader",function(){var e={dynamicSort:function(e){return function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}},getQuestion:function(e){var t={"en-gb":"Disco or classic, spots or stripes, patterned or graphic, or just plain old plain? We’ve got the full spectrum buddy. And if we show you any colours you’d never wear, just hit delete."};return t[e]},getQuestionTitle:function(e){var t={"en-gb":"What colours, chief?"};return t[e]},getTooltip:function(e){var t={"en-gb":"This is a tooltip"};return t[e]},getColours:function(e,t){var n=[];switch(e){case"socks":n=this.getDiscoColoursAll(t);n.concat(this.getClassicColoursAll(t));break;case"boxers":n=this.getDiscoColoursAll(t);n.concat(this.getClassicColoursAll(t));break;case"tees":n=this.getDiscoColoursAll(t);n.concat(this.getClassicColoursAll(t));break;case"jumpers":n=this.getDiscoColoursAll(t);n.concat(this.getClassicColoursAll(t));break;case"hoodies":n=this.getDiscoColoursAll(t);n.concat(this.getClassicColoursAll(t));break;case"shoes":n=this.getDiscoColoursAll(t);var r=this.getClassicColoursAll(t);n.concat(r);break;case"other":n=this.getDiscoColoursAll(t);n.concat(this.getClassicColoursAll(t));break;default:}return n},getDiscoColoursAll:function(e){var t={"en-gb":["red","green","pink","orange","blue","yellow","purple","multi-coloured","stripes","camo","spots","chequered"],"en-us":["red","green","pink","orange","blue","yellow","purple","multi-colored","stripes","camo","spots","chequered"]},n=t[e];n.sort();var r=this.formatArrayForTagging(n);return r},getClassicColoursAll:function(e){var t={"en-gb":["black","white","light grey","dark grey","navy","brown"],"en-us":["black","white","light grey","dark grey","navy","brown"]},n=t[e];n.sort();var r=this.formatArrayForTagging(n);return r},formatArrayForTagging:function(e){var t=[];angular.forEach(e,function(e){var n={id:e,text:e};t.push(n)});return t},getAllColoursFilteredBy:function(e,t){var n=[];switch(e){case"classic":n=this.getClassicColoursAll(t);break;case"disco":n=this.getDiscoColoursAll(t);break;default:n=[]}return n}};return e});var Size=angular.module("SizeModule",[]);Size.factory("sizeLoader",function(){var e={getQuestion:function(e){var t={"en-gb":"Are you a big ‘un or a little ‘un? Whatever, we’ve got you covered. Just click the correct box and we’ll make sure it fits."};return t[e]},getQuestionTitle:function(e){var t={"en-gb":"Size matters."};return t[e]},getSizes:function(e,t){var n,r;switch(e){case"boxers":n=this.getBoxerSizes();r=this.getBoxerInstructions(t);break;case"tees":n=this.getTopSizes();r=this.getTopsInstructions(t);break;case"jumpers":n=this.getTopSizes();r=this.getTopsInstructions(t);break;case"hoodies":n=this.getTopSizes();r=this.getTopsInstructions(t);break;case"shoes":n=this.getShoeSizes();r="";break;case"other":n=this.getOtherSizes();r="";break;default:n=this.getBoxerSizes()}var i={instructions:r,sizeChoices:n};return i},getBoxerInstructions:function(e){var t;e==="en-gb"&&(t="If you're unsure what size pants are required for a dude of your standing, just measure your... waist. Yep, your waist. Failing that, check the label in your jeans.");return t},getTopsInstructions:function(e){var t;e==="en-gb"&&(t="If you're unsure how big a dog you are, just measure all the way around that manly chest from pit-to-pit.");return t},getBoxerSizes:function(){var e=[{label:"S",measurements:"30 - 32in",isActive:!1},{label:"M",measurements:"30 - 34in",isActive:!1},{label:"L",measurements:"34 - 36in",isActive:!1},{label:"XL",measurements:"36 - 38in",isActive:!1}];return e},getTopSizes:function(){var e=[{label:"S",measurements:"36 - 38in",isActive:!1},{label:"M",measurements:"38 - 40in",isActive:!1},{label:"L",measurements:"40 - 42in",isActive:!1},{label:"XL",measurements:"42 - 44in",isActive:!1}];return e},getShoeSizes:function(){var e=[{label:"UK 6",measurements:"EU 40",isActive:!1},{label:"UK 7",measurements:"EU 41",isActive:!1},{label:"UK 8",measurements:"EU 42",isActive:!1},{label:"UK 9",measurements:"EU 43",isActive:!1},{label:"UK 10",measurements:"EU 44",isActive:!1},{label:"UK 11",measurements:"EU 45",isActive:!1},{label:"UK 12",measurements:"EU 46",isActive:!1}];return e}};return e});var Specifics=angular.module("SpecificsModule",[]);Specifics.factory("specificsLoader",function(){var e={getQuestionTitle:function(e){var t={"en-gb":"What did I miss?"};return t[e]},getQuestion:function(e,t){switch(e){case"socks":specificsQuestion=this.getSocksQuestion(t);break;case"boxers":specificsQuestion=this.getBoxersQuestion(t);break;case"tees":specificsQuestion=this.getTeesQuestion(t);break;case"jumpers":specificsQuestion=this.getJumpersQuestion(t);break;case"hoodies":specificsQuestion=this.getHoodiesQuestion(t);break;case"shoes":specificsQuestion=this.getShoesQuestion(t);break;case"other":specificsQuestion=this.getOtherQuestion(t);break;default:specificsQuestion=this.getOtherQuestion(t)}return specificsQuestion},getSocksQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. It’s where you help us to help you. Ankle socks or stockings? Woolen or cotton? Sporty or classy?","en-us":"This is for those of you with an eye for detail. It’s where you help us to help you. Ankle socks or stockings? Woolen or cotton? Sporty or classy?"};return t[e]},getBoxersQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. Briefs or boxers? Snug or baggy? Long or longer? Give me those deets.","en-us":"This is for those of you with an eye for detail. Briefs or boxers? Snug or baggy? Long or longer? Give me those deets."};return t[e]},getTeesQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. Slim fit or loose fit? Vee, crew or polo? Give me those deets.","en-us":"This is for those of you with an eye for detail. Slim fit or loose fit? Vee, crew or polo? Give me those deets."};return t[e]},getJumpersQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. Chunky or fine? Slim fit or loose fit? Vee, crew or turtle? Give me those deets.","en-us":"This is for those of you with an eye for detail. Chunky or fine? Slim fit or loose fit? Vee, crew or turtle? Give me those deets."};return t[e]},getHoodiesQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. Zip or no zip? Heavyweight, lightweight or featherweight? Give me those deets.","en-us":"This is for those of you with an eye for detail. Zip or no zip? Heavyweight, lightweight or featherweight? Give me those deets."};return t[e]},getShoesQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. Laces or slip-on? Leather, suede or canvas? Low-top or high-top? Give me those deets.","en-us":"This is for those of you with an eye for detail. Laces or slip-on? Leather, suede or canvas? Low-top or high-top? Give me those deets."};return t[e]},getOtherQuestion:function(e){var t={"en-gb":"This is for those of you with an eye for detail. It’s where you help us to help you. Give me those deets.","en-us":"This is for those of you with an eye for detail. It’s where you help us to help you. Give me those deets."};return t[e]}};return e});var Checkout=angular.module("CheckoutModule",[]);Checkout.factory("checkoutLoader",["HelperService",function(e){var t={getCheckoutCopy:function(e){var t={"en-gb":"Ok, let’s talk turkey, let’s make something happen, let’s do a deal. If you register your card details today and credit your BRANDiD account with one English pound, we’ll send you a pair of Muji touchscreen gloves worth £12.95. Bargain right? Right. You don’t need to buy anything, it’s just to make sure that when you are good to go, you can buy your gear with a single click."};return t[e]},getBasketTitle:function(e){var t={"en-gb":"Your email will be based on:"};return t[e]},getCheckoutTitle:function(e){var t={"en-gb":"Add your credit card and get free touchscreen gloves!"};return t[e]},getCheckoutIncentiveUrl:function(e){var t={"en-gb":"muji-gloves.png","en-us":""};return t[e]},getSaveTitle:function(e){var t={"en-gb":"Supercharge my intelligence with Facebook"};return t[e]},getSaveCopy:function(e){var t={"en-gb":"If you want me to be better at shopping for you than your own mother, I need to get to know you better. It would be amazeballs if you let me...","en-us":""};return t[e]},getFacebookConnectReasons:function(t){var n={"en-gb":[{reasonCopy:"See photos of you (hopefully wearing clothes)",imageUrl:e.urls.getSkinUrl()+"images/facebook-connect/reason1.png"},{reasonCopy:"Check the weather where you are",imageUrl:e.urls.getSkinUrl()+"images/facebook-connect/reason2.png"},{reasonCopy:"Send a Facebook Notification when your recommendation is ready",imageUrl:e.urls.getSkinUrl()+"images/facebook-connect/reason3.png"}]};return n[t]},getBasket:function(e,t){var n={brands:this.getBrandsFrom(e,t),size:this.getSizeFrom(e,t),colours:this.getColoursFrom(e,t),specifics:this.getSpecificsFrom(e,t)};return n},getBrandsFrom:function(e,t){var n;switch(e){case"socks":n=t.socks.attributes.brands;break;case"boxers":n=t.boxers.attributes.brands;break;case"tees":n=t.tees.attributes.brands;break;case"jumpers":n=t.jumpers.attributes.brands;break;case"hoodies":n=t.hoodies.attributes.brands}return n},humanizeAnswer:function(e){var t="";angular.forEach(e,function(e){typeof e.text!="undefined"?t+=e.text+", ":t+=e+", "});t=t.substring(0,t.length-2);return t},humanizeSize:function(e){if(typeof e!="undefined")return e.size},getSizeFrom:function(e,t){var n;switch(e){case"socks":n=t.socks.attributes.size;break;case"boxers":n=t.boxers.attributes.size;break;case"tees":n=t.tees.attributes.size;break;case"jumpers":n=t.jumpers.attributes.size;break;case"hoodies":n=t.hoodies.attributes.size}return n},getColoursFrom:function(e,t){var n;switch(e){case"socks":n=t.socks.attributes.colours;break;case"boxers":n=t.boxers.attributes.colours;break;case"tees":n=t.tees.attributes.colours;break;case"jumpers":n=t.jumpers.attributes.colours;break;case"hoodies":n=t.hoodies.attributes.colours}return n},getSpecificsFrom:function(e,t){var n;switch(e){case"socks":n=t.socks.attributes.specifics;break;case"boxers":n=t.boxers.attributes.specifics;break;case"tees":n=t.tees.attributes.specifics;break;case"jumpers":n=t.jumpers.attributes.specifics;break;case"hoodies":n=t.hoodies.attributes.specifics}return n}};return t}]);var Success=angular.module("SuccessModule",[]);Success.factory("successLoader",function(){var e={getSuccessCopy:function(e){var t={"en-gb":"Ok, now I've got your card on file you won't have to go through that again. I'm working on some options for you, so keep a lookout for an email from male@getbrandid.com in a few hours. Don't forget to check your spam folder just in case."};return t[e]},getSuccessTitle:function(e){var t={"en-gb":"M.A.L.E. is about to hit your inbox"};return t[e]}};return e});