function createPunter(){$j.cookie("punter")!=null&&(punter=JSON.parse($j.cookie("punter")))}function registerUser(){wipeConsole();newQ(punter.email+" ");$j("#male-welcome-msg").css("color","#444444");jqconsole.Write("Saving...  ","jqconsole-output loading-flash wordwrap");var e=getLatestSpan();$j(e).parent().removeClass("red");typeit();var t=setInterval("typeit();",2e3),n=getReferer();$j.ajax({type:"POST",url:"/get/party/subscribe",data:{email:punter.email,fname:punter.fname,gender:punter.gender,source:n},success:function(n){var r=JSON.parse(n);$j(e).parent().removeClass("loading-flash");$j(e).parent().removeClass("red");if(r.status==1){$j(e).parent().addClass("instruction");$j(e).text(r.message);setTimeout("confirmationQ();",3500)}else if(r.status==2){$j(e).parent().addClass("green");$j(e).text(r.message);setTimeout("workQ();",1e3)}else{$j(e).parent().addClass("red");$j(e).text(r.message+"\nTry another email address: ");emailPrompt()}clearInterval(t);typeit()}})}function saveProgress(e){punter.progress=e;$j.cookie("punter",JSON.stringify(punter),{expires:1,path:"/"})}function clearProgress(){$j.cookie("punter",null,{expires:1,path:"/"});createPunter();punter.fname=undefined}function dropBackIn(e){e&&jqconsole.AbortPrompt();var t=String(punter.progress);window[punter.progress](e)}function startAgain(e){wipeConsole();clearProgress();startMale()}function returningVisitor(){jqconsole.Write("Just to confirm: ","jqconsole-output wordwrap");typeit();jqconsole.Write("a. Yes, it's me, "+punter.fname+", lets continue where we left off.\nb. I was just fooling around, let's start again.","jqconsole-output question wordwrap");setTimeout("typeit();",800);var e=new Array;e[0]=new Array("convert secondary","I'm not "+punter.fname,"startAgain(true)");e[1]=new Array("convert","Continue","dropBackIn(true)");insertButtons(e);jqconsole.Prompt(!0,function(e){switch(e){case"a":dropBackIn(!1);break;case"b":startAgain(!1);break;default:jqconsole.Write("What, no [a] and [b] on your keyboard?\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("returningVisitor();",1500)}})}function resendConfirmation(){mobile&&jqconsole.AbortPrompt();clearMobileButtons();jqconsole.Write("Resending confirmation email to "+punter.email+".\nAdd help@getbrandid.com to your address book to make sure our emails don't go to spam.  ","jqconsole-output instruction wordwrap");registerUser()}function confirmationQ(){jqconsole.Write("a. I didn't get any email\nb. I clicked confirm, let's continue. ","jqconsole-output question wordwrap");typeit();var e=new Array;e[0]=new Array("convert secondary","Resend confirmation","resendConfirmation(true)");e[1]=new Array("convert","Continue","workQ(true)");insertButtons(e);confirmationA()}function confirmationA(){jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();switch(t){case"a":jqconsole.Write("","jqconsole-output green wordwrap");typeit();setTimeout("resendConfirmation(false);",2e3);break;case"b":workQ(!1);break;default:jqconsole.Write("Are you having trouble with your keyboard?\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("confirmationA();",1500)}})}function startEmail(){jqconsole.Write("Cool.\n\nLet's save your progress now so you don't have to go through this again.\nWhat's your email address: ","jqconsole-output wordwrap");typeit();emailPrompt()}function emailPrompt(){jqconsole.Focus;jqconsole.Prompt(!0,function(e){punter.email=e;saveProgress("registerUser");registerUser()})}function initiate(){$j(".jqconsole-header span").attr("id","male-welcome-msg");$j("#male-welcome-msg").typewriter();$j("#male-welcome-msg").css("color","#444");window.scrollTo(0,0);jqconsole.Focus}function correctResponse(e){jqconsole.Write(e,"jqconsole-output green wordwrap");typeit()}function wipeConsole(){jqconsole.GetState()==="prompt"&&jqconsole.AbortPrompt();jqconsole.Reset();jQuery("#console").html("");jqconsole=null;window.scrollTo(0,0)}function newQ(e){jqconsole=$j("#console").jqconsole(e," >>> ");initiate();$j("#male-welcome-msg").typewriter();$j("#male-welcome-msg").css("color","#444")}function performAppend(e,t){var n=e;$j(n).parent().append(t)}function getLatestSpan(){var e=$j(".jqconsole-output span"),t=e.length-1,n=$j(e)[t];return n}function getDelayRequired(){var e=getLatestSpan(),t=$j(e).text().length;t*=typingDelay;return t}function typeit(){var e=getLatestSpan(),t="male"+(Math.floor(Math.random()*1e7)+1);$j(e).attr("id",t);$j("#"+t).typewriter();$j("#"+t).css("color","#444")}function capitaliseFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}function clearMobileButtons(){$j(".mobile-buttons").remove()}function insertImageButtons(e,t){var n=e.length,r=0;for(r=0;r<n;r++){var i=e[r][0],s='<div class="mobile-buttons"><a class="'+i+'" onclick="'+e[r][2]+'">'+e[r][1]+"</a></div>",o=$j("#"+t+"-option"+(r+1));performAppend(o,s)}}function printImage(e,t){var n='<div class="image-question clearfix">',r="",i=e.length,s;switch(i){case 1:r="one";break;case 2:r="two";break;case 3:r="three";break;case 4:r="four"}for(s=0;s<i;s++)n+='<a href="#" onclick="'+e[s][3]+'"><div class="img-container '+r+" "+e[s][1]+'"><img class="scale-with-grid" src="'+e[s][0]+'" id="'+e[s][1]+"-option"+(s+1)+'" alt="image option'+(s+1)+'"/><span class="image-caption">'+e[s][2]+"</span></div></a>";n+="</div>";return n}function insertButtons(e){var t=e.length,n,r=getLatestSpan();r=$j(r).parent();var i='<div class="mobile-buttons">';for(n=0;n<t;n++){var s=e[n][0];n==0&&(s+=" first");i+='<a class="'+s+'" onclick="'+e[n][2]+'">'+e[n][1]+"</a>"}i+="</div>";performAppend(r,i)}function genderGuess(e){e=e.toLowerCase();var t=e.charAt(e.length-1);return t!="a"&&t!="e"&&t!="y"&&e!="helen"&&e!="sarah"&&e!="hannah"&&e!="megan"&&e!="alison"||e=="steve"||e=="bryce"||e=="mike"||e=="harry"?"male":"female"}function printInstructions(){$j(".jqconsole-prompt").css("display","block");jqconsole.Write("Type your FIRSTNAME and press ENTER, for example:\n\n >>> Steve ","jqconsole-output instruction wordwrap")}function offside(e){wipeConsole();var t;punter.sexGuess==="female"?t="Hmm... "+punter.fname+". Forgive me if I'm wrong, but that sounds like a girl's name.\n\nJust to be sure, I need you to answer this question: ":t="Hmm... "+punter.fname+". That sounds like a good solid man's name.\n\nJust to be sure, I need you to answer this question: ";newQ(t);typeit();setTimeout("offsideQ()",2e3)}function offsideQ(){attach();jqconsole.Write("a. I'm a man. Player A is offside.\nb. I'm a woman who knows her football. Player A is offside.\nc. I'm a woman. Just show me a picture of Beckham.\n\nType [a], [b] or [c] and press [ENTER] ","jqconsole-output question wordwrap");typeit();var e=new Array;e[0]=new Array("smalltext convert",'I\'m a Man<br/><span class="button-caption">Player A is offside</span>',"offsideAa(true)");e[1]=new Array("smalltext convert",'I\'m a woman<br/><span class="button-caption">I know my football, its Player A</span>',"offsideAb(true)");e[2]=new Array("smalltext convert",'I\'m a woman<br/><span class="button-caption">just show me a picture of Beckham</span>',"offsideAc(true)");setTimeout(function(){insertButtons(e)},1e3);offsideA()}function offsideAa(e){wipeConsole();punter.gender="Male";saveProgress("startEmail");var t="You said: You are a man, Player A is offside ";newQ(t);setTimeout(function(){correctResponse("That is correct. You are clearly a man. ")},2e3);setTimeout("startEmail();",3500)}function offsideAb(e){wipeConsole();punter.gender="Female";saveProgress("startEmail");var t="You said: You are a woman, Player A is offside ";newQ(t);setTimeout(function(){correctResponse("Correct! Wow, that's hot. Just kidding. I'm a machine. ")},2e3);setTimeout("startEmail();",3500)}function offsideAc(e){wipeConsole();punter.gender="Female";saveProgress("startEmail");var t="Romance is in the air... ";newQ(t);setTimeout(function(){beckham()},1500);setTimeout("startEmail();",1500)}function offsideA(){jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();switch(t){case"a":offsideAa(!1);break;case"b":offsideAb(!1);break;case"c":offsideAc(!1);break;default:jqconsole.Write("Choose an option [a], [b] or [c] and press [ENTER]?\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("offsideA();",1500)}})}function teamMenu(){jqconsole.Write("a. Open the team page in a new window\nb. Who is MALE™?\nc. Return to the Secret Menu ","jqconsole-output wordwrap");var e=getLatestSpan();$j(e).css("color","#444");teamAnswer()}function teamAnswer(){jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();switch(t){case"a":window.open("/keep/calm/wearepros","_blank");setTimeout("teamMenu();",1e3);break;case"b":jqconsole.Write("My true identity can never be revealed. However I can tell you this:\n\nMALE™ is the Masculine Algorithmic Learning Engine. MALE™ is learning all the time. When you signup, when you feedback on your deliveries, when you upgrade/downgrade or need new stuff, MALE™ learns exactly what you need, exactly when you need it. ","jqconsole-output wordwrap");typeit();setTimeout("teamMenu();",1e4);break;case"c":investorMenu();break;default:jqconsole.Write("No comprendes, partner. Gotta choose one of the options.\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("teamAnswer();",1500)}})}function investorMenuAnswer(){jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();switch(t){case"a":jqconsole.Write("Our team is the perfect mix of tech startup, retail, fashion, branding and comms entrepreneurs.\nAnd we are deadly serious about solving clothing shopping for men. Forever. ","jqconsole-output wordwrap");typeit();setTimeout("teamMenu();",6e3);break;case"b":jqconsole.Write("Men don’t like shopping. And while men want to look good, most wouldn’t claim to be interested in fashion. Ecommerce for men is too often just ecommerce for women with the pinks turned blue.\n\nWant to know more? Download our deck (option d). ","jqconsole-output wordwrap");typeit();investorMenu();break;case"c":jqconsole.Write("BRANDiD is an online subscription service for all the things men need, starting with designer basics such as underwear, socks, tees and shirts from the likes of Dior, Calvin Klein and Ralph Lauren.\n\nBRANDiD is specifically designed for the way men want to shop – no hassle, no fuss, no fluff. Your average man only shops to solve a problem, and once dealt with, never wants to deal with it again. Select, subscribe, sorted.\n\nWant to know more? Download our deck (option d). ","jqconsole-output readable wordwrap");typeit();investorMenu();break;case"d":window.open("http://f.cl.ly/items/0C0F3k0e2F3E2A150B2u/angel%20deck.pdf","_blank");setTimeout("investorMenu();",1e3);break;default:jqconsole.Write("Sorry buddy, gotta choose one of the options.\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("investorMenu();",4e3)}})}function investorMenu(){jqconsole.Write("Secret Menu:\na. Team\nb. What problem are you solving?\nc. What's the answer?\nd. View the investor deck ","jqconsole-output wordwrap");var e=getLatestSpan();$j(e).css("color","#444");investorMenuAnswer()}function investorPass(){jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();jqconsole.Write("Gimme a sec... ","jqconsole-output wordwrap");typeit();var n=getLatestSpan();$j.ajax({type:"POST",url:"/get/party/password",data:{pword:t},success:function(e){var t=JSON.parse(e);switch(t.status){case!0:jqconsole.Write('That is correct.\nYou know, all this intelligence of mine requires a lot of power. I always need more.\nBut my bosses keep saying "in this country, first you gotta get the money, then you get the power..."\n\nThey always do it in a funny accent. Anyways... I hope you can help us get the money so I can get some power. ',"jqconsole-output green wordwrap");typeit();setTimeout("investorMenu();",9500);break;default:jqconsole.Write('Computer says "no". Try another password: ',"jqconsole-output red wordwrap");typeit();setTimeout("investorPass();",1e3)}}})})}function investorAsk(){jqconsole.Write("So, you're an investor? What's the password: ","jqconsole-output wordwrap");typeit();investorPass()}function workQ(e){wipeConsole();var t="I need to get to know you first before I can recommend a plan for you.\n\nWhat do you wear for work? ";newQ(t);typeit();var n=$j("#male-welcome-msg");setTimeout(function(){workImages(n,e)},2e3)}function workDone(e,t){newQ(e);typeit();setTimeout(function(){playQ(t)},2500)}function workAa(e){punter.work="suit";wipeConsole();var t="Ladies love the suits.\n\n";workDone(t,e)}function workAb(e){punter.work="casual";wipeConsole();var t="Nice. Suits are for losers anyway.\n\n";workDone(t,e)}function workAc(e){punter.work="laid back";wipeConsole();var t="Nice. Real bosses wear jeans and tee to work.\n\n";workDone(t,e)}function workAd(e){punter.work="gorilla suit";wipeConsole();var t="It is hard for the ape to believe he descended from man.\n- H. L. Mencken, American Author, Man Since 1880.\n\n";workDone(t,e)}function workA(){$j(".male-console").css("height","640px");jqconsole.Write("a. Smart (shirt, suit, trousers...)\nb. Casual (shirt, jeans, shoes)\nc. Laid Back (tee, jeans, trainers)\nd. Gorilla Suit ","jqconsole-output question wordwrap");setTimeout("typeit();",3e3);jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();switch(t){case"a":workAa(!1);break;case"b":workAb(!1);break;case"c":workAc(!1);break;case"d":workAd(!1);break;default:jqconsole.Write("Cat got your keyboard?\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("workA();",1500)}})}function playQ(e){wipeConsole();saveProgress("playQ");var t="What do you wear for play? ";newQ(t);var n=$j("#male-welcome-msg");playImages(n,e)}function playDone(e){newQ("Got it. ");typeit();setTimeout(function(){playQ(e)},2500)}function playAa(e){punter.play="shirts";wipeConsole();playDone(e)}function playAb(e){punter.play="polos";wipeConsole();playDone(e)}function playAc(e){punter.play="tees";wipeConsole();playDone(e)}function playAd(e){punter.play="elvis";wipeConsole();playDone(e)}function playA(){window.scrollTo(0,0);jqconsole.Write("a. Shirts\nb. Polos\nc. Tees\nd. Elvis Outfit ","jqconsole-output question wordwrap");setTimeout("typeit();",3e3);jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();switch(t){case"a":playAa(!1);break;case"b":playAb(!1);break;case"c":playAc(!1);break;case"d":playAd(!1);break;default:jqconsole.Write("Choose one of the letters above.\nTry again: ","jqconsole-output red wordwrap");typeit();setTimeout("workA();",1500)}})}typingDelay=15;var $j=jQuery.noConflict(),nameA=function(){setTimeout("printInstructions()",2e3);jqconsole.Prompt(!0,function(e){var t=$j.trim(e);t=t.toLowerCase();t=capitaliseFirstLetter(t);var n=t.length<=1;if(e.toLowerCase()==="investor")investorAsk();else if(!n){punter.fname=t;punter.sexGuess=genderGuess(t);saveProgress("offside");offside(punter.fname)}else{jqconsole.Write(t+"? Really? That's what mamma named you, huh?\n\nTry again smarty pants: ","jqconsole-output red wordwrap");typeit();startPrompt()}})};