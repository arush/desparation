function recurlyTooltip(){var e={id:"popover","class":"popover top"},t={id:"arrow","class":"arrow"},n={id:"popover-inner","class":"popover-inner"},r={id:"popover-title","class":"popover-title"},i={id:"popover-content","class":"popover-content"},s=new Element("div",e),o=new Element("div",t),u=new Element("div",n),a=new Element("h3",r);a.update("Return Like a Man&trade; (+Â£2.49)");var f=new Element("p",i);f.update("<p>Choose this and we'll arrange a free, fully insured courier to come pick up anything you want to return or exchange. Otherwise, no dramas, just post it back to us yourself if you want to return anything.</p>");jQuery(".add_ons.any").prepend(s);jQuery("#popover").append(o);jQuery("#popover").append(u);jQuery("#popover-inner").append(a);jQuery("#popover-inner").append(f);jQuery(".add_on_return-like-a-man").hover(function(){jQuery("#popover").fadeIn(500)},function(){jQuery("#popover").fadeOut(500)})}function recurlyPostProcess(e){var t=jQuery.noConflict(),n,r,i;if(t.cookie("basket")!=null){basketExists=!0;n=t.parseJSON(t.cookie("basket"));r=n.basket;t(".add_on").hide();t(".add_ons .quantity .placeholder").html("")}else basketExists=!1;var s=!1;if(basketExists){n.frequency==="trial"&&(s=!0);t("#recurlyDiv .recurring_cost .cost").hide();s&&t("#recurlyDiv .plan .interval").html("billed only once");var o,u;for(o=0;o<r.length;o++){u=".add_on_";u+=r[o].recurlyCode;if(r[o].qty>0){t(u+" .quantity input").val(r[o].qty);t(u+" .name").prepend(document.createTextNode(r[o].qty+"x "));t(u).show();t("#opc-payment").hasClass("active")&&t(u).click()}t(u).removeClass("add_on").addClass("add_on_readonly");t(u+" .quantity input").remove()}}var a=document.getElementById("shipping:country_id"),f=a.options[a.selectedIndex].value;if(f==="GB"){t("#opc-payment").hasClass("active")&&t(".add_on_ship-uk").click();t(".add_on_ship-uk").removeClass("add_on").addClass("add_on_readonly");t(".add_on_ship-uk").show()}else if(f==="AT"||f==="BE"||f==="DE"||f==="DK"||f==="ES"||f==="FI"||f==="FR"||f==="FO"||f==="GR"||f==="GL"||f==="IE"||f==="IT"||f==="LU"||f==="NL"||f==="PT"||f==="SE"){t("#opc-payment").hasClass("active")&&t(".add_on_ship-eu-west").click();t(".add_on_ship-eu-west").removeClass("add_on").addClass("add_on_readonly");t(".add_on_ship-eu-west").show()}else if(f==="BG"||f==="CY"||f==="CZ"||f==="EE"||f==="HU"||f==="LT"||f==="LV"||f==="MT"||f==="PL"||f==="RO"||f==="SK"||f==="SI"){t("#opc-payment").hasClass("active")&&t(".add_on_ship-eu-east").click();t(".add_on_ship-eu-east").removeClass("add_on").addClass("add_on_readonly");t(".add_on_ship-eu-east").show()}else{t("#opc-payment").hasClass("active")&&t(".add_on_ship-intl").click();t(".add_on_ship-intl").removeClass("add_on").addClass("add_on_readonly");t(".add_on_ship-intl").show()}t(".recurly .coupon .check").click(function(){var e=t("input.coupon_code").val();_kmq.push(["set",{"Coupon used":e}])})}var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string,r=e[t].prop;this.versionSearchString=e[t].versionSearch||e[t].identity;if(n){if(n.indexOf(e[t].subString)!=-1)return e[t].identity}else if(r)return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(t==-1)return;return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();(function(e){function O(e,t,n,r){var i=n.lang();return i[e].call?i[e](n,r):i[e][t]}function M(e,t){return function(n){return B(e.call(this,n),t)}}function _(e){return function(t){var n=e.call(this,t);return n+this.lang().ordinal(n)}}function D(e,t,n){this._d=e;this._isUTC=!!t;this._a=e._a||null;this._lang=n||!1}function P(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,i=e.weeks||e.w||0,s=e.days||e.d||0,o=e.hours||e.h||0,u=e.minutes||e.m||0,a=e.seconds||e.s||0,f=e.milliseconds||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5;this._days=s+i*7;this._months=r+n*12;t.milliseconds=f%1e3;a+=H(f/1e3);t.seconds=a%60;u+=H(a/60);t.minutes=u%60;o+=H(u/60);t.hours=o%24;s+=H(o/24);s+=i*7;t.days=s%30;r+=H(s/30);t.months=r%12;n+=H(r/12);t.years=n;this._lang=!1}function H(e){return e<0?Math.ceil(e):Math.floor(e)}function B(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function j(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n);i&&e.date(e.date()+i*n);if(s){o=e.date();e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth()))}}function F(e){return Object.prototype.toString.call(e)==="[object Array]"}function I(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function q(e,t,n,r){var i,s,o=[];for(i=0;i<7;i++)o[i]=e[i]=e[i]==null?i===2?1:0:e[i];e[7]=o[7]=t;e[8]!=null&&(o[8]=e[8]);e[3]+=n||0;e[4]+=r||0;s=new Date(0);if(t){s.setUTCFullYear(e[0],e[1],e[2]);s.setUTCHours(e[3],e[4],e[5],e[6])}else{s.setFullYear(e[0],e[1],e[2]);s.setHours(e[3],e[4],e[5],e[6])}s._a=o;return s}function R(e,n){var r,i,o=[];!n&&u&&(n=require("./lang/"+e));for(r=0;r<a.length;r++)n[a[r]]=n[a[r]]||s.en[a[r]];for(r=0;r<12;r++){i=t([2e3,r]);o[r]=new RegExp("^"+(n.months[r]||n.months(i,""))+"|^"+(n.monthsShort[r]||n.monthsShort(i,"")).replace(".",""),"i")}n.monthsParse=n.monthsParse||o;s[e]=n;return n}function U(e){var n=typeof e=="string"&&e||e&&e._lang||null;return n?s[n]||R(n):t}function z(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t=e.match(l),n,r;for(n=0,r=t.length;n<r;n++)A[t[n]]?t[n]=A[t[n]]:t[n]=z(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=typeof t[n].call=="function"?t[n].call(i,e):t[n];return s}}function X(e,t){function r(t){return e.lang().longDateFormat[t]||t}var n=5;while(n--&&c.test(t))t=t.replace(c,r);C[t]||(C[t]=W(t));return C[t](e)}function V(e){switch(e){case"DDDD":return v;case"YYYY":return m;case"S":case"SS":case"SSS":case"DDD":return d;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return g;case"Z":case"ZZ":return y;case"T":return b;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(e.replace("\\",""))}}function $(e,t,n,r){var i,s;switch(e){case"M":case"MM":n[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++)if(U().monthsParse[i].test(t)){n[1]=i;s=!0;break}s||(n[8]=!1);break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(n[2]=~~t);break;case"YY":n[0]=~~t+(~~t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss":n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":r.isUTC=!0;i=(t+"").match(x);i&&i[1]&&(r.tzh=~~i[1]);i&&i[2]&&(r.tzm=~~i[2]);if(i&&i[0]==="+"){r.tzh=-r.tzh;r.tzm=-r.tzm}}t==null&&(n[8]=!1)}function J(e,t){var n=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},i=t.match(l),s,o;for(s=0;s<i.length;s++){o=(V(i[s]).exec(e)||[])[0];o&&(e=e.slice(e.indexOf(o)+o.length));A[i[s]]&&$(i[s],o,n,r)}r.isPm&&n[3]<12&&(n[3]+=12);r.isPm===!1&&n[3]===12&&(n[3]=0);return q(n,r.isUTC,r.tzh,r.tzm)}function K(e,t){var n,r=e.match(h)||[],i,s=99,o,u,a;for(o=0;o<t.length;o++){u=J(e,t[o]);i=X(new D(u),t[o]).match(h)||[];a=I(r,i);if(a<s){s=a;n=u}}return n}function Q(e){var t="YYYY-MM-DDT",n;if(w.exec(e)){for(n=0;n<4;n++)if(S[n][1].exec(e)){t+=S[n][0];break}return y.exec(e)?J(e,t+" Z"):J(e,t)}return new Date(e)}function G(e,t,n,r,i){var s=i.relativeTime[e];return typeof s=="function"?s(t||1,!!n,e,r):s.replace(/%d/i,t||1)}function Y(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=i<45&&["s",i]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",r(u/30)]||a===1&&["y"]||["yy",a];f[2]=t;f[3]=e>0;f[4]=n;return G.apply({},f)}function Z(e,n){t.fn[e]=function(e){var t=this._isUTC?"UTC":"";if(e!=null){this._d["set"+t+n](e);return this}return this._d["get"+t+n]()}}function et(e){t.duration.fn[e]=function(){return this._data[e]}}function tt(e,n){t.duration.fn["as"+e]=function(){return+this/n}}var t,n="1.7.2",r=Math.round,i,s={},o="en",u=typeof module!="undefined"&&module.exports,a="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),f=/^\/?Date\((\-?\d+)/i,l=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|.)/g,c=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?)/g,h=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,p=/\d\d?/,d=/\d{1,3}/,v=/\d{3}/,m=/\d{1,4}/,g=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,y=/Z|[\+\-]\d\d:?\d\d/i,b=/T/i,w=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E="YYYY-MM-DDTHH:mm:ssZ",S=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],x=/([\+\-]|\d\d)/gi,T="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),N={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},C={},k="DDD w M D d".split(" "),L="M D H h m s w".split(" "),A={M:function(){return this.month()+1},MMM:function(e){return O("monthsShort",this.month(),this,e)},MMMM:function(e){return O("months",this.month(),this,e)},D:function(){return this.date()},DDD:function(){var e=new Date(this.year(),this.month(),this.date()),t=new Date(this.year(),0,1);return~~((e-t)/864e5+1.5)},d:function(){return this.day()},dd:function(e){return O("weekdaysMin",this.day(),this,e)},ddd:function(e){return O("weekdaysShort",this.day(),this,e)},dddd:function(e){return O("weekdays",this.day(),this,e)},w:function(){var e=new Date(this.year(),this.month(),this.date()-this.day()+5),t=new Date(e.getFullYear(),0,4);return~~((e-t)/864e5/7+1.5)},YY:function(){return B(this.year()%100,2)},YYYY:function(){return B(this.year(),4)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return B(~~(this.milliseconds()/10),2)},SSS:function(){return B(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";if(e<0){e=-e;t="-"}return t+B(~~(e/60),2)+":"+B(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";if(e<0){e=-e;t="-"}return t+B(~~(10*e/6),4)}};while(k.length){i=k.pop();A[i+"o"]=_(A[i])}while(L.length){i=L.pop();A[i+i]=M(A[i],2)}A.DDDD=M(A.DDD,3);t=function(n,r){if(n===null||n==="")return null;var i,s;if(t.isMoment(n))return new D(new Date(+n._d),n._isUTC,n._lang);if(r)F(r)?i=K(n,r):i=J(n,r);else{s=f.exec(n);i=n===e?new Date:s?new Date(+s[1]):n instanceof Date?n:F(n)?q(n):typeof n=="string"?Q(n):new Date(n)}return new D(i)};t.utc=function(e,n){if(F(e))return new D(q(e,!0),!0);if(typeof e=="string"&&!y.exec(e)){e+=" +0000";n&&(n+=" Z")}return t(e,n).utc()};t.unix=function(e){return t(e*1e3)};t.duration=function(e,n){var r=t.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;i&&(n?s[n]=e:s.milliseconds=e);o=new P(s);r&&(o._lang=e._lang);return o};t.humanizeDuration=function(e,n,r){return t.duration(e,n===!0?null:n).humanize(n===!0?!0:r)};t.version=n;t.defaultFormat=E;t.lang=function(e,n){var r;if(!e)return o;(n||!s[e])&&R(e,n);if(s[e]){for(r=0;r<a.length;r++)t[a[r]]=s[e][a[r]];t.monthsParse=s[e].monthsParse;o=e}};t.langData=U;t.isMoment=function(e){return e instanceof D};t.isDuration=function(e){return e instanceof P};t.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}});t.fn=D.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?this._a[8]!=null?!!this._a[8]:!I(this._a,(this._a[7]?t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(e){return X(this,e?e:t.defaultFormat)},add:function(e,n){var r=n?t.duration(+n,e):t.duration(e);j(this,r,1);return this},subtract:function(e,n){var r=n?t.duration(+n,e):t.duration(e);j(this,r,-1);return this},diff:function(e,n,i){var s=this._isUTC?t(e).utc():t(e).local(),o=(this.zone()-s.zone())*6e4,u=this._d-s._d-o,a=this.year()-s.year(),f=this.month()-s.month(),l=this.date()-s.date(),c;n==="months"?c=a*12+f+l/30:n==="years"?c=a+(f+l/30)/12:c=n==="seconds"?u/1e3:n==="minutes"?u/6e4:n==="hours"?u/36e5:n==="days"?u/864e5:n==="weeks"?u/6048e5:u;return i?c:r(c)},from:function(e,n){return t.duration(this.diff(e)).lang(this._lang).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().sod(),"days",!0),n=this.lang().calendar,r=n.sameElse,i=e<-6?r:e<-1?n.lastWeek:e<0?n.lastDay:e<1?n.sameDay:e<2?n.nextDay:e<7?n.nextWeek:r;return this.format(typeof i=="function"?i.apply(this):i)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},lang:function(t){if(t===e)return U(this);this._lang=t;return this}};for(i=0;i<T.length;i++)Z(T[i].toLowerCase(),T[i]);Z("year","FullYear");t.duration.fn=P.prototype={weeks:function(){return H(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=Y(t,!e,this.lang()),i=t<=0?n.past:n.future;e&&(typeof i=="function"?r=i(r):r=i.replace(/%s/i,r));return r},lang:t.fn.lang};for(i in N)if(N.hasOwnProperty(i)){tt(i,N[i]);et(i.toLowerCase())}tt("Weeks",6048e5);u&&(module.exports=t);typeof ender=="undefined"&&(this.moment=t);typeof define=="function"&&define.amd&&define("moment",[],function(){return t})}).call(this);window.Swipe=function(e,t){if(!e)return null;var n=this;this.options=t||{};this.index=this.options.startSlide||0;this.speed=this.options.speed||300;this.callback=this.options.callback||function(){};this.delay=this.options.auto||0;this.container=e;this.element=this.container.children[0];this.container.style.overflow="hidden";this.element.style.listStyle="none";this.element.style.margin=0;this.setup();this.begin();if(this.element.addEventListener){this.element.addEventListener("touchstart",this,!1);this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1);this.element.addEventListener("touchcancel",this,!1);this.element.addEventListener("webkitTransitionEnd",this,!1);this.element.addEventListener("msTransitionEnd",this,!1);this.element.addEventListener("oTransitionEnd",this,!1);this.element.addEventListener("transitionend",this,!1);window.addEventListener("resize",this,!1)}};Swipe.prototype={setup:function(){this.slides=this.element.children;this.length=this.slides.length;if(this.length<2)return null;this.width=Math.ceil("getBoundingClientRect"in this.container?this.container.getBoundingClientRect().width:this.container.offsetWidth);this.width===0&&typeof window.getComputedStyle=="function"&&(this.width=window.getComputedStyle(this.container,null).width.replace("px",""));if(!this.width)return null;this.container.style.visibility="hidden";this.element.style.width=Math.ceil(this.slides.length*this.width)+"px";var e=this.slides.length;while(e--){var t=this.slides[e];t.style.width=this.width+"px";t.style.display="table-cell";t.style.verticalAlign="top"}this.slide(this.index,0);this.container.style.visibility="visible"},slide:function(e,t){var n=this.element.style;t==undefined&&(t=this.speed);n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms";n.MozTransform=n.webkitTransform="translate3d("+ -(e*this.width)+"px,0,0)";n.msTransform=n.OTransform="translateX("+ -(e*this.width)+"px)";this.index=e},getPos:function(){return this.index},prev:function(e){this.delay=e||0;clearTimeout(this.interval);this.index&&this.slide(this.index-1,this.speed)},next:function(e){this.delay=e||0;clearTimeout(this.interval);this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},begin:function(){var e=this;this.interval=this.delay?setTimeout(function(){e.next(e.delay)},this.delay):0},stop:function(){this.delay=0;clearTimeout(this.interval)},resume:function(){this.delay=this.options.auto||0;this.begin()},handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchcancel":case"touchend":this.onTouchEnd(e);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(e);break;case"resize":this.setup()}},transitionEnd:function(e){this.delay&&this.begin();this.callback(e,this.index,this.slides[this.index])},onTouchStart:function(e){this.start={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:Number(new Date)};this.isScrolling=undefined;this.deltaX=0;this.element.style.MozTransitionDuration=this.element.style.webkitTransitionDuration=0;e.stopPropagation()},onTouchMove:function(e){if(e.touches.length>1||e.scale&&e.scale!==1)return;this.deltaX=e.touches[0].pageX-this.start.pageX;typeof this.isScrolling=="undefined"&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(e.touches[0].pageY-this.start.pageY)));if(!this.isScrolling){e.preventDefault();clearTimeout(this.interval);this.deltaX=this.deltaX/(!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?Math.abs(this.deltaX)/this.width+1:1);this.element.style.MozTransform=this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)";e.stopPropagation()}},onTouchEnd:function(e){var t=Number(new Date)-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,n=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.slide(this.index+(t&&!n?this.deltaX<0?1:-1:0),this.speed);e.stopPropagation()}};